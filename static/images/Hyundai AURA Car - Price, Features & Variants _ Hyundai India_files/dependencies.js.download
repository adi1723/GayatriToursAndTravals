/*! jQuery v2.2.1 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.1",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!k.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=R.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c);
}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.rnamespace||a.rnamespace.test(g.namespace))&&(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,
e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(void 0===a||"boolean"===c)&&(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){return n.trim(a.value)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var hb=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!hb.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,hb.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var ib=a.location,jb=n.now(),kb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+b),c};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb={},sb={},tb="*/".concat("*"),ub=d.createElement("a");ub.href=ib.href;function vb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function wb(a,b,c,d){var e={},f=a===sb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function xb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function yb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function zb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ib.href,type:"GET",isLocal:ob.test(ib.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?xb(xb(a,n.ajaxSettings),b):xb(n.ajaxSettings,a)},ajaxPrefilter:vb(rb),ajaxTransport:vb(sb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=nb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||ib.href)+"").replace(lb,"").replace(qb,ib.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=ub.protocol+"//"+ub.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),wb(rb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!pb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(kb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=mb.test(f)?f.replace(mb,"$1_="+jb++):f+(kb.test(f)?"&":"?")+"_="+jb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=wb(sb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=yb(m,x,d)),u=zb(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,(b||!y)&&(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Ab=/%20/g,Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;function Fb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Bb.test(a)?d(a,e):Fb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Fb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Fb(c,a[c],b,e);return d.join("&").replace(Ab,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Gb={0:200,1223:204},Hb=n.ajaxSettings.xhr();l.cors=!!Hb&&"withCredentials"in Hb,l.ajax=Hb=!!Hb,n.ajaxTransport(function(b){var c,d;return l.cors||Hb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Gb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Ib=[],Jb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||n.expando+"_"+jb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Jb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Jb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),l.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||(l.createHTMLDocument?d.implementation.createHTMLDocument(""):d);var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Kb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Kb)return Kb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Lb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Lb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Lb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Mb=a.jQuery,Nb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Nb),b&&a.jQuery===n&&(a.jQuery=Mb),n},b||(a.jQuery=a.$=n),n});

/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)
}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;
this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))
}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}
},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog
},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;
this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});
/*
 Copyright (C) Federico Zivolo 2018
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Popper=t()})(this,function(){'use strict';function e(e){return e&&'[object Function]'==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var o=getComputedStyle(e,null);return t?o[t]:o}function o(e){return'HTML'===e.nodeName?e:e.parentNode||e.host}function n(e){if(!e)return document.body;switch(e.nodeName){case'HTML':case'BODY':return e.ownerDocument.body;case'#document':return e.body;}var i=t(e),r=i.overflow,p=i.overflowX,s=i.overflowY;return /(auto|scroll|overlay)/.test(r+s+p)?e:n(o(e))}function r(e){return 11===e?re:10===e?pe:re||pe}function p(e){if(!e)return document.documentElement;for(var o=r(10)?document.body:null,n=e.offsetParent;n===o&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&'BODY'!==i&&'HTML'!==i?-1!==['TD','TABLE'].indexOf(n.nodeName)&&'static'===t(n,'position')?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function s(e){var t=e.nodeName;return'BODY'!==t&&('HTML'===t||p(e.firstElementChild)===e)}function d(e){return null===e.parentNode?e:d(e.parentNode)}function a(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=o?e:t,i=o?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(i,0);var l=r.commonAncestorContainer;if(e!==l&&t!==l||n.contains(i))return s(l)?l:p(l);var f=d(e);return f.host?a(f.host,t):a(e,d(t).host)}function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',o='top'===t?'scrollTop':'scrollLeft',n=e.nodeName;if('BODY'===n||'HTML'===n){var i=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||i;return r[o]}return e[o]}function f(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=l(t,'top'),i=l(t,'left'),r=o?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=i*r,e.right+=i*r,e}function m(e,t){var o='x'===t?'Left':'Top',n='Left'==o?'Right':'Bottom';return parseFloat(e['border'+o+'Width'],10)+parseFloat(e['border'+n+'Width'],10)}function h(e,t,o,n){return $(t['offset'+e],t['scroll'+e],o['client'+e],o['offset'+e],o['scroll'+e],r(10)?o['offset'+e]+n['margin'+('Height'===e?'Top':'Left')]+n['margin'+('Height'===e?'Bottom':'Right')]:0)}function c(){var e=document.body,t=document.documentElement,o=r(10)&&getComputedStyle(t);return{height:h('Height',e,t,o),width:h('Width',e,t,o)}}function g(e){return le({},e,{right:e.left+e.width,bottom:e.top+e.height})}function u(e){var o={};try{if(r(10)){o=e.getBoundingClientRect();var n=l(e,'top'),i=l(e,'left');o.top+=n,o.left+=i,o.bottom+=n,o.right+=i}else o=e.getBoundingClientRect()}catch(t){}var p={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},s='HTML'===e.nodeName?c():{},d=s.width||e.clientWidth||p.right-p.left,a=s.height||e.clientHeight||p.bottom-p.top,f=e.offsetWidth-d,h=e.offsetHeight-a;if(f||h){var u=t(e);f-=m(u,'x'),h-=m(u,'y'),p.width-=f,p.height-=h}return g(p)}function b(e,o){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=r(10),s='HTML'===o.nodeName,d=u(e),a=u(o),l=n(e),m=t(o),h=parseFloat(m.borderTopWidth,10),c=parseFloat(m.borderLeftWidth,10);i&&'HTML'===o.nodeName&&(a.top=$(a.top,0),a.left=$(a.left,0));var b=g({top:d.top-a.top-h,left:d.left-a.left-c,width:d.width,height:d.height});if(b.marginTop=0,b.marginLeft=0,!p&&s){var y=parseFloat(m.marginTop,10),w=parseFloat(m.marginLeft,10);b.top-=h-y,b.bottom-=h-y,b.left-=c-w,b.right-=c-w,b.marginTop=y,b.marginLeft=w}return(p&&!i?o.contains(l):o===l&&'BODY'!==l.nodeName)&&(b=f(b,o)),b}function y(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e.ownerDocument.documentElement,n=b(e,o),i=$(o.clientWidth,window.innerWidth||0),r=$(o.clientHeight,window.innerHeight||0),p=t?0:l(o),s=t?0:l(o,'left'),d={top:p-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:r};return g(d)}function w(e){var n=e.nodeName;return'BODY'===n||'HTML'===n?!1:'fixed'===t(e,'position')||w(o(e))}function E(e){if(!e||!e.parentElement||r())return document.documentElement;for(var o=e.parentElement;o&&'none'===t(o,'transform');)o=o.parentElement;return o||document.documentElement}function v(e,t,i,r){var p=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},d=p?E(e):a(e,t);if('viewport'===r)s=y(d,p);else{var l;'scrollParent'===r?(l=n(o(t)),'BODY'===l.nodeName&&(l=e.ownerDocument.documentElement)):'window'===r?l=e.ownerDocument.documentElement:l=r;var f=b(l,d,p);if('HTML'===l.nodeName&&!w(d)){var m=c(),h=m.height,g=m.width;s.top+=f.top-f.marginTop,s.bottom=h+f.top,s.left+=f.left-f.marginLeft,s.right=g+f.left}else s=f}return s.left+=i,s.top+=i,s.right-=i,s.bottom-=i,s}function x(e){var t=e.width,o=e.height;return t*o}function O(e,t,o,n,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf('auto'))return e;var p=v(o,n,r,i),s={top:{width:p.width,height:t.top-p.top},right:{width:p.right-t.right,height:p.height},bottom:{width:p.width,height:p.bottom-t.bottom},left:{width:t.left-p.left,height:p.height}},d=Object.keys(s).map(function(e){return le({key:e},s[e],{area:x(s[e])})}).sort(function(e,t){return t.area-e.area}),a=d.filter(function(e){var t=e.width,n=e.height;return t>=o.clientWidth&&n>=o.clientHeight}),l=0<a.length?a[0].key:d[0].key,f=e.split('-')[1];return l+(f?'-'+f:'')}function L(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=n?E(t):a(t,o);return b(o,i,n)}function S(e){var t=getComputedStyle(e),o=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight),i={width:e.offsetWidth+n,height:e.offsetHeight+o};return i}function T(e){var t={left:'right',right:'left',bottom:'top',top:'bottom'};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function C(e,t,o){o=o.split('-')[0];var n=S(e),i={width:n.width,height:n.height},r=-1!==['right','left'].indexOf(o),p=r?'top':'left',s=r?'left':'top',d=r?'height':'width',a=r?'width':'height';return i[p]=t[p]+t[d]/2-n[d]/2,i[s]=o===s?t[s]-n[a]:t[T(s)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var n=D(e,function(e){return e[t]===o});return e.indexOf(n)}function P(t,o,n){var i=void 0===n?t:t.slice(0,N(t,'name',n));return i.forEach(function(t){t['function']&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var n=t['function']||t.fn;t.enabled&&e(n)&&(o.offsets.popper=g(o.offsets.popper),o.offsets.reference=g(o.offsets.reference),o=n(o,t))}),o}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=C(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?'fixed':'absolute',e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some(function(e){var o=e.name,n=e.enabled;return n&&o===t})}function B(e){for(var t=[!1,'ms','Webkit','Moz','O'],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],r=i?''+i+o:e;if('undefined'!=typeof document.body.style[r])return r}return null}function H(){return this.state.isDestroyed=!0,W(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.position='',this.popper.style.top='',this.popper.style.left='',this.popper.style.right='',this.popper.style.bottom='',this.popper.style.willChange='',this.popper.style[B('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function A(e){var t=e.ownerDocument;return t?t.defaultView:window}function M(e,t,o,i){var r='BODY'===e.nodeName,p=r?e.ownerDocument.defaultView:e;p.addEventListener(t,o,{passive:!0}),r||M(n(p.parentNode),t,o,i),i.push(p)}function I(e,t,o,i){o.updateBound=i,A(e).addEventListener('resize',o.updateBound,{passive:!0});var r=n(e);return M(r,'scroll',o.updateBound,o.scrollParents),o.scrollElement=r,o.eventsEnabled=!0,o}function F(){this.state.eventsEnabled||(this.state=I(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return A(e).removeEventListener('resize',t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener('scroll',t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function U(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function Y(e){return''!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function j(e,t){Object.keys(t).forEach(function(o){var n='';-1!==['width','height','top','right','bottom','left'].indexOf(o)&&Y(t[o])&&(n='px'),e.style[o]=t[o]+n})}function K(e,t){Object.keys(t).forEach(function(o){var n=t[o];!1===n?e.removeAttribute(o):e.setAttribute(o,t[o])})}function q(e,t,o){var n=D(e,function(e){var o=e.name;return o===t}),i=!!n&&e.some(function(e){return e.name===o&&e.enabled&&e.order<n.order});if(!i){var r='`'+t+'`';console.warn('`'+o+'`'+' modifier is required by '+r+' modifier in order to work, be sure to include it before '+r+'!')}return i}function G(e){return'end'===e?'start':'start'===e?'end':e}function z(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=me.indexOf(e),n=me.slice(o+1).concat(me.slice(0,o));return t?n.reverse():n}function V(e,t,o,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],p=i[2];if(!r)return e;if(0===p.indexOf('%')){var s;switch(p){case'%p':s=o;break;case'%':case'%r':default:s=n;}var d=g(s);return d[t]/100*r}if('vh'===p||'vw'===p){var a;return a='vh'===p?$(document.documentElement.clientHeight,window.innerHeight||0):$(document.documentElement.clientWidth,window.innerWidth||0),a/100*r}return r}function _(e,t,o,n){var i=[0,0],r=-1!==['right','left'].indexOf(n),p=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=p.indexOf(D(p,function(e){return-1!==e.search(/,|\s/)}));p[s]&&-1===p[s].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var d=/\s*,\s*|\s+/,a=-1===s?[p]:[p.slice(0,s).concat([p[s].split(d)[0]]),[p[s].split(d)[1]].concat(p.slice(s+1))];return a=a.map(function(e,n){var i=(1===n?!r:r)?'height':'width',p=!1;return e.reduce(function(e,t){return''===e[e.length-1]&&-1!==['+','-'].indexOf(t)?(e[e.length-1]=t,p=!0,e):p?(e[e.length-1]+=t,p=!1,e):e.concat(t)},[]).map(function(e){return V(e,i,t,o)})}),a.forEach(function(e,t){e.forEach(function(o,n){Y(o)&&(i[t]+=o*('-'===e[n-1]?-1:1))})}),i}function X(e,t){var o,n=t.offset,i=e.placement,r=e.offsets,p=r.popper,s=r.reference,d=i.split('-')[0];return o=Y(+n)?[+n,0]:_(n,p,s,d),'left'===d?(p.top+=o[0],p.left-=o[1]):'right'===d?(p.top+=o[0],p.left+=o[1]):'top'===d?(p.left+=o[0],p.top-=o[1]):'bottom'===d&&(p.left+=o[0],p.top+=o[1]),e.popper=p,e}for(var J=Math.min,Q=Math.round,Z=Math.floor,$=Math.max,ee='undefined'!=typeof window&&'undefined'!=typeof document,te=['Edge','Trident','Firefox'],oe=0,ne=0;ne<te.length;ne+=1)if(ee&&0<=navigator.userAgent.indexOf(te[ne])){oe=1;break}var i=ee&&window.Promise,ie=i?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},oe))}},re=ee&&!!(window.MSInputMethodContext&&document.documentMode),pe=ee&&/MSIE 10/.test(navigator.userAgent),se=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},de=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),ae=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},le=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},fe=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],me=fe.slice(3),he={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},ce=function(){function t(o,n){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};se(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ie(this.update.bind(this)),this.options=le({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=o&&o.jquery?o[0]:o,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(le({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=le({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return le({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var p=this.options.eventsEnabled;p&&this.enableEventListeners(),this.state.eventsEnabled=p}return de(t,[{key:'update',value:function(){return k.call(this)}},{key:'destroy',value:function(){return H.call(this)}},{key:'enableEventListeners',value:function(){return F.call(this)}},{key:'disableEventListeners',value:function(){return U.call(this)}}]),t}();return ce.Utils=('undefined'==typeof window?global:window).PopperUtils,ce.placements=fe,ce.Defaults={placement:'bottom',positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split('-')[0],n=t.split('-')[1];if(n){var i=e.offsets,r=i.reference,p=i.popper,s=-1!==['bottom','top'].indexOf(o),d=s?'left':'top',a=s?'width':'height',l={start:ae({},d,r[d]),end:ae({},d,r[d]+r[a]-p[a])};e.offsets.popper=le({},p,l[n])}return e}},offset:{order:200,enabled:!0,fn:X,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||p(e.instance.popper);e.instance.reference===o&&(o=p(o));var n=B('transform'),i=e.instance.popper.style,r=i.top,s=i.left,d=i[n];i.top='',i.left='',i[n]='';var a=v(e.instance.popper,e.instance.reference,t.padding,o,e.positionFixed);i.top=r,i.left=s,i[n]=d,t.boundaries=a;var l=t.priority,f=e.offsets.popper,m={primary:function(e){var o=f[e];return f[e]<a[e]&&!t.escapeWithReference&&(o=$(f[e],a[e])),ae({},e,o)},secondary:function(e){var o='right'===e?'left':'top',n=f[o];return f[e]>a[e]&&!t.escapeWithReference&&(n=J(f[o],a[e]-('right'===e?f.width:f.height))),ae({},o,n)}};return l.forEach(function(e){var t=-1===['left','top'].indexOf(e)?'secondary':'primary';f=le({},f,m[t](e))}),e.offsets.popper=f,e},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,n=t.reference,i=e.placement.split('-')[0],r=Z,p=-1!==['top','bottom'].indexOf(i),s=p?'right':'bottom',d=p?'left':'top',a=p?'width':'height';return o[s]<r(n[d])&&(e.offsets.popper[d]=r(n[d])-o[a]),o[d]>r(n[s])&&(e.offsets.popper[d]=r(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,o){var n;if(!q(e.instance.modifiers,'arrow','keepTogether'))return e;var i=o.element;if('string'==typeof i){if(i=e.instance.popper.querySelector(i),!i)return e;}else if(!e.instance.popper.contains(i))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),e;var r=e.placement.split('-')[0],p=e.offsets,s=p.popper,d=p.reference,a=-1!==['left','right'].indexOf(r),l=a?'height':'width',f=a?'Top':'Left',m=f.toLowerCase(),h=a?'left':'top',c=a?'bottom':'right',u=S(i)[l];d[c]-u<s[m]&&(e.offsets.popper[m]-=s[m]-(d[c]-u)),d[m]+u>s[c]&&(e.offsets.popper[m]+=d[m]+u-s[c]),e.offsets.popper=g(e.offsets.popper);var b=d[m]+d[l]/2-u/2,y=t(e.instance.popper),w=parseFloat(y['margin'+f],10),E=parseFloat(y['border'+f+'Width'],10),v=b-e.offsets.popper[m]-w-E;return v=$(J(s[l]-u,v),0),e.arrowElement=i,e.offsets.arrow=(n={},ae(n,m,Q(v)),ae(n,h,''),n),e},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,'inner'))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split('-')[0],i=T(n),r=e.placement.split('-')[1]||'',p=[];switch(t.behavior){case he.FLIP:p=[n,i];break;case he.CLOCKWISE:p=z(n);break;case he.COUNTERCLOCKWISE:p=z(n,!0);break;default:p=t.behavior;}return p.forEach(function(s,d){if(n!==s||p.length===d+1)return e;n=e.placement.split('-')[0],i=T(n);var a=e.offsets.popper,l=e.offsets.reference,f=Z,m='left'===n&&f(a.right)>f(l.left)||'right'===n&&f(a.left)<f(l.right)||'top'===n&&f(a.bottom)>f(l.top)||'bottom'===n&&f(a.top)<f(l.bottom),h=f(a.left)<f(o.left),c=f(a.right)>f(o.right),g=f(a.top)<f(o.top),u=f(a.bottom)>f(o.bottom),b='left'===n&&h||'right'===n&&c||'top'===n&&g||'bottom'===n&&u,y=-1!==['top','bottom'].indexOf(n),w=!!t.flipVariations&&(y&&'start'===r&&h||y&&'end'===r&&c||!y&&'start'===r&&g||!y&&'end'===r&&u);(m||b||w)&&(e.flipped=!0,(m||b)&&(n=p[d+1]),w&&(r=G(r)),e.placement=n+(r?'-'+r:''),e.offsets.popper=le({},e.offsets.popper,C(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,'flip'))}),e},behavior:'flip',padding:5,boundariesElement:'viewport'},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split('-')[0],n=e.offsets,i=n.popper,r=n.reference,p=-1!==['left','right'].indexOf(o),s=-1===['top','left'].indexOf(o);return i[p?'left':'top']=r[o]-(s?i[p?'width':'height']:0),e.placement=T(t),e.offsets.popper=g(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,'hide','preventOverflow'))return e;var t=e.offsets.reference,o=D(e.instance.modifiers,function(e){return'preventOverflow'===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes['x-out-of-boundaries']=''}else{if(!1===e.hide)return e;e.hide=!1,e.attributes['x-out-of-boundaries']=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,n=t.y,i=e.offsets.popper,r=D(e.instance.modifiers,function(e){return'applyStyle'===e.name}).gpuAcceleration;void 0!==r&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var s,d,a=void 0===r?t.gpuAcceleration:r,l=p(e.instance.popper),f=u(l),m={position:i.position},h={left:Z(i.left),top:Q(i.top),bottom:Q(i.bottom),right:Z(i.right)},c='bottom'===o?'top':'bottom',g='right'===n?'left':'right',b=B('transform');if(d='bottom'==c?-f.height+h.bottom:h.top,s='right'==g?-f.width+h.right:h.left,a&&b)m[b]='translate3d('+s+'px, '+d+'px, 0)',m[c]=0,m[g]=0,m.willChange='transform';else{var y='bottom'==c?-1:1,w='right'==g?-1:1;m[c]=d*y,m[g]=s*w,m.willChange=c+', '+g}var E={"x-placement":e.placement};return e.attributes=le({},E,e.attributes),e.styles=le({},m,e.styles),e.arrowStyles=le({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(e){return j(e.instance.popper,e.styles),K(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&j(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,o,n,i){var r=L(i,t,e,o.positionFixed),p=O(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute('x-placement',p),j(t,{position:o.positionFixed?'fixed':'absolute'}),o},gpuAcceleration:void 0}}},ce});
//# sourceMappingURL=popper.min.js.map
/*!
  * Bootstrap v4.0.0 (https://getbootstrap.com)
  * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e(t.bootstrap={},t.jQuery,t.Popper)}(this,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var o,a,l,h,c,u,f,d,_,g,p,m,v,E,T,y,C,I,A,b,D,S,w,N,O,k,P=function(t){var e=!1;function n(e){var n=this,s=!1;return t(this).one(i.TRANSITION_END,function(){s=!0}),setTimeout(function(){s||i.triggerTransitionEnd(n)},e),this}var i={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n,i=e.getAttribute("data-target");i&&"#"!==i||(i=e.getAttribute("href")||""),"#"===i.charAt(0)&&(n=i,i=n="function"==typeof t.escapeSelector?t.escapeSelector(n).substr(1):n.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"));try{return t(document).find(i).length>0?i:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(n){t(n).trigger(e.end)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var r=n[s],o=e[s],a=o&&i.isElement(o)?"element":(l=o,{}.toString.call(l).match(/\s([a-zA-Z]+)/)[1].toLowerCase());if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+s+'" provided type "'+a+'" but expected type "'+r+'".')}var l}};return e=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},t.fn.emulateTransitionEnd=n,i.supportsTransitionEnd()&&(t.event.special[i.TRANSITION_END]={bindType:e.end,delegateType:e.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),i}(e),L=(a="alert",h="."+(l="bs.alert"),c=(o=e).fn[a],u={CLOSE:"close"+h,CLOSED:"closed"+h,CLICK_DATA_API:"click"+h+".data-api"},f="alert",d="fade",_="show",g=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){o.removeData(this._element,l),this._element=null},e._getRootElement=function(t){var e=P.getSelectorFromElement(t),n=!1;return e&&(n=o(e)[0]),n||(n=o(t).closest("."+f)[0]),n},e._triggerCloseEvent=function(t){var e=o.Event(u.CLOSE);return o(t).trigger(e),e},e._removeElement=function(t){var e=this;o(t).removeClass(_),P.supportsTransitionEnd()&&o(t).hasClass(d)?o(t).one(P.TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(150):this._destroyElement(t)},e._destroyElement=function(t){o(t).detach().trigger(u.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var n=o(this),i=n.data(l);i||(i=new t(this),n.data(l,i)),"close"===e&&i[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},s(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),o(document).on(u.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),o.fn[a]=g._jQueryInterface,o.fn[a].Constructor=g,o.fn[a].noConflict=function(){return o.fn[a]=c,g._jQueryInterface},g),R=(m="button",E="."+(v="bs.button"),T=".data-api",y=(p=e).fn[m],C="active",I="btn",A="focus",b='[data-toggle^="button"]',D='[data-toggle="buttons"]',S="input",w=".active",N=".btn",O={CLICK_DATA_API:"click"+E+T,FOCUS_BLUR_DATA_API:"focus"+E+T+" blur"+E+T},k=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=p(this._element).closest(D)[0];if(n){var i=p(this._element).find(S)[0];if(i){if("radio"===i.type)if(i.checked&&p(this._element).hasClass(C))t=!1;else{var s=p(n).find(w)[0];s&&p(s).removeClass(C)}if(t){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!p(this._element).hasClass(C),p(i).trigger("change")}i.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!p(this._element).hasClass(C)),t&&p(this._element).toggleClass(C)},e.dispose=function(){p.removeData(this._element,v),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var n=p(this).data(v);n||(n=new t(this),p(this).data(v,n)),"toggle"===e&&n[e]()})},s(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),p(document).on(O.CLICK_DATA_API,b,function(t){t.preventDefault();var e=t.target;p(e).hasClass(I)||(e=p(e).closest(N)),k._jQueryInterface.call(p(e),"toggle")}).on(O.FOCUS_BLUR_DATA_API,b,function(t){var e=p(t.target).closest(N)[0];p(e).toggleClass(A,/^focus(in)?$/.test(t.type))}),p.fn[m]=k._jQueryInterface,p.fn[m].Constructor=k,p.fn[m].noConflict=function(){return p.fn[m]=y,k._jQueryInterface},k),j=function(t){var e="carousel",n="bs.carousel",i="."+n,o=t.fn[e],a={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},l={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},h="next",c="prev",u="left",f="right",d={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load"+i+".data-api",CLICK_DATA_API:"click"+i+".data-api"},_="carousel",g="active",p="slide",m="carousel-item-right",v="carousel-item-left",E="carousel-item-next",T="carousel-item-prev",y={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},C=function(){function o(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(y.INDICATORS)[0],this._addEventListeners()}var C=o.prototype;return C.next=function(){this._isSliding||this._slide(h)},C.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},C.prev=function(){this._isSliding||this._slide(c)},C.pause=function(e){e||(this._isPaused=!0),t(this._element).find(y.NEXT_PREV)[0]&&P.supportsTransitionEnd()&&(P.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},C.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},C.to=function(e){var n=this;this._activeElement=t(this._element).find(y.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(d.SLID,function(){return n.to(e)});else{if(i===e)return this.pause(),void this.cycle();var s=e>i?h:c;this._slide(s,this._items[e])}},C.dispose=function(){t(this._element).off(i),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},C._getConfig=function(t){return t=r({},a,t),P.typeCheckConfig(e,t,l),t},C._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(d.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(d.MOUSEENTER,function(t){return e.pause(t)}).on(d.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(d.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},C._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},C._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(y.ITEM)),this._items.indexOf(e)},C._getItemByDirection=function(t,e){var n=t===h,i=t===c,s=this._getItemIndex(e),r=this._items.length-1;if((i&&0===s||n&&s===r)&&!this._config.wrap)return e;var o=(s+(t===c?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},C._triggerSlideEvent=function(e,n){var i=this._getItemIndex(e),s=this._getItemIndex(t(this._element).find(y.ACTIVE_ITEM)[0]),r=t.Event(d.SLIDE,{relatedTarget:e,direction:n,from:s,to:i});return t(this._element).trigger(r),r},C._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(y.ACTIVE).removeClass(g);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(g)}},C._slide=function(e,n){var i,s,r,o=this,a=t(this._element).find(y.ACTIVE_ITEM)[0],l=this._getItemIndex(a),c=n||a&&this._getItemByDirection(e,a),_=this._getItemIndex(c),C=Boolean(this._interval);if(e===h?(i=v,s=E,r=u):(i=m,s=T,r=f),c&&t(c).hasClass(g))this._isSliding=!1;else if(!this._triggerSlideEvent(c,r).isDefaultPrevented()&&a&&c){this._isSliding=!0,C&&this.pause(),this._setActiveIndicatorElement(c);var I=t.Event(d.SLID,{relatedTarget:c,direction:r,from:l,to:_});P.supportsTransitionEnd()&&t(this._element).hasClass(p)?(t(c).addClass(s),P.reflow(c),t(a).addClass(i),t(c).addClass(i),t(a).one(P.TRANSITION_END,function(){t(c).removeClass(i+" "+s).addClass(g),t(a).removeClass(g+" "+s+" "+i),o._isSliding=!1,setTimeout(function(){return t(o._element).trigger(I)},0)}).emulateTransitionEnd(600)):(t(a).removeClass(g),t(c).addClass(g),this._isSliding=!1,t(this._element).trigger(I)),C&&this.cycle()}},o._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n),s=r({},a,t(this).data());"object"==typeof e&&(s=r({},s,e));var l="string"==typeof e?e:s.slide;if(i||(i=new o(this,s),t(this).data(n,i)),"number"==typeof e)i.to(e);else if("string"==typeof l){if("undefined"==typeof i[l])throw new TypeError('No method named "'+l+'"');i[l]()}else s.interval&&(i.pause(),i.cycle())})},o._dataApiClickHandler=function(e){var i=P.getSelectorFromElement(this);if(i){var s=t(i)[0];if(s&&t(s).hasClass(_)){var a=r({},t(s).data(),t(this).data()),l=this.getAttribute("data-slide-to");l&&(a.interval=!1),o._jQueryInterface.call(t(s),a),l&&t(s).data(n).to(l),e.preventDefault()}}},s(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),o}();return t(document).on(d.CLICK_DATA_API,y.DATA_SLIDE,C._dataApiClickHandler),t(window).on(d.LOAD_DATA_API,function(){t(y.DATA_RIDE).each(function(){var e=t(this);C._jQueryInterface.call(e,e.data())})}),t.fn[e]=C._jQueryInterface,t.fn[e].Constructor=C,t.fn[e].noConflict=function(){return t.fn[e]=o,C._jQueryInterface},C}(e),H=function(t){var e="collapse",n="bs.collapse",i="."+n,o=t.fn[e],a={toggle:!0,parent:""},l={toggle:"boolean",parent:"(string|element)"},h={SHOW:"show"+i,SHOWN:"shown"+i,HIDE:"hide"+i,HIDDEN:"hidden"+i,CLICK_DATA_API:"click"+i+".data-api"},c="show",u="collapse",f="collapsing",d="collapsed",_="width",g="height",p={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},m=function(){function i(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=t(p.DATA_TOGGLE),s=0;s<i.length;s++){var r=i[s],o=P.getSelectorFromElement(r);null!==o&&t(o).filter(e).length>0&&(this._selector=o,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var o=i.prototype;return o.toggle=function(){t(this._element).hasClass(c)?this.hide():this.show()},o.show=function(){var e,s,r=this;if(!this._isTransitioning&&!t(this._element).hasClass(c)&&(this._parent&&0===(e=t.makeArray(t(this._parent).find(p.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(e=null),!(e&&(s=t(e).not(this._selector).data(n))&&s._isTransitioning))){var o=t.Event(h.SHOW);if(t(this._element).trigger(o),!o.isDefaultPrevented()){e&&(i._jQueryInterface.call(t(e).not(this._selector),"hide"),s||t(e).data(n,null));var a=this._getDimension();t(this._element).removeClass(u).addClass(f),this._element.style[a]=0,this._triggerArray.length>0&&t(this._triggerArray).removeClass(d).attr("aria-expanded",!0),this.setTransitioning(!0);var l=function(){t(r._element).removeClass(f).addClass(u).addClass(c),r._element.style[a]="",r.setTransitioning(!1),t(r._element).trigger(h.SHOWN)};if(P.supportsTransitionEnd()){var _="scroll"+(a[0].toUpperCase()+a.slice(1));t(this._element).one(P.TRANSITION_END,l).emulateTransitionEnd(600),this._element.style[a]=this._element[_]+"px"}else l()}}},o.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(c)){var n=t.Event(h.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();if(this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",P.reflow(this._element),t(this._element).addClass(f).removeClass(u).removeClass(c),this._triggerArray.length>0)for(var s=0;s<this._triggerArray.length;s++){var r=this._triggerArray[s],o=P.getSelectorFromElement(r);if(null!==o)t(o).hasClass(c)||t(r).addClass(d).attr("aria-expanded",!1)}this.setTransitioning(!0);var a=function(){e.setTransitioning(!1),t(e._element).removeClass(f).addClass(u).trigger(h.HIDDEN)};this._element.style[i]="",P.supportsTransitionEnd()?t(this._element).one(P.TRANSITION_END,a).emulateTransitionEnd(600):a()}}},o.setTransitioning=function(t){this._isTransitioning=t},o.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},o._getConfig=function(t){return(t=r({},a,t)).toggle=Boolean(t.toggle),P.typeCheckConfig(e,t,l),t},o._getDimension=function(){return t(this._element).hasClass(_)?_:g},o._getParent=function(){var e=this,n=null;P.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=t(this._config.parent)[0];var s='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(s).each(function(t,n){e._addAriaAndCollapsedClass(i._getTargetFromElement(n),[n])}),n},o._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(c);n.length>0&&t(n).toggleClass(d,!i).attr("aria-expanded",i)}},i._getTargetFromElement=function(e){var n=P.getSelectorFromElement(e);return n?t(n)[0]:null},i._jQueryInterface=function(e){return this.each(function(){var s=t(this),o=s.data(n),l=r({},a,s.data(),"object"==typeof e&&e);if(!o&&l.toggle&&/show|hide/.test(e)&&(l.toggle=!1),o||(o=new i(this,l),s.data(n,o)),"string"==typeof e){if("undefined"==typeof o[e])throw new TypeError('No method named "'+e+'"');o[e]()}})},s(i,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),i}();return t(document).on(h.CLICK_DATA_API,p.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var i=t(this),s=P.getSelectorFromElement(this);t(s).each(function(){var e=t(this),s=e.data(n)?"toggle":i.data();m._jQueryInterface.call(e,s)})}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=o,m._jQueryInterface},m}(e),W=function(t){var e="dropdown",i="bs.dropdown",o="."+i,a=".data-api",l=t.fn[e],h=new RegExp("38|40|27"),c={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click"+o+a,KEYDOWN_DATA_API:"keydown"+o+a,KEYUP_DATA_API:"keyup"+o+a},u="disabled",f="show",d="dropup",_="dropright",g="dropleft",p="dropdown-menu-right",m="dropdown-menu-left",v="position-static",E='[data-toggle="dropdown"]',T=".dropdown form",y=".dropdown-menu",C=".navbar-nav",I=".dropdown-menu .dropdown-item:not(.disabled)",A="top-start",b="top-end",D="bottom-start",S="bottom-end",w="right-start",N="left-start",O={offset:0,flip:!0,boundary:"scrollParent"},k={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},L=function(){function a(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var l=a.prototype;return l.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(u)){var e=a._getParentFromElement(this._element),i=t(this._menu).hasClass(f);if(a._clearMenus(),!i){var s={relatedTarget:this._element},r=t.Event(c.SHOW,s);if(t(e).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var o=this._element;t(e).hasClass(d)&&(t(this._menu).hasClass(m)||t(this._menu).hasClass(p))&&(o=e),"scrollParent"!==this._config.boundary&&t(e).addClass(v),this._popper=new n(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(e).closest(C).length&&t("body").children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(f),t(e).toggleClass(f).trigger(t.Event(c.SHOWN,s))}}}},l.dispose=function(){t.removeData(this._element,i),t(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},l.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},l._addEventListeners=function(){var e=this;t(this._element).on(c.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},l._getConfig=function(n){return n=r({},this.constructor.Default,t(this._element).data(),n),P.typeCheckConfig(e,n,this.constructor.DefaultType),n},l._getMenuElement=function(){if(!this._menu){var e=a._getParentFromElement(this._element);this._menu=t(e).find(y)[0]}return this._menu},l._getPlacement=function(){var e=t(this._element).parent(),n=D;return e.hasClass(d)?(n=A,t(this._menu).hasClass(p)&&(n=b)):e.hasClass(_)?n=w:e.hasClass(g)?n=N:t(this._menu).hasClass(p)&&(n=S),n},l._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},l._getPopperConfig=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},a._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(i);if(n||(n=new a(this,"object"==typeof e?e:null),t(this).data(i,n)),"string"==typeof e){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},a._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=t.makeArray(t(E)),s=0;s<n.length;s++){var r=a._getParentFromElement(n[s]),o=t(n[s]).data(i),l={relatedTarget:n[s]};if(o){var h=o._menu;if(t(r).hasClass(f)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(r,e.target))){var u=t.Event(c.HIDE,l);t(r).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),n[s].setAttribute("aria-expanded","false"),t(h).removeClass(f),t(r).removeClass(f).trigger(t.Event(c.HIDDEN,l)))}}}},a._getParentFromElement=function(e){var n,i=P.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},a._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||t(e.target).closest(y).length)):h.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!t(this).hasClass(u))){var n=a._getParentFromElement(this),i=t(n).hasClass(f);if((i||27===e.which&&32===e.which)&&(!i||27!==e.which&&32!==e.which)){var s=t(n).find(I).get();if(0!==s.length){var r=s.indexOf(e.target);38===e.which&&r>0&&r--,40===e.which&&r<s.length-1&&r++,r<0&&(r=0),s[r].focus()}}else{if(27===e.which){var o=t(n).find(E)[0];t(o).trigger("focus")}t(this).trigger("click")}}},s(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return O}},{key:"DefaultType",get:function(){return k}}]),a}();return t(document).on(c.KEYDOWN_DATA_API,E,L._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,y,L._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.KEYUP_DATA_API,L._clearMenus).on(c.CLICK_DATA_API,E,function(e){e.preventDefault(),e.stopPropagation(),L._jQueryInterface.call(t(this),"toggle")}).on(c.CLICK_DATA_API,T,function(t){t.stopPropagation()}),t.fn[e]=L._jQueryInterface,t.fn[e].Constructor=L,t.fn[e].noConflict=function(){return t.fn[e]=l,L._jQueryInterface},L}(e),M=function(t){var e="modal",n="bs.modal",i="."+n,o=t.fn.modal,a={backdrop:!0,keyboard:!0,focus:!0,show:!0},l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},h={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,FOCUSIN:"focusin"+i,RESIZE:"resize"+i,CLICK_DISMISS:"click.dismiss"+i,KEYDOWN_DISMISS:"keydown.dismiss"+i,MOUSEUP_DISMISS:"mouseup.dismiss"+i,MOUSEDOWN_DISMISS:"mousedown.dismiss"+i,CLICK_DATA_API:"click"+i+".data-api"},c="modal-scrollbar-measure",u="modal-backdrop",f="modal-open",d="fade",_="show",g={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},p=function(){function o(e,n){this._config=this._getConfig(n),this._element=e,this._dialog=t(e).find(g.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var p=o.prototype;return p.toggle=function(t){return this._isShown?this.hide():this.show(t)},p.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){P.supportsTransitionEnd()&&t(this._element).hasClass(d)&&(this._isTransitioning=!0);var i=t.Event(h.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(f),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(h.CLICK_DISMISS,g.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(h.MOUSEDOWN_DISMISS,function(){t(n._element).one(h.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},p.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=t.Event(h.HIDE);if(t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var s=P.supportsTransitionEnd()&&t(this._element).hasClass(d);s&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(h.FOCUSIN),t(this._element).removeClass(_),t(this._element).off(h.CLICK_DISMISS),t(this._dialog).off(h.MOUSEDOWN_DISMISS),s?t(this._element).one(P.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal()}}},p.dispose=function(){t.removeData(this._element,n),t(window,document,this._element,this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},p.handleUpdate=function(){this._adjustDialog()},p._getConfig=function(t){return t=r({},a,t),P.typeCheckConfig(e,t,l),t},p._showElement=function(e){var n=this,i=P.supportsTransitionEnd()&&t(this._element).hasClass(d);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&P.reflow(this._element),t(this._element).addClass(_),this._config.focus&&this._enforceFocus();var s=t.Event(h.SHOWN,{relatedTarget:e}),r=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(s)};i?t(this._dialog).one(P.TRANSITION_END,r).emulateTransitionEnd(300):r()},p._enforceFocus=function(){var e=this;t(document).off(h.FOCUSIN).on(h.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},p._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(h.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(h.KEYDOWN_DISMISS)},p._setResizeEvent=function(){var e=this;this._isShown?t(window).on(h.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(h.RESIZE)},p._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(f),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(h.HIDDEN)})},p._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},p._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(d)?d:"";if(this._isShown&&this._config.backdrop){var s=P.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=u,i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(h.CLICK_DISMISS,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),s&&P.reflow(this._backdrop),t(this._backdrop).addClass(_),!e)return;if(!s)return void e();t(this._backdrop).one(P.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(_);var r=function(){n._removeBackdrop(),e&&e()};P.supportsTransitionEnd()&&t(this._element).hasClass(d)?t(this._backdrop).one(P.TRANSITION_END,r).emulateTransitionEnd(150):r()}else e&&e()},p._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},p._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},p._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},p._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){t(g.FIXED_CONTENT).each(function(n,i){var s=t(i)[0].style.paddingRight,r=t(i).css("padding-right");t(i).data("padding-right",s).css("padding-right",parseFloat(r)+e._scrollbarWidth+"px")}),t(g.STICKY_CONTENT).each(function(n,i){var s=t(i)[0].style.marginRight,r=t(i).css("margin-right");t(i).data("margin-right",s).css("margin-right",parseFloat(r)-e._scrollbarWidth+"px")}),t(g.NAVBAR_TOGGLER).each(function(n,i){var s=t(i)[0].style.marginRight,r=t(i).css("margin-right");t(i).data("margin-right",s).css("margin-right",parseFloat(r)+e._scrollbarWidth+"px")});var n=document.body.style.paddingRight,i=t("body").css("padding-right");t("body").data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},p._resetScrollbar=function(){t(g.FIXED_CONTENT).each(function(e,n){var i=t(n).data("padding-right");"undefined"!=typeof i&&t(n).css("padding-right",i).removeData("padding-right")}),t(g.STICKY_CONTENT+", "+g.NAVBAR_TOGGLER).each(function(e,n){var i=t(n).data("margin-right");"undefined"!=typeof i&&t(n).css("margin-right",i).removeData("margin-right")});var e=t("body").data("padding-right");"undefined"!=typeof e&&t("body").css("padding-right",e).removeData("padding-right")},p._getScrollbarWidth=function(){var t=document.createElement("div");t.className=c,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},o._jQueryInterface=function(e,i){return this.each(function(){var s=t(this).data(n),a=r({},o.Default,t(this).data(),"object"==typeof e&&e);if(s||(s=new o(this,a),t(this).data(n,s)),"string"==typeof e){if("undefined"==typeof s[e])throw new TypeError('No method named "'+e+'"');s[e](i)}else a.show&&s.show(i)})},s(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),o}();return t(document).on(h.CLICK_DATA_API,g.DATA_TOGGLE,function(e){var i,s=this,o=P.getSelectorFromElement(this);o&&(i=t(o)[0]);var a=t(i).data(n)?"toggle":r({},t(i).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(i).one(h.SHOW,function(e){e.isDefaultPrevented()||l.one(h.HIDDEN,function(){t(s).is(":visible")&&s.focus()})});p._jQueryInterface.call(t(i),a,this)}),t.fn.modal=p._jQueryInterface,t.fn.modal.Constructor=p,t.fn.modal.noConflict=function(){return t.fn.modal=o,p._jQueryInterface},p}(e),U=function(t){var e="tooltip",i="bs.tooltip",o="."+i,a=t.fn[e],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),h={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},c={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},u={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},f="show",d="out",_={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,INSERTED:"inserted"+o,CLICK:"click"+o,FOCUSIN:"focusin"+o,FOCUSOUT:"focusout"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o},g="fade",p="show",m=".tooltip-inner",v=".arrow",E="hover",T="focus",y="click",C="manual",I=function(){function a(t,e){if("undefined"==typeof n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var I=a.prototype;return I.enable=function(){this._isEnabled=!0},I.disable=function(){this._isEnabled=!1},I.toggleEnabled=function(){this._isEnabled=!this._isEnabled},I.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(p))return void this._leave(null,this);this._enter(null,this)}},I.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},I.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(i);var s=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!s)return;var r=this.getTipElement(),o=P.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&t(r).addClass(g);var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,h=this._getAttachment(l);this.addAttachmentClass(h);var c=!1===this.config.container?document.body:t(this.config.container);t(r).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(r).appendTo(c),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,r,{placement:h,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:v},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(r).addClass(p),"ontouchstart"in document.documentElement&&t("body").children().on("mouseover",null,t.noop);var u=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===d&&e._leave(null,e)};P.supportsTransitionEnd()&&t(this.tip).hasClass(g)?t(this.tip).one(P.TRANSITION_END,u).emulateTransitionEnd(a._TRANSITION_DURATION):u()}},I.hide=function(e){var n=this,i=this.getTipElement(),s=t.Event(this.constructor.Event.HIDE),r=function(){n._hoverState!==f&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};t(this.element).trigger(s),s.isDefaultPrevented()||(t(i).removeClass(p),"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),this._activeTrigger[y]=!1,this._activeTrigger[T]=!1,this._activeTrigger[E]=!1,P.supportsTransitionEnd()&&t(this.tip).hasClass(g)?t(i).one(P.TRANSITION_END,r).emulateTransitionEnd(150):r(),this._hoverState="")},I.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},I.isWithContent=function(){return Boolean(this.getTitle())},I.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},I.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},I.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(m),this.getTitle()),e.removeClass(g+" "+p)},I.setElementContent=function(e,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[i?"html":"text"](n)},I.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},I._getAttachment=function(t){return c[t.toUpperCase()]},I._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==C){var i=n===E?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,s=n===E?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(s,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},I._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},I._enter=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?T:E]=!0),t(n.getTipElement()).hasClass(p)||n._hoverState===f?n._hoverState=f:(clearTimeout(n._timeout),n._hoverState=f,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===f&&n.show()},n.config.delay.show):n.show())},I._leave=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?T:E]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=d,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===d&&n.hide()},n.config.delay.hide):n.hide())},I._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},I._getConfig=function(n){return"number"==typeof(n=r({},this.constructor.Default,t(this.element).data(),n)).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),P.typeCheckConfig(e,n,this.constructor.DefaultType),n},I._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},I._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(l);null!==n&&n.length>0&&e.removeClass(n.join(""))},I._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},I._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(g),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},a._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(i),s="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new a(this,s),t(this).data(i,n)),"string"==typeof e)){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},s(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return u}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return i}},{key:"Event",get:function(){return _}},{key:"EVENT_KEY",get:function(){return o}},{key:"DefaultType",get:function(){return h}}]),a}();return t.fn[e]=I._jQueryInterface,t.fn[e].Constructor=I,t.fn[e].noConflict=function(){return t.fn[e]=a,I._jQueryInterface},I}(e),x=function(t){var e="popover",n="bs.popover",i="."+n,o=t.fn[e],a=new RegExp("(^|\\s)bs-popover\\S+","g"),l=r({},U.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),h=r({},U.DefaultType,{content:"(string|element|function)"}),c="fade",u="show",f=".popover-header",d=".popover-body",_={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},g=function(r){var o,g;function p(){return r.apply(this,arguments)||this}g=r,(o=p).prototype=Object.create(g.prototype),o.prototype.constructor=o,o.__proto__=g;var m=p.prototype;return m.isWithContent=function(){return this.getTitle()||this._getContent()},m.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},m.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},m.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(f),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(d),n),e.removeClass(c+" "+u)},m._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},m._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(a);null!==n&&n.length>0&&e.removeClass(n.join(""))},p._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n),s="object"==typeof e?e:null;if((i||!/destroy|hide/.test(e))&&(i||(i=new p(this,s),t(this).data(n,i)),"string"==typeof e)){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},s(p,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return l}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return _}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return h}}]),p}(U);return t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=o,g._jQueryInterface},g}(e),K=function(t){var e="scrollspy",n="bs.scrollspy",i="."+n,o=t.fn[e],a={offset:10,method:"auto",target:""},l={offset:"number",method:"string",target:"(string|element)"},h={ACTIVATE:"activate"+i,SCROLL:"scroll"+i,LOAD_DATA_API:"load"+i+".data-api"},c="dropdown-item",u="active",f={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},d="offset",_="position",g=function(){function o(e,n){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+f.NAV_LINKS+","+this._config.target+" "+f.LIST_ITEMS+","+this._config.target+" "+f.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(h.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var g=o.prototype;return g.refresh=function(){var e=this,n=this._scrollElement===this._scrollElement.window?d:_,i="auto"===this._config.method?n:this._config.method,s=i===_?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n,r=P.getSelectorFromElement(e);if(r&&(n=t(r)[0]),n){var o=n.getBoundingClientRect();if(o.width||o.height)return[t(n)[i]().top+s,r]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},g.dispose=function(){t.removeData(this._element,n),t(this._scrollElement).off(i),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},g._getConfig=function(n){if("string"!=typeof(n=r({},a,n)).target){var i=t(n.target).attr("id");i||(i=P.getUID(e),t(n.target).attr("id",i)),n.target="#"+i}return P.typeCheckConfig(e,n,l),n},g._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},g._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},g._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},g._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var s=this._offsets.length;s--;){this._activeTarget!==this._targets[s]&&t>=this._offsets[s]&&("undefined"==typeof this._offsets[s+1]||t<this._offsets[s+1])&&this._activate(this._targets[s])}}},g._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=t(n.join(","));i.hasClass(c)?(i.closest(f.DROPDOWN).find(f.DROPDOWN_TOGGLE).addClass(u),i.addClass(u)):(i.addClass(u),i.parents(f.NAV_LIST_GROUP).prev(f.NAV_LINKS+", "+f.LIST_ITEMS).addClass(u),i.parents(f.NAV_LIST_GROUP).prev(f.NAV_ITEMS).children(f.NAV_LINKS).addClass(u)),t(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:e})},g._clear=function(){t(this._selector).filter(f.ACTIVE).removeClass(u)},o._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n);if(i||(i=new o(this,"object"==typeof e&&e),t(this).data(n,i)),"string"==typeof e){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},s(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),o}();return t(window).on(h.LOAD_DATA_API,function(){for(var e=t.makeArray(t(f.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);g._jQueryInterface.call(i,i.data())}}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=o,g._jQueryInterface},g}(e),V=function(t){var e="bs.tab",n="."+e,i=t.fn.tab,r={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK_DATA_API:"click.bs.tab.data-api"},o="dropdown-menu",a="active",l="disabled",h="fade",c="show",u=".dropdown",f=".nav, .list-group",d=".active",_="> li > .active",g='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',p=".dropdown-toggle",m="> .dropdown-menu .active",v=function(){function n(t){this._element=t}var i=n.prototype;return i.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(a)||t(this._element).hasClass(l))){var n,i,s=t(this._element).closest(f)[0],o=P.getSelectorFromElement(this._element);if(s){var h="UL"===s.nodeName?_:d;i=(i=t.makeArray(t(s).find(h)))[i.length-1]}var c=t.Event(r.HIDE,{relatedTarget:this._element}),u=t.Event(r.SHOW,{relatedTarget:i});if(i&&t(i).trigger(c),t(this._element).trigger(u),!u.isDefaultPrevented()&&!c.isDefaultPrevented()){o&&(n=t(o)[0]),this._activate(this._element,s);var g=function(){var n=t.Event(r.HIDDEN,{relatedTarget:e._element}),s=t.Event(r.SHOWN,{relatedTarget:i});t(i).trigger(n),t(e._element).trigger(s)};n?this._activate(n,n.parentNode,g):g()}}},i.dispose=function(){t.removeData(this._element,e),this._element=null},i._activate=function(e,n,i){var s=this,r=("UL"===n.nodeName?t(n).find(_):t(n).children(d))[0],o=i&&P.supportsTransitionEnd()&&r&&t(r).hasClass(h),a=function(){return s._transitionComplete(e,r,i)};r&&o?t(r).one(P.TRANSITION_END,a).emulateTransitionEnd(150):a()},i._transitionComplete=function(e,n,i){if(n){t(n).removeClass(c+" "+a);var s=t(n.parentNode).find(m)[0];s&&t(s).removeClass(a),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(a),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),P.reflow(e),t(e).addClass(c),e.parentNode&&t(e.parentNode).hasClass(o)){var r=t(e).closest(u)[0];r&&t(r).find(p).addClass(a),e.setAttribute("aria-expanded",!0)}i&&i()},n._jQueryInterface=function(i){return this.each(function(){var s=t(this),r=s.data(e);if(r||(r=new n(this),s.data(e,r)),"string"==typeof i){if("undefined"==typeof r[i])throw new TypeError('No method named "'+i+'"');r[i]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),n}();return t(document).on(r.CLICK_DATA_API,g,function(e){e.preventDefault(),v._jQueryInterface.call(t(this),"show")}),t.fn.tab=v._jQueryInterface,t.fn.tab.Constructor=v,t.fn.tab.noConflict=function(){return t.fn.tab=i,v._jQueryInterface},v}(e);!function(t){if("undefined"==typeof t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=P,t.Alert=L,t.Button=R,t.Carousel=j,t.Collapse=H,t.Dropdown=W,t.Modal=M,t.Popover=x,t.Scrollspy=K,t.Tab=V,t.Tooltip=U,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=bootstrap.min.js.map
/*
 * jQuery FlexSlider v2.6.4
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */!function($){var e=!0;$.flexslider=function(t,a){var n=$(t);n.vars=$.extend({},$.flexslider.defaults,a);var i=n.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,o="click touchend MSPointerUp keyup",l="",c,d="vertical"===n.vars.direction,u=n.vars.reverse,v=n.vars.itemWidth>0,p="fade"===n.vars.animation,m=""!==n.vars.asNavFor,f={};$.data(t,"flexslider",n),f={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=$(n.vars.selector,n),n.container=$(n.containerSelector,n),n.count=n.slides.length,n.syncExists=$(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=d?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in t)if(void 0!==e.style[t[a]])return n.pfx=t[a].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),n.ensureAnimationEnd="",""!==n.vars.controlsContainer&&(n.controlsContainer=$(n.vars.controlsContainer).length>0&&$(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=$(n.vars.manualControls).length>0&&$(n.vars.manualControls)),""!==n.vars.customDirectionNav&&(n.customDirectionNav=2===$(n.vars.customDirectionNav).length&&$(n.vars.customDirectionNav)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&f.controlNav.setup(),n.vars.directionNav&&f.directionNav.setup(),n.vars.keyboard&&(1===$(n.containerSelector).length||n.vars.multipleKeyboard)&&$(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var a=39===t?n.getTarget("next"):37===t&&n.getTarget("prev");n.flexAnimate(a,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t,a,i){e.preventDefault();var r=t<0?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(r,n.vars.pauseOnAction)}),n.vars.pausePlay&&f.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&f.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),m&&f.asNav.setup(),s&&n.vars.touch&&f.touch(),(!p||p&&n.vars.smoothHeight)&&$(window).bind("resize orientationchange focus",f.resize()),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(i+"active-slide").eq(n.currentItem).addClass(i+"active-slide"),r?(t._slider=n,n.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=$(this),a=t.index();$(n.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(o,function(e){e.preventDefault();var t=$(this),a=t.index();t.offset().left-$(n).scrollLeft()<=0&&t.hasClass(i+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):$(n.vars.asNavFor).data("flexslider").animating||t.hasClass(i+"active-slide")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var e="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",t=1,a,r;if(n.controlNavScaffold=$('<ol class="'+i+"control-nav "+i+e+'"></ol>'),n.pagingCount>1)for(var s=0;s<n.pagingCount;s++){r=n.slides.eq(s),void 0===r.attr("data-thumb-alt")&&r.attr("data-thumb-alt","");var c=""!==r.attr("data-thumb-alt")?c=' alt="'+r.attr("data-thumb-alt")+'"':"";if(a="thumbnails"===n.vars.controlNav?'<img src="'+r.attr("data-thumb")+'"'+c+"/>":'<a href="#">'+t+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var d=r.attr("data-thumbcaption");""!==d&&void 0!==d&&(a+='<span class="'+i+'caption">'+d+"</span>")}n.controlNavScaffold.append("<li>"+a+"</li>"),t++}n.controlsContainer?$(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),n.controlNavScaffold.delegate("a, img",o,function(e){if(e.preventDefault(),""===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+"active")||(n.direction=a>n.currentSlide?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===l&&(l=e.type),f.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,f.controlNav.active(),n.controlNav.bind(o,function(e){if(e.preventDefault(),""===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+"active")||(a>n.currentSlide?n.direction="next":n.direction="prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===l&&(l=e.type),f.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=$("."+i+"control-nav li "+e,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(i+"active").eq(n.animatingTo).addClass(i+"active")},update:function(e,t){n.pagingCount>1&&"add"===e?n.controlNavScaffold.append($('<li><a href="#">'+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(t).closest("li").remove(),f.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(t,e):f.controlNav.active()}},directionNav:{setup:function(){var e=$('<ul class="'+i+'direction-nav"><li class="'+i+'nav-prev"><a class="'+i+'prev" href="#">'+n.vars.prevText+'</a></li><li class="'+i+'nav-next"><a class="'+i+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.customDirectionNav?n.directionNav=n.customDirectionNav:n.controlsContainer?($(n.controlsContainer).append(e),n.directionNav=$("."+i+"direction-nav li a",n.controlsContainer)):(n.append(e),n.directionNav=$("."+i+"direction-nav li a",n)),f.directionNav.update(),n.directionNav.bind(o,function(e){e.preventDefault();var t;""!==l&&l!==e.type||(t=$(this).hasClass(i+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(t,n.vars.pauseOnAction)),""===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=$('<div class="'+i+'pauseplay"><a href="#"></a></div>');n.controlsContainer?(n.controlsContainer.append(e),n.pausePlay=$("."+i+"pauseplay a",n.controlsContainer)):(n.append(e),n.pausePlay=$("."+i+"pauseplay a",n)),f.pausePlay.update(n.vars.slideshow?i+"pause":i+"play"),n.pausePlay.bind(o,function(e){e.preventDefault(),""!==l&&l!==e.type||($(this).hasClass(i+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(i+"pause").addClass(i+"play").html(n.vars.playText):n.pausePlay.removeClass(i+"play").addClass(i+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),T=0,c=d?n.h:n.w,f=Number(new Date),l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c)}function a(e){e.stopPropagation();var a=e.target._slider;if(a){var n=-e.translationX,i=-e.translationY;if(T+=d?i:n,m=T,y=d?Math.abs(T)<Math.abs(-n):Math.abs(T)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){t._gesture.stop()});(!y||Number(new Date)-f>500)&&(e.preventDefault(),!p&&a.transitions&&(a.vars.animationLoop||(m=T/(0===a.currentSlide&&T<0||a.currentSlide===a.last&&T>0?Math.abs(T)/c+2:1)),a.setProps(l+m,"setTouch")))}}function i(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==m){var a=u?-m:m,n=a>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(n)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?t.flexAnimate(n,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}s=null,o=null,m=null,l=null,T=0}}var s,o,l,c,m,f,g,h,S,y=!1,x=0,b=0,T=0;r?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",e,!1),t._slider=n,t.addEventListener("MSGestureChange",a,!1),t.addEventListener("MSGestureEnd",i,!1)):(g=function(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),c=d?n.h:n.w,f=Number(new Date),x=e.touches[0].pageX,b=e.touches[0].pageY,l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c,s=d?b:x,o=d?x:b,t.addEventListener("touchmove",h,!1),t.addEventListener("touchend",S,!1))},h=function(e){x=e.touches[0].pageX,b=e.touches[0].pageY,m=d?s-b:s-x,y=d?Math.abs(m)<Math.abs(x-o):Math.abs(m)<Math.abs(b-o);var t=500;(!y||Number(new Date)-f>500)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(m/=0===n.currentSlide&&m<0||n.currentSlide===n.last&&m>0?Math.abs(m)/c+2:1),n.setProps(l+m,"setTouch")))},S=function(e){if(t.removeEventListener("touchmove",h,!1),n.animatingTo===n.currentSlide&&!y&&null!==m){var a=u?-m:m,i=a>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(i)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?n.flexAnimate(i,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",S,!1),s=null,o=null,m=null,l=null},t.addEventListener("touchstart",g,!1))},resize:function(){!n.animating&&n.is(":visible")&&(v||n.doMath(),p?f.smoothHeight():v?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):d?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&f.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).innerHeight()},e):t.innerHeight(n.slides.eq(n.animatingTo).innerHeight())}},sync:function(e){var t=$(n.vars.sync).data("flexslider"),a=n.animatingTo;switch(e){case"animate":t.flexAnimate(a,n.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause();break}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=$(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var e=f.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){f.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){var e=f.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(c),c=setTimeout(function(){l=""},3e3)}},n.flexAnimate=function(e,t,a,r,o){if(n.vars.animationLoop||e===n.currentSlide||(n.direction=e>n.currentSlide?"next":"prev"),m&&1===n.pagingCount&&(n.direction=n.currentItem<e?"next":"prev"),!n.animating&&(n.canAdvance(e,o)||a)&&n.is(":visible")){if(m&&r){var l=$(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===e||e===n.count-1,l.flexAnimate(e,!0,!1,!0,o),n.direction=n.currentItem<e?"next":"prev",l.direction=n.direction,Math.ceil((e+1)/n.visible)-1===n.currentSlide||0===e)return n.currentItem=e,n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),!1;n.currentItem=e,n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),e=Math.floor(e/n.visible)}if(n.animating=!0,n.animatingTo=e,t&&n.pause(),n.vars.before(n),n.syncExists&&!o&&f.sync("animate"),n.vars.controlNav&&f.controlNav.active(),v||n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),n.atEnd=0===e||e===n.last,n.vars.directionNav&&f.directionNav.update(),e===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)s?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(e).css({opacity:1,zIndex:2}),n.wrapup(c)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(e).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var c=d?n.slides.filter(":first").height():n.computedW,g,h,S;v?(g=n.vars.itemMargin,S=(n.itemW+g)*n.move*n.animatingTo,h=S>n.limit&&1!==n.visible?n.limit:S):h=0===n.currentSlide&&e===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?u?(n.count+n.cloneOffset)*c:0:n.currentSlide===n.last&&0===e&&n.vars.animationLoop&&"prev"!==n.direction?u?0:(n.count+1)*c:u?(n.count-1-e+n.cloneOffset)*c:(e+n.cloneOffset)*c,n.setProps(h,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(c)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(c)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(c)})}n.vars.smoothHeight&&f.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){p||v||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&e&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&f.pausePlay.update("play"),n.syncExists&&f.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&f.pausePlay.update("pause"),n.syncExists&&f.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var a=m?n.pagingCount-1:n.last;return!!t||(!(!m||n.currentItem!==n.count-1||0!==e||"prev"!==n.direction)||(!m||0!==n.currentItem||e!==n.pagingCount-1||"next"===n.direction)&&(!(e===n.currentSlide&&!m)&&(!!n.vars.animationLoop||(!n.atEnd||0!==n.currentSlide||e!==a||"next"===n.direction)&&(!n.atEnd||n.currentSlide!==a||0!==e||"next"!==n.direction))))},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,a){var i=function(){var a=e||(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo;return-1*function(){if(v)return"setTouch"===t?e:u&&n.animatingTo===n.last?0:u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:a;switch(t){case"setTotal":return u?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return u?e:n.count*e;case"jumpStart":return u?n.count*e:e;default:return e}}()+"px"}();n.transitions&&(i=d?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",a=void 0!==a?a/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",a),n.container.css("transition-duration",a)),n.args[n.prop]=i,(n.transitions||void 0===a)&&n.container.css(n.args),n.container.css("transform",i)},n.setup=function(e){if(p)n.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===e&&(s?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&f.smoothHeight();else{var t,a;"init"===e&&(n.viewport=$('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,u&&(a=$.makeArray(n.slides).reverse(),n.slides=$(a),n.container.empty().append(n.slides))),n.vars.animationLoop&&!v&&(n.cloneCount=2,n.cloneOffset=1,"init"!==e&&n.container.find(".clone").remove(),n.container.append(f.uniqueID(n.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(n.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),n.newSlides=$(n.vars.selector,n),t=u?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,d&&!v?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(t*n.h,"init")},"init"===e?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(t*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,marginRight:n.computedM,float:"left",display:"block"}),n.vars.smoothHeight&&f.smoothHeight()},"init"===e?100:0))}v||n.slides.removeClass(i+"active-slide").eq(n.currentSlide).addClass(i+"active-slide"),n.vars.init(n)},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,a=n.vars.minItems,i=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),v?(n.itemT=n.vars.itemWidth+t,n.itemM=t,n.minW=a?a*n.itemT:n.w,n.maxW=i?i*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(a-1))/a:n.maxW<n.w?(n.w-t*(i-1))/i:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.itemM=t,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding,n.computedM=n.itemM},n.update=function(e,t){n.doMath(),v||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!v||n.pagingCount>n.controlNav.length?f.controlNav.update("add"):("remove"===t&&!v||n.pagingCount<n.controlNav.length)&&(v&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),f.controlNav.update("remove",n.last))),n.vars.directionNav&&f.directionNav.update()},n.addSlide=function(e,t){var a=$(e);n.count+=1,n.last=n.count-1,d&&u?void 0!==t?n.slides.eq(n.count-t).after(a):n.container.prepend(a):void 0!==t?n.slides.eq(t).before(a):n.container.append(a),n.update(t,"add"),n.slides=$(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(e){var t=isNaN(e)?n.slides.index($(e)):e;n.count-=1,n.last=n.count-1,isNaN(e)?$(e,n.slides).remove():d&&u?n.slides.eq(n.last).remove():n.slides.eq(e).remove(),n.doMath(),n.update(t,"remove"),n.slides=$(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},f.init()},$(window).blur(function(t){e=!1}).focus(function(t){e=!0}),$.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},$.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var t=$(this),a=e.selector?e.selector:".slides > li",n=t.find(a);1===n.length&&!1===e.allowOneSlide||0===n.length?(n.fadeIn(400),e.start&&e.start(t)):void 0===t.data("flexslider")&&new $.flexslider(this,e)});var t=$(this).data("flexslider");switch(e){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"next":t.flexAnimate(t.getTarget("next"),!0);break;case"prev":case"previous":t.flexAnimate(t.getTarget("prev"),!0);break;default:"number"==typeof e&&t.flexAnimate(e,!0)}}}(jQuery);
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
//# sourceMappingURL=underscore-min.map
/**!

 @license
 handlebars v4.0.10

Copyright (C) 2011-2016 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Handlebars"] = factory();
	else
		root["Handlebars"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _handlebarsRuntime = __webpack_require__(2);

	var _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);

	// Compiler imports

	var _handlebarsCompilerAst = __webpack_require__(35);

	var _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);

	var _handlebarsCompilerBase = __webpack_require__(36);

	var _handlebarsCompilerCompiler = __webpack_require__(41);

	var _handlebarsCompilerJavascriptCompiler = __webpack_require__(42);

	var _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);

	var _handlebarsCompilerVisitor = __webpack_require__(39);

	var _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);

	var _handlebarsNoConflict = __webpack_require__(34);

	var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

	var _create = _handlebarsRuntime2['default'].create;
	function create() {
	  var hb = _create();

	  hb.compile = function (input, options) {
	    return _handlebarsCompilerCompiler.compile(input, options, hb);
	  };
	  hb.precompile = function (input, options) {
	    return _handlebarsCompilerCompiler.precompile(input, options, hb);
	  };

	  hb.AST = _handlebarsCompilerAst2['default'];
	  hb.Compiler = _handlebarsCompilerCompiler.Compiler;
	  hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default'];
	  hb.Parser = _handlebarsCompilerBase.parser;
	  hb.parse = _handlebarsCompilerBase.parse;

	  return hb;
	}

	var inst = create();
	inst.create = create;

	_handlebarsNoConflict2['default'](inst);

	inst.Visitor = _handlebarsCompilerVisitor2['default'];

	inst['default'] = inst;

	exports['default'] = inst;
	module.exports = exports['default'];

/***/ }),
/* 1 */
/***/ (function(module, exports) {

	

	exports["default"] = function (obj) {
	  return obj && obj.__esModule ? obj : {
	    "default": obj
	  };
	};

	exports.__esModule = true;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireWildcard = __webpack_require__(3)['default'];

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _handlebarsBase = __webpack_require__(4);

	var base = _interopRequireWildcard(_handlebarsBase);

	// Each of these augment the Handlebars object. No need to setup here.
	// (This is done to easily share code between commonjs and browse envs)

	var _handlebarsSafeString = __webpack_require__(21);

	var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);

	var _handlebarsException = __webpack_require__(6);

	var _handlebarsException2 = _interopRequireDefault(_handlebarsException);

	var _handlebarsUtils = __webpack_require__(5);

	var Utils = _interopRequireWildcard(_handlebarsUtils);

	var _handlebarsRuntime = __webpack_require__(22);

	var runtime = _interopRequireWildcard(_handlebarsRuntime);

	var _handlebarsNoConflict = __webpack_require__(34);

	var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

	// For compatibility and usage outside of module systems, make the Handlebars object a namespace
	function create() {
	  var hb = new base.HandlebarsEnvironment();

	  Utils.extend(hb, base);
	  hb.SafeString = _handlebarsSafeString2['default'];
	  hb.Exception = _handlebarsException2['default'];
	  hb.Utils = Utils;
	  hb.escapeExpression = Utils.escapeExpression;

	  hb.VM = runtime;
	  hb.template = function (spec) {
	    return runtime.template(spec, hb);
	  };

	  return hb;
	}

	var inst = create();
	inst.create = create;

	_handlebarsNoConflict2['default'](inst);

	inst['default'] = inst;

	exports['default'] = inst;
	module.exports = exports['default'];

/***/ }),
/* 3 */
/***/ (function(module, exports) {

	

	exports["default"] = function (obj) {
	  if (obj && obj.__esModule) {
	    return obj;
	  } else {
	    var newObj = {};

	    if (obj != null) {
	      for (var key in obj) {
	        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
	      }
	    }

	    newObj["default"] = obj;
	    return newObj;
	  }
	};

	exports.__esModule = true;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.HandlebarsEnvironment = HandlebarsEnvironment;

	var _utils = __webpack_require__(5);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _helpers = __webpack_require__(10);

	var _decorators = __webpack_require__(18);

	var _logger = __webpack_require__(20);

	var _logger2 = _interopRequireDefault(_logger);

	var VERSION = '4.0.10';
	exports.VERSION = VERSION;
	var COMPILER_REVISION = 7;

	exports.COMPILER_REVISION = COMPILER_REVISION;
	var REVISION_CHANGES = {
	  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
	  2: '== 1.0.0-rc.3',
	  3: '== 1.0.0-rc.4',
	  4: '== 1.x.x',
	  5: '== 2.0.0-alpha.x',
	  6: '>= 2.0.0-beta.1',
	  7: '>= 4.0.0'
	};

	exports.REVISION_CHANGES = REVISION_CHANGES;
	var objectType = '[object Object]';

	function HandlebarsEnvironment(helpers, partials, decorators) {
	  this.helpers = helpers || {};
	  this.partials = partials || {};
	  this.decorators = decorators || {};

	  _helpers.registerDefaultHelpers(this);
	  _decorators.registerDefaultDecorators(this);
	}

	HandlebarsEnvironment.prototype = {
	  constructor: HandlebarsEnvironment,

	  logger: _logger2['default'],
	  log: _logger2['default'].log,

	  registerHelper: function registerHelper(name, fn) {
	    if (_utils.toString.call(name) === objectType) {
	      if (fn) {
	        throw new _exception2['default']('Arg not supported with multiple helpers');
	      }
	      _utils.extend(this.helpers, name);
	    } else {
	      this.helpers[name] = fn;
	    }
	  },
	  unregisterHelper: function unregisterHelper(name) {
	    delete this.helpers[name];
	  },

	  registerPartial: function registerPartial(name, partial) {
	    if (_utils.toString.call(name) === objectType) {
	      _utils.extend(this.partials, name);
	    } else {
	      if (typeof partial === 'undefined') {
	        throw new _exception2['default']('Attempting to register a partial called "' + name + '" as undefined');
	      }
	      this.partials[name] = partial;
	    }
	  },
	  unregisterPartial: function unregisterPartial(name) {
	    delete this.partials[name];
	  },

	  registerDecorator: function registerDecorator(name, fn) {
	    if (_utils.toString.call(name) === objectType) {
	      if (fn) {
	        throw new _exception2['default']('Arg not supported with multiple decorators');
	      }
	      _utils.extend(this.decorators, name);
	    } else {
	      this.decorators[name] = fn;
	    }
	  },
	  unregisterDecorator: function unregisterDecorator(name) {
	    delete this.decorators[name];
	  }
	};

	var log = _logger2['default'].log;

	exports.log = log;
	exports.createFrame = _utils.createFrame;
	exports.logger = _logger2['default'];

/***/ }),
/* 5 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;
	exports.extend = extend;
	exports.indexOf = indexOf;
	exports.escapeExpression = escapeExpression;
	exports.isEmpty = isEmpty;
	exports.createFrame = createFrame;
	exports.blockParams = blockParams;
	exports.appendContextPath = appendContextPath;
	var escape = {
	  '&': '&amp;',
	  '<': '&lt;',
	  '>': '&gt;',
	  '"': '&quot;',
	  "'": '&#x27;',
	  '`': '&#x60;',
	  '=': '&#x3D;'
	};

	var badChars = /[&<>"'`=]/g,
	    possible = /[&<>"'`=]/;

	function escapeChar(chr) {
	  return escape[chr];
	}

	function extend(obj /* , ...source */) {
	  for (var i = 1; i < arguments.length; i++) {
	    for (var key in arguments[i]) {
	      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
	        obj[key] = arguments[i][key];
	      }
	    }
	  }

	  return obj;
	}

	var toString = Object.prototype.toString;

	exports.toString = toString;
	// Sourced from lodash
	// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
	/* eslint-disable func-style */
	var isFunction = function isFunction(value) {
	  return typeof value === 'function';
	};
	// fallback for older versions of Chrome and Safari
	/* istanbul ignore next */
	if (isFunction(/x/)) {
	  exports.isFunction = isFunction = function (value) {
	    return typeof value === 'function' && toString.call(value) === '[object Function]';
	  };
	}
	exports.isFunction = isFunction;

	/* eslint-enable func-style */

	/* istanbul ignore next */
	var isArray = Array.isArray || function (value) {
	  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;
	};

	exports.isArray = isArray;
	// Older IE versions do not directly support indexOf so we must implement our own, sadly.

	function indexOf(array, value) {
	  for (var i = 0, len = array.length; i < len; i++) {
	    if (array[i] === value) {
	      return i;
	    }
	  }
	  return -1;
	}

	function escapeExpression(string) {
	  if (typeof string !== 'string') {
	    // don't escape SafeStrings, since they're already safe
	    if (string && string.toHTML) {
	      return string.toHTML();
	    } else if (string == null) {
	      return '';
	    } else if (!string) {
	      return string + '';
	    }

	    // Force a string conversion as this will be done by the append regardless and
	    // the regex test will do this transparently behind the scenes, causing issues if
	    // an object's to string has escaped characters in it.
	    string = '' + string;
	  }

	  if (!possible.test(string)) {
	    return string;
	  }
	  return string.replace(badChars, escapeChar);
	}

	function isEmpty(value) {
	  if (!value && value !== 0) {
	    return true;
	  } else if (isArray(value) && value.length === 0) {
	    return true;
	  } else {
	    return false;
	  }
	}

	function createFrame(object) {
	  var frame = extend({}, object);
	  frame._parent = object;
	  return frame;
	}

	function blockParams(params, ids) {
	  params.path = ids;
	  return params;
	}

	function appendContextPath(contextPath, id) {
	  return (contextPath ? contextPath + '.' : '') + id;
	}

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _Object$defineProperty = __webpack_require__(7)['default'];

	exports.__esModule = true;

	var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

	function Exception(message, node) {
	  var loc = node && node.loc,
	      line = undefined,
	      column = undefined;
	  if (loc) {
	    line = loc.start.line;
	    column = loc.start.column;

	    message += ' - ' + line + ':' + column;
	  }

	  var tmp = Error.prototype.constructor.call(this, message);

	  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
	  for (var idx = 0; idx < errorProps.length; idx++) {
	    this[errorProps[idx]] = tmp[errorProps[idx]];
	  }

	  /* istanbul ignore else */
	  if (Error.captureStackTrace) {
	    Error.captureStackTrace(this, Exception);
	  }

	  try {
	    if (loc) {
	      this.lineNumber = line;

	      // Work around issue under safari where we can't directly set the column value
	      /* istanbul ignore next */
	      if (_Object$defineProperty) {
	        Object.defineProperty(this, 'column', {
	          value: column,
	          enumerable: true
	        });
	      } else {
	        this.column = column;
	      }
	    }
	  } catch (nop) {
	    /* Ignore if the browser is very particular */
	  }
	}

	Exception.prototype = new Error();

	exports['default'] = Exception;
	module.exports = exports['default'];

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(8), __esModule: true };

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	var $ = __webpack_require__(9);
	module.exports = function defineProperty(it, key, desc){
	  return $.setDesc(it, key, desc);
	};

/***/ }),
/* 9 */
/***/ (function(module, exports) {

	var $Object = Object;
	module.exports = {
	  create:     $Object.create,
	  getProto:   $Object.getPrototypeOf,
	  isEnum:     {}.propertyIsEnumerable,
	  getDesc:    $Object.getOwnPropertyDescriptor,
	  setDesc:    $Object.defineProperty,
	  setDescs:   $Object.defineProperties,
	  getKeys:    $Object.keys,
	  getNames:   $Object.getOwnPropertyNames,
	  getSymbols: $Object.getOwnPropertySymbols,
	  each:       [].forEach
	};

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.registerDefaultHelpers = registerDefaultHelpers;

	var _helpersBlockHelperMissing = __webpack_require__(11);

	var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);

	var _helpersEach = __webpack_require__(12);

	var _helpersEach2 = _interopRequireDefault(_helpersEach);

	var _helpersHelperMissing = __webpack_require__(13);

	var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);

	var _helpersIf = __webpack_require__(14);

	var _helpersIf2 = _interopRequireDefault(_helpersIf);

	var _helpersLog = __webpack_require__(15);

	var _helpersLog2 = _interopRequireDefault(_helpersLog);

	var _helpersLookup = __webpack_require__(16);

	var _helpersLookup2 = _interopRequireDefault(_helpersLookup);

	var _helpersWith = __webpack_require__(17);

	var _helpersWith2 = _interopRequireDefault(_helpersWith);

	function registerDefaultHelpers(instance) {
	  _helpersBlockHelperMissing2['default'](instance);
	  _helpersEach2['default'](instance);
	  _helpersHelperMissing2['default'](instance);
	  _helpersIf2['default'](instance);
	  _helpersLog2['default'](instance);
	  _helpersLookup2['default'](instance);
	  _helpersWith2['default'](instance);
	}

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	exports['default'] = function (instance) {
	  instance.registerHelper('blockHelperMissing', function (context, options) {
	    var inverse = options.inverse,
	        fn = options.fn;

	    if (context === true) {
	      return fn(this);
	    } else if (context === false || context == null) {
	      return inverse(this);
	    } else if (_utils.isArray(context)) {
	      if (context.length > 0) {
	        if (options.ids) {
	          options.ids = [options.name];
	        }

	        return instance.helpers.each(context, options);
	      } else {
	        return inverse(this);
	      }
	    } else {
	      if (options.data && options.ids) {
	        var data = _utils.createFrame(options.data);
	        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
	        options = { data: data };
	      }

	      return fn(context, options);
	    }
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('each', function (context, options) {
	    if (!options) {
	      throw new _exception2['default']('Must pass iterator to #each');
	    }

	    var fn = options.fn,
	        inverse = options.inverse,
	        i = 0,
	        ret = '',
	        data = undefined,
	        contextPath = undefined;

	    if (options.data && options.ids) {
	      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
	    }

	    if (_utils.isFunction(context)) {
	      context = context.call(this);
	    }

	    if (options.data) {
	      data = _utils.createFrame(options.data);
	    }

	    function execIteration(field, index, last) {
	      if (data) {
	        data.key = field;
	        data.index = index;
	        data.first = index === 0;
	        data.last = !!last;

	        if (contextPath) {
	          data.contextPath = contextPath + field;
	        }
	      }

	      ret = ret + fn(context[field], {
	        data: data,
	        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
	      });
	    }

	    if (context && typeof context === 'object') {
	      if (_utils.isArray(context)) {
	        for (var j = context.length; i < j; i++) {
	          if (i in context) {
	            execIteration(i, i, i === context.length - 1);
	          }
	        }
	      } else {
	        var priorKey = undefined;

	        for (var key in context) {
	          if (context.hasOwnProperty(key)) {
	            // We're running the iterations one step out of sync so we can detect
	            // the last iteration without have to scan the object twice and create
	            // an itermediate keys array.
	            if (priorKey !== undefined) {
	              execIteration(priorKey, i - 1);
	            }
	            priorKey = key;
	            i++;
	          }
	        }
	        if (priorKey !== undefined) {
	          execIteration(priorKey, i - 1, true);
	        }
	      }
	    }

	    if (i === 0) {
	      ret = inverse(this);
	    }

	    return ret;
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('helperMissing', function () /* [args, ]options */{
	    if (arguments.length === 1) {
	      // A missing field in a {{foo}} construct.
	      return undefined;
	    } else {
	      // Someone is actually trying to call something, blow up.
	      throw new _exception2['default']('Missing helper: "' + arguments[arguments.length - 1].name + '"');
	    }
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	exports['default'] = function (instance) {
	  instance.registerHelper('if', function (conditional, options) {
	    if (_utils.isFunction(conditional)) {
	      conditional = conditional.call(this);
	    }

	    // Default behavior is to render the positive path if the value is truthy and not empty.
	    // The `includeZero` option may be set to treat the condtional as purely not empty based on the
	    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
	    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
	      return options.inverse(this);
	    } else {
	      return options.fn(this);
	    }
	  });

	  instance.registerHelper('unless', function (conditional, options) {
	    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 15 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;

	exports['default'] = function (instance) {
	  instance.registerHelper('log', function () /* message, options */{
	    var args = [undefined],
	        options = arguments[arguments.length - 1];
	    for (var i = 0; i < arguments.length - 1; i++) {
	      args.push(arguments[i]);
	    }

	    var level = 1;
	    if (options.hash.level != null) {
	      level = options.hash.level;
	    } else if (options.data && options.data.level != null) {
	      level = options.data.level;
	    }
	    args[0] = level;

	    instance.log.apply(instance, args);
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 16 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;

	exports['default'] = function (instance) {
	  instance.registerHelper('lookup', function (obj, field) {
	    return obj && obj[field];
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	exports['default'] = function (instance) {
	  instance.registerHelper('with', function (context, options) {
	    if (_utils.isFunction(context)) {
	      context = context.call(this);
	    }

	    var fn = options.fn;

	    if (!_utils.isEmpty(context)) {
	      var data = options.data;
	      if (options.data && options.ids) {
	        data = _utils.createFrame(options.data);
	        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
	      }

	      return fn(context, {
	        data: data,
	        blockParams: _utils.blockParams([context], [data && data.contextPath])
	      });
	    } else {
	      return options.inverse(this);
	    }
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.registerDefaultDecorators = registerDefaultDecorators;

	var _decoratorsInline = __webpack_require__(19);

	var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);

	function registerDefaultDecorators(instance) {
	  _decoratorsInline2['default'](instance);
	}

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	exports['default'] = function (instance) {
	  instance.registerDecorator('inline', function (fn, props, container, options) {
	    var ret = fn;
	    if (!props.partials) {
	      props.partials = {};
	      ret = function (context, options) {
	        // Create a new partials stack frame prior to exec.
	        var original = container.partials;
	        container.partials = _utils.extend({}, original, props.partials);
	        var ret = fn(context, options);
	        container.partials = original;
	        return ret;
	      };
	    }

	    props.partials[options.args[0]] = options.fn;

	    return ret;
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var logger = {
	  methodMap: ['debug', 'info', 'warn', 'error'],
	  level: 'info',

	  // Maps a given level value to the `methodMap` indexes above.
	  lookupLevel: function lookupLevel(level) {
	    if (typeof level === 'string') {
	      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
	      if (levelMap >= 0) {
	        level = levelMap;
	      } else {
	        level = parseInt(level, 10);
	      }
	    }

	    return level;
	  },

	  // Can be overridden in the host environment
	  log: function log(level) {
	    level = logger.lookupLevel(level);

	    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {
	      var method = logger.methodMap[level];
	      if (!console[method]) {
	        // eslint-disable-line no-console
	        method = 'log';
	      }

	      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
	        message[_key - 1] = arguments[_key];
	      }

	      console[method].apply(console, message); // eslint-disable-line no-console
	    }
	  }
	};

	exports['default'] = logger;
	module.exports = exports['default'];

/***/ }),
/* 21 */
/***/ (function(module, exports) {

	// Build out our basic SafeString type
	'use strict';

	exports.__esModule = true;
	function SafeString(string) {
	  this.string = string;
	}

	SafeString.prototype.toString = SafeString.prototype.toHTML = function () {
	  return '' + this.string;
	};

	exports['default'] = SafeString;
	module.exports = exports['default'];

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _Object$seal = __webpack_require__(23)['default'];

	var _interopRequireWildcard = __webpack_require__(3)['default'];

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.checkRevision = checkRevision;
	exports.template = template;
	exports.wrapProgram = wrapProgram;
	exports.resolvePartial = resolvePartial;
	exports.invokePartial = invokePartial;
	exports.noop = noop;

	var _utils = __webpack_require__(5);

	var Utils = _interopRequireWildcard(_utils);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _base = __webpack_require__(4);

	function checkRevision(compilerInfo) {
	  var compilerRevision = compilerInfo && compilerInfo[0] || 1,
	      currentRevision = _base.COMPILER_REVISION;

	  if (compilerRevision !== currentRevision) {
	    if (compilerRevision < currentRevision) {
	      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
	          compilerVersions = _base.REVISION_CHANGES[compilerRevision];
	      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');
	    } else {
	      // Use the embedded version info since the runtime doesn't know about this revision yet
	      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');
	    }
	  }
	}

	function template(templateSpec, env) {
	  /* istanbul ignore next */
	  if (!env) {
	    throw new _exception2['default']('No environment passed to template');
	  }
	  if (!templateSpec || !templateSpec.main) {
	    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);
	  }

	  templateSpec.main.decorator = templateSpec.main_d;

	  // Note: Using env.VM references rather than local var references throughout this section to allow
	  // for external users to override these as psuedo-supported APIs.
	  env.VM.checkRevision(templateSpec.compiler);

	  function invokePartialWrapper(partial, context, options) {
	    if (options.hash) {
	      context = Utils.extend({}, context, options.hash);
	      if (options.ids) {
	        options.ids[0] = true;
	      }
	    }

	    partial = env.VM.resolvePartial.call(this, partial, context, options);
	    var result = env.VM.invokePartial.call(this, partial, context, options);

	    if (result == null && env.compile) {
	      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
	      result = options.partials[options.name](context, options);
	    }
	    if (result != null) {
	      if (options.indent) {
	        var lines = result.split('\n');
	        for (var i = 0, l = lines.length; i < l; i++) {
	          if (!lines[i] && i + 1 === l) {
	            break;
	          }

	          lines[i] = options.indent + lines[i];
	        }
	        result = lines.join('\n');
	      }
	      return result;
	    } else {
	      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');
	    }
	  }

	  // Just add water
	  var container = {
	    strict: function strict(obj, name) {
	      if (!(name in obj)) {
	        throw new _exception2['default']('"' + name + '" not defined in ' + obj);
	      }
	      return obj[name];
	    },
	    lookup: function lookup(depths, name) {
	      var len = depths.length;
	      for (var i = 0; i < len; i++) {
	        if (depths[i] && depths[i][name] != null) {
	          return depths[i][name];
	        }
	      }
	    },
	    lambda: function lambda(current, context) {
	      return typeof current === 'function' ? current.call(context) : current;
	    },

	    escapeExpression: Utils.escapeExpression,
	    invokePartial: invokePartialWrapper,

	    fn: function fn(i) {
	      var ret = templateSpec[i];
	      ret.decorator = templateSpec[i + '_d'];
	      return ret;
	    },

	    programs: [],
	    program: function program(i, data, declaredBlockParams, blockParams, depths) {
	      var programWrapper = this.programs[i],
	          fn = this.fn(i);
	      if (data || depths || blockParams || declaredBlockParams) {
	        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
	      } else if (!programWrapper) {
	        programWrapper = this.programs[i] = wrapProgram(this, i, fn);
	      }
	      return programWrapper;
	    },

	    data: function data(value, depth) {
	      while (value && depth--) {
	        value = value._parent;
	      }
	      return value;
	    },
	    merge: function merge(param, common) {
	      var obj = param || common;

	      if (param && common && param !== common) {
	        obj = Utils.extend({}, common, param);
	      }

	      return obj;
	    },
	    // An empty object to use as replacement for null-contexts
	    nullContext: _Object$seal({}),

	    noop: env.VM.noop,
	    compilerInfo: templateSpec.compiler
	  };

	  function ret(context) {
	    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	    var data = options.data;

	    ret._setup(options);
	    if (!options.partial && templateSpec.useData) {
	      data = initData(context, data);
	    }
	    var depths = undefined,
	        blockParams = templateSpec.useBlockParams ? [] : undefined;
	    if (templateSpec.useDepths) {
	      if (options.depths) {
	        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;
	      } else {
	        depths = [context];
	      }
	    }

	    function main(context /*, options*/) {
	      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);
	    }
	    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
	    return main(context, options);
	  }
	  ret.isTop = true;

	  ret._setup = function (options) {
	    if (!options.partial) {
	      container.helpers = container.merge(options.helpers, env.helpers);

	      if (templateSpec.usePartial) {
	        container.partials = container.merge(options.partials, env.partials);
	      }
	      if (templateSpec.usePartial || templateSpec.useDecorators) {
	        container.decorators = container.merge(options.decorators, env.decorators);
	      }
	    } else {
	      container.helpers = options.helpers;
	      container.partials = options.partials;
	      container.decorators = options.decorators;
	    }
	  };

	  ret._child = function (i, data, blockParams, depths) {
	    if (templateSpec.useBlockParams && !blockParams) {
	      throw new _exception2['default']('must pass block params');
	    }
	    if (templateSpec.useDepths && !depths) {
	      throw new _exception2['default']('must pass parent depths');
	    }

	    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
	  };
	  return ret;
	}

	function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
	  function prog(context) {
	    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	    var currentDepths = depths;
	    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {
	      currentDepths = [context].concat(depths);
	    }

	    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
	  }

	  prog = executeDecorators(fn, prog, container, depths, data, blockParams);

	  prog.program = i;
	  prog.depth = depths ? depths.length : 0;
	  prog.blockParams = declaredBlockParams || 0;
	  return prog;
	}

	function resolvePartial(partial, context, options) {
	  if (!partial) {
	    if (options.name === '@partial-block') {
	      partial = options.data['partial-block'];
	    } else {
	      partial = options.partials[options.name];
	    }
	  } else if (!partial.call && !options.name) {
	    // This is a dynamic partial that returned a string
	    options.name = partial;
	    partial = options.partials[partial];
	  }
	  return partial;
	}

	function invokePartial(partial, context, options) {
	  // Use the current closure context to save the partial-block if this partial
	  var currentPartialBlock = options.data && options.data['partial-block'];
	  options.partial = true;
	  if (options.ids) {
	    options.data.contextPath = options.ids[0] || options.data.contextPath;
	  }

	  var partialBlock = undefined;
	  if (options.fn && options.fn !== noop) {
	    (function () {
	      options.data = _base.createFrame(options.data);
	      // Wrapper function to get access to currentPartialBlock from the closure
	      var fn = options.fn;
	      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {
	        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	        // Restore the partial-block from the closure for the execution of the block
	        // i.e. the part inside the block of the partial call.
	        options.data = _base.createFrame(options.data);
	        options.data['partial-block'] = currentPartialBlock;
	        return fn(context, options);
	      };
	      if (fn.partials) {
	        options.partials = Utils.extend({}, options.partials, fn.partials);
	      }
	    })();
	  }

	  if (partial === undefined && partialBlock) {
	    partial = partialBlock;
	  }

	  if (partial === undefined) {
	    throw new _exception2['default']('The partial ' + options.name + ' could not be found');
	  } else if (partial instanceof Function) {
	    return partial(context, options);
	  }
	}

	function noop() {
	  return '';
	}

	function initData(context, data) {
	  if (!data || !('root' in data)) {
	    data = data ? _base.createFrame(data) : {};
	    data.root = context;
	  }
	  return data;
	}

	function executeDecorators(fn, prog, container, depths, data, blockParams) {
	  if (fn.decorator) {
	    var props = {};
	    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
	    Utils.extend(prog, props);
	  }
	  return prog;
	}

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(24), __esModule: true };

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	__webpack_require__(25);
	module.exports = __webpack_require__(30).Object.seal;

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

	// 19.1.2.17 Object.seal(O)
	var isObject = __webpack_require__(26);

	__webpack_require__(27)('seal', function($seal){
	  return function seal(it){
	    return $seal && isObject(it) ? $seal(it) : it;
	  };
	});

/***/ }),
/* 26 */
/***/ (function(module, exports) {

	module.exports = function(it){
	  return typeof it === 'object' ? it !== null : typeof it === 'function';
	};

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	// most Object methods by ES6 should accept primitives
	var $export = __webpack_require__(28)
	  , core    = __webpack_require__(30)
	  , fails   = __webpack_require__(33);
	module.exports = function(KEY, exec){
	  var fn  = (core.Object || {})[KEY] || Object[KEY]
	    , exp = {};
	  exp[KEY] = exec(fn);
	  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
	};

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	var global    = __webpack_require__(29)
	  , core      = __webpack_require__(30)
	  , ctx       = __webpack_require__(31)
	  , PROTOTYPE = 'prototype';

	var $export = function(type, name, source){
	  var IS_FORCED = type & $export.F
	    , IS_GLOBAL = type & $export.G
	    , IS_STATIC = type & $export.S
	    , IS_PROTO  = type & $export.P
	    , IS_BIND   = type & $export.B
	    , IS_WRAP   = type & $export.W
	    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
	    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
	    , key, own, out;
	  if(IS_GLOBAL)source = name;
	  for(key in source){
	    // contains in native
	    own = !IS_FORCED && target && key in target;
	    if(own && key in exports)continue;
	    // export native or passed
	    out = own ? target[key] : source[key];
	    // prevent global pollution for namespaces
	    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
	    // bind timers to global for call from export context
	    : IS_BIND && own ? ctx(out, global)
	    // wrap global constructors for prevent change them in library
	    : IS_WRAP && target[key] == out ? (function(C){
	      var F = function(param){
	        return this instanceof C ? new C(param) : C(param);
	      };
	      F[PROTOTYPE] = C[PROTOTYPE];
	      return F;
	    // make static versions for prototype methods
	    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
	    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
	  }
	};
	// type bitmap
	$export.F = 1;  // forced
	$export.G = 2;  // global
	$export.S = 4;  // static
	$export.P = 8;  // proto
	$export.B = 16; // bind
	$export.W = 32; // wrap
	module.exports = $export;

/***/ }),
/* 29 */
/***/ (function(module, exports) {

	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
	if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ }),
/* 30 */
/***/ (function(module, exports) {

	var core = module.exports = {version: '1.2.6'};
	if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	// optional / simple context binding
	var aFunction = __webpack_require__(32);
	module.exports = function(fn, that, length){
	  aFunction(fn);
	  if(that === undefined)return fn;
	  switch(length){
	    case 1: return function(a){
	      return fn.call(that, a);
	    };
	    case 2: return function(a, b){
	      return fn.call(that, a, b);
	    };
	    case 3: return function(a, b, c){
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function(/* ...args */){
	    return fn.apply(that, arguments);
	  };
	};

/***/ }),
/* 32 */
/***/ (function(module, exports) {

	module.exports = function(it){
	  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
	  return it;
	};

/***/ }),
/* 33 */
/***/ (function(module, exports) {

	module.exports = function(exec){
	  try {
	    return !!exec();
	  } catch(e){
	    return true;
	  }
	};

/***/ }),
/* 34 */
/***/ (function(module, exports) {

	/* WEBPACK VAR INJECTION */(function(global) {/* global window */
	'use strict';

	exports.__esModule = true;

	exports['default'] = function (Handlebars) {
	  /* istanbul ignore next */
	  var root = typeof global !== 'undefined' ? global : window,
	      $Handlebars = root.Handlebars;
	  /* istanbul ignore next */
	  Handlebars.noConflict = function () {
	    if (root.Handlebars === Handlebars) {
	      root.Handlebars = $Handlebars;
	    }
	    return Handlebars;
	  };
	};

	module.exports = exports['default'];
	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 35 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;
	var AST = {
	  // Public API used to evaluate derived attributes regarding AST nodes
	  helpers: {
	    // a mustache is definitely a helper if:
	    // * it is an eligible helper, and
	    // * it has at least one parameter or hash segment
	    helperExpression: function helperExpression(node) {
	      return node.type === 'SubExpression' || (node.type === 'MustacheStatement' || node.type === 'BlockStatement') && !!(node.params && node.params.length || node.hash);
	    },

	    scopedId: function scopedId(path) {
	      return (/^\.|this\b/.test(path.original)
	      );
	    },

	    // an ID is simple if it only has one part, and that part is not
	    // `..` or `this`.
	    simpleId: function simpleId(path) {
	      return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;
	    }
	  }
	};

	// Must be exported as an object rather than the root of the module as the jison lexer
	// must modify the object to operate properly.
	exports['default'] = AST;
	module.exports = exports['default'];

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	var _interopRequireWildcard = __webpack_require__(3)['default'];

	exports.__esModule = true;
	exports.parse = parse;

	var _parser = __webpack_require__(37);

	var _parser2 = _interopRequireDefault(_parser);

	var _whitespaceControl = __webpack_require__(38);

	var _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);

	var _helpers = __webpack_require__(40);

	var Helpers = _interopRequireWildcard(_helpers);

	var _utils = __webpack_require__(5);

	exports.parser = _parser2['default'];

	var yy = {};
	_utils.extend(yy, Helpers);

	function parse(input, options) {
	  // Just return if an already-compiled AST was passed in.
	  if (input.type === 'Program') {
	    return input;
	  }

	  _parser2['default'].yy = yy;

	  // Altering the shared object here, but this is ok as parser is a sync operation
	  yy.locInfo = function (locInfo) {
	    return new yy.SourceLocation(options && options.srcName, locInfo);
	  };

	  var strip = new _whitespaceControl2['default'](options);
	  return strip.accept(_parser2['default'].parse(input));
	}

/***/ }),
/* 37 */
/***/ (function(module, exports) {

	// File ignored in coverage tests via setting in .istanbul.yml
	/* Jison generated parser */
	

	exports.__esModule = true;
	var handlebars = (function () {
	    var parser = { trace: function trace() {},
	        yy: {},
	        symbols_: { "error": 2, "root": 3, "program": 4, "EOF": 5, "program_repetition0": 6, "statement": 7, "mustache": 8, "block": 9, "rawBlock": 10, "partial": 11, "partialBlock": 12, "content": 13, "COMMENT": 14, "CONTENT": 15, "openRawBlock": 16, "rawBlock_repetition_plus0": 17, "END_RAW_BLOCK": 18, "OPEN_RAW_BLOCK": 19, "helperName": 20, "openRawBlock_repetition0": 21, "openRawBlock_option0": 22, "CLOSE_RAW_BLOCK": 23, "openBlock": 24, "block_option0": 25, "closeBlock": 26, "openInverse": 27, "block_option1": 28, "OPEN_BLOCK": 29, "openBlock_repetition0": 30, "openBlock_option0": 31, "openBlock_option1": 32, "CLOSE": 33, "OPEN_INVERSE": 34, "openInverse_repetition0": 35, "openInverse_option0": 36, "openInverse_option1": 37, "openInverseChain": 38, "OPEN_INVERSE_CHAIN": 39, "openInverseChain_repetition0": 40, "openInverseChain_option0": 41, "openInverseChain_option1": 42, "inverseAndProgram": 43, "INVERSE": 44, "inverseChain": 45, "inverseChain_option0": 46, "OPEN_ENDBLOCK": 47, "OPEN": 48, "mustache_repetition0": 49, "mustache_option0": 50, "OPEN_UNESCAPED": 51, "mustache_repetition1": 52, "mustache_option1": 53, "CLOSE_UNESCAPED": 54, "OPEN_PARTIAL": 55, "partialName": 56, "partial_repetition0": 57, "partial_option0": 58, "openPartialBlock": 59, "OPEN_PARTIAL_BLOCK": 60, "openPartialBlock_repetition0": 61, "openPartialBlock_option0": 62, "param": 63, "sexpr": 64, "OPEN_SEXPR": 65, "sexpr_repetition0": 66, "sexpr_option0": 67, "CLOSE_SEXPR": 68, "hash": 69, "hash_repetition_plus0": 70, "hashSegment": 71, "ID": 72, "EQUALS": 73, "blockParams": 74, "OPEN_BLOCK_PARAMS": 75, "blockParams_repetition_plus0": 76, "CLOSE_BLOCK_PARAMS": 77, "path": 78, "dataName": 79, "STRING": 80, "NUMBER": 81, "BOOLEAN": 82, "UNDEFINED": 83, "NULL": 84, "DATA": 85, "pathSegments": 86, "SEP": 87, "$accept": 0, "$end": 1 },
	        terminals_: { 2: "error", 5: "EOF", 14: "COMMENT", 15: "CONTENT", 18: "END_RAW_BLOCK", 19: "OPEN_RAW_BLOCK", 23: "CLOSE_RAW_BLOCK", 29: "OPEN_BLOCK", 33: "CLOSE", 34: "OPEN_INVERSE", 39: "OPEN_INVERSE_CHAIN", 44: "INVERSE", 47: "OPEN_ENDBLOCK", 48: "OPEN", 51: "OPEN_UNESCAPED", 54: "CLOSE_UNESCAPED", 55: "OPEN_PARTIAL", 60: "OPEN_PARTIAL_BLOCK", 65: "OPEN_SEXPR", 68: "CLOSE_SEXPR", 72: "ID", 73: "EQUALS", 75: "OPEN_BLOCK_PARAMS", 77: "CLOSE_BLOCK_PARAMS", 80: "STRING", 81: "NUMBER", 82: "BOOLEAN", 83: "UNDEFINED", 84: "NULL", 85: "DATA", 87: "SEP" },
	        productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 1], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],
	        performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$
	        /**/) {

	            var $0 = $$.length - 1;
	            switch (yystate) {
	                case 1:
	                    return $$[$0 - 1];
	                    break;
	                case 2:
	                    this.$ = yy.prepareProgram($$[$0]);
	                    break;
	                case 3:
	                    this.$ = $$[$0];
	                    break;
	                case 4:
	                    this.$ = $$[$0];
	                    break;
	                case 5:
	                    this.$ = $$[$0];
	                    break;
	                case 6:
	                    this.$ = $$[$0];
	                    break;
	                case 7:
	                    this.$ = $$[$0];
	                    break;
	                case 8:
	                    this.$ = $$[$0];
	                    break;
	                case 9:
	                    this.$ = {
	                        type: 'CommentStatement',
	                        value: yy.stripComment($$[$0]),
	                        strip: yy.stripFlags($$[$0], $$[$0]),
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 10:
	                    this.$ = {
	                        type: 'ContentStatement',
	                        original: $$[$0],
	                        value: $$[$0],
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 11:
	                    this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
	                    break;
	                case 12:
	                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] };
	                    break;
	                case 13:
	                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);
	                    break;
	                case 14:
	                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);
	                    break;
	                case 15:
	                    this.$ = { open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
	                    break;
	                case 16:
	                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
	                    break;
	                case 17:
	                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
	                    break;
	                case 18:
	                    this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] };
	                    break;
	                case 19:
	                    var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),
	                        program = yy.prepareProgram([inverse], $$[$0 - 1].loc);
	                    program.chained = true;

	                    this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true };

	                    break;
	                case 20:
	                    this.$ = $$[$0];
	                    break;
	                case 21:
	                    this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) };
	                    break;
	                case 22:
	                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
	                    break;
	                case 23:
	                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
	                    break;
	                case 24:
	                    this.$ = {
	                        type: 'PartialStatement',
	                        name: $$[$0 - 3],
	                        params: $$[$0 - 2],
	                        hash: $$[$0 - 1],
	                        indent: '',
	                        strip: yy.stripFlags($$[$0 - 4], $$[$0]),
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 25:
	                    this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
	                    break;
	                case 26:
	                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0]) };
	                    break;
	                case 27:
	                    this.$ = $$[$0];
	                    break;
	                case 28:
	                    this.$ = $$[$0];
	                    break;
	                case 29:
	                    this.$ = {
	                        type: 'SubExpression',
	                        path: $$[$0 - 3],
	                        params: $$[$0 - 2],
	                        hash: $$[$0 - 1],
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 30:
	                    this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) };
	                    break;
	                case 31:
	                    this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) };
	                    break;
	                case 32:
	                    this.$ = yy.id($$[$0 - 1]);
	                    break;
	                case 33:
	                    this.$ = $$[$0];
	                    break;
	                case 34:
	                    this.$ = $$[$0];
	                    break;
	                case 35:
	                    this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) };
	                    break;
	                case 36:
	                    this.$ = { type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$) };
	                    break;
	                case 37:
	                    this.$ = { type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$) };
	                    break;
	                case 38:
	                    this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) };
	                    break;
	                case 39:
	                    this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) };
	                    break;
	                case 40:
	                    this.$ = $$[$0];
	                    break;
	                case 41:
	                    this.$ = $$[$0];
	                    break;
	                case 42:
	                    this.$ = yy.preparePath(true, $$[$0], this._$);
	                    break;
	                case 43:
	                    this.$ = yy.preparePath(false, $$[$0], this._$);
	                    break;
	                case 44:
	                    $$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] });this.$ = $$[$0 - 2];
	                    break;
	                case 45:
	                    this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }];
	                    break;
	                case 46:
	                    this.$ = [];
	                    break;
	                case 47:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 48:
	                    this.$ = [$$[$0]];
	                    break;
	                case 49:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 50:
	                    this.$ = [];
	                    break;
	                case 51:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 58:
	                    this.$ = [];
	                    break;
	                case 59:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 64:
	                    this.$ = [];
	                    break;
	                case 65:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 70:
	                    this.$ = [];
	                    break;
	                case 71:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 78:
	                    this.$ = [];
	                    break;
	                case 79:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 82:
	                    this.$ = [];
	                    break;
	                case 83:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 86:
	                    this.$ = [];
	                    break;
	                case 87:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 90:
	                    this.$ = [];
	                    break;
	                case 91:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 94:
	                    this.$ = [];
	                    break;
	                case 95:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 98:
	                    this.$ = [$$[$0]];
	                    break;
	                case 99:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 100:
	                    this.$ = [$$[$0]];
	                    break;
	                case 101:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	            }
	        },
	        table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 13: 40, 15: [1, 20], 17: 39 }, { 20: 42, 56: 41, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 45, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 48, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 42, 56: 49, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 50, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 51] }, { 72: [1, 35], 86: 52 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 53, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] }, { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] }, { 13: 63, 15: [1, 20], 18: [1, 62] }, { 15: [2, 48], 18: [2, 48] }, { 33: [2, 86], 57: 64, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 65, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 66, 47: [1, 67] }, { 30: 68, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 69, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 70, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 71, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 75, 33: [2, 80], 50: 72, 63: 73, 64: 76, 65: [1, 44], 69: 74, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 80] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 51] }, { 20: 75, 53: 81, 54: [2, 84], 63: 82, 64: 76, 65: [1, 44], 69: 83, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 84, 47: [1, 67] }, { 47: [2, 55] }, { 4: 85, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 86, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 87, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 88, 47: [1, 67] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 75, 33: [2, 88], 58: 89, 63: 90, 64: 76, 65: [1, 44], 69: 91, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 92, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 93, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 31: 94, 33: [2, 60], 63: 95, 64: 76, 65: [1, 44], 69: 96, 70: 77, 71: 78, 72: [1, 79], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 66], 36: 97, 63: 98, 64: 76, 65: [1, 44], 69: 99, 70: 77, 71: 78, 72: [1, 79], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 22: 100, 23: [2, 52], 63: 101, 64: 76, 65: [1, 44], 69: 102, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 92], 62: 103, 63: 104, 64: 76, 65: [1, 44], 69: 105, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 106] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 109], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 110] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] }, { 33: [2, 70], 40: 113, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 114] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 75, 63: 116, 64: 76, 65: [1, 44], 67: 115, 68: [2, 96], 69: 117, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 118] }, { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 124] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 125] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 109] }, { 20: 75, 63: 126, 64: 76, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 75, 33: [2, 72], 41: 127, 63: 128, 64: 76, 65: [1, 44], 69: 129, 70: 77, 71: 78, 72: [1, 79], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 130] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 131] }, { 33: [2, 63] }, { 72: [1, 133], 76: 132 }, { 33: [1, 134] }, { 33: [2, 69] }, { 15: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 138], 77: [1, 137] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 139] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }],
	        defaultActions: { 4: [2, 1], 55: [2, 55], 57: [2, 20], 61: [2, 57], 74: [2, 81], 83: [2, 85], 87: [2, 18], 91: [2, 89], 102: [2, 53], 105: [2, 93], 111: [2, 19], 112: [2, 77], 117: [2, 97], 120: [2, 63], 123: [2, 69], 124: [2, 12], 136: [2, 75], 137: [2, 32] },
	        parseError: function parseError(str, hash) {
	            throw new Error(str);
	        },
	        parse: function parse(input) {
	            var self = this,
	                stack = [0],
	                vstack = [null],
	                lstack = [],
	                table = this.table,
	                yytext = "",
	                yylineno = 0,
	                yyleng = 0,
	                recovering = 0,
	                TERROR = 2,
	                EOF = 1;
	            this.lexer.setInput(input);
	            this.lexer.yy = this.yy;
	            this.yy.lexer = this.lexer;
	            this.yy.parser = this;
	            if (typeof this.lexer.yylloc == "undefined") this.lexer.yylloc = {};
	            var yyloc = this.lexer.yylloc;
	            lstack.push(yyloc);
	            var ranges = this.lexer.options && this.lexer.options.ranges;
	            if (typeof this.yy.parseError === "function") this.parseError = this.yy.parseError;
	            function popStack(n) {
	                stack.length = stack.length - 2 * n;
	                vstack.length = vstack.length - n;
	                lstack.length = lstack.length - n;
	            }
	            function lex() {
	                var token;
	                token = self.lexer.lex() || 1;
	                if (typeof token !== "number") {
	                    token = self.symbols_[token] || token;
	                }
	                return token;
	            }
	            var symbol,
	                preErrorSymbol,
	                state,
	                action,
	                a,
	                r,
	                yyval = {},
	                p,
	                len,
	                newState,
	                expected;
	            while (true) {
	                state = stack[stack.length - 1];
	                if (this.defaultActions[state]) {
	                    action = this.defaultActions[state];
	                } else {
	                    if (symbol === null || typeof symbol == "undefined") {
	                        symbol = lex();
	                    }
	                    action = table[state] && table[state][symbol];
	                }
	                if (typeof action === "undefined" || !action.length || !action[0]) {
	                    var errStr = "";
	                    if (!recovering) {
	                        expected = [];
	                        for (p in table[state]) if (this.terminals_[p] && p > 2) {
	                            expected.push("'" + this.terminals_[p] + "'");
	                        }
	                        if (this.lexer.showPosition) {
	                            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
	                        } else {
	                            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == 1 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
	                        }
	                        this.parseError(errStr, { text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected });
	                    }
	                }
	                if (action[0] instanceof Array && action.length > 1) {
	                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
	                }
	                switch (action[0]) {
	                    case 1:
	                        stack.push(symbol);
	                        vstack.push(this.lexer.yytext);
	                        lstack.push(this.lexer.yylloc);
	                        stack.push(action[1]);
	                        symbol = null;
	                        if (!preErrorSymbol) {
	                            yyleng = this.lexer.yyleng;
	                            yytext = this.lexer.yytext;
	                            yylineno = this.lexer.yylineno;
	                            yyloc = this.lexer.yylloc;
	                            if (recovering > 0) recovering--;
	                        } else {
	                            symbol = preErrorSymbol;
	                            preErrorSymbol = null;
	                        }
	                        break;
	                    case 2:
	                        len = this.productions_[action[1]][1];
	                        yyval.$ = vstack[vstack.length - len];
	                        yyval._$ = { first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column };
	                        if (ranges) {
	                            yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];
	                        }
	                        r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);
	                        if (typeof r !== "undefined") {
	                            return r;
	                        }
	                        if (len) {
	                            stack = stack.slice(0, -1 * len * 2);
	                            vstack = vstack.slice(0, -1 * len);
	                            lstack = lstack.slice(0, -1 * len);
	                        }
	                        stack.push(this.productions_[action[1]][0]);
	                        vstack.push(yyval.$);
	                        lstack.push(yyval._$);
	                        newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
	                        stack.push(newState);
	                        break;
	                    case 3:
	                        return true;
	                }
	            }
	            return true;
	        }
	    };
	    /* Jison generated lexer */
	    var lexer = (function () {
	        var lexer = { EOF: 1,
	            parseError: function parseError(str, hash) {
	                if (this.yy.parser) {
	                    this.yy.parser.parseError(str, hash);
	                } else {
	                    throw new Error(str);
	                }
	            },
	            setInput: function setInput(input) {
	                this._input = input;
	                this._more = this._less = this.done = false;
	                this.yylineno = this.yyleng = 0;
	                this.yytext = this.matched = this.match = '';
	                this.conditionStack = ['INITIAL'];
	                this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 };
	                if (this.options.ranges) this.yylloc.range = [0, 0];
	                this.offset = 0;
	                return this;
	            },
	            input: function input() {
	                var ch = this._input[0];
	                this.yytext += ch;
	                this.yyleng++;
	                this.offset++;
	                this.match += ch;
	                this.matched += ch;
	                var lines = ch.match(/(?:\r\n?|\n).*/g);
	                if (lines) {
	                    this.yylineno++;
	                    this.yylloc.last_line++;
	                } else {
	                    this.yylloc.last_column++;
	                }
	                if (this.options.ranges) this.yylloc.range[1]++;

	                this._input = this._input.slice(1);
	                return ch;
	            },
	            unput: function unput(ch) {
	                var len = ch.length;
	                var lines = ch.split(/(?:\r\n?|\n)/g);

	                this._input = ch + this._input;
	                this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);
	                //this.yyleng -= len;
	                this.offset -= len;
	                var oldLines = this.match.split(/(?:\r\n?|\n)/g);
	                this.match = this.match.substr(0, this.match.length - 1);
	                this.matched = this.matched.substr(0, this.matched.length - 1);

	                if (lines.length - 1) this.yylineno -= lines.length - 1;
	                var r = this.yylloc.range;

	                this.yylloc = { first_line: this.yylloc.first_line,
	                    last_line: this.yylineno + 1,
	                    first_column: this.yylloc.first_column,
	                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
	                };

	                if (this.options.ranges) {
	                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
	                }
	                return this;
	            },
	            more: function more() {
	                this._more = true;
	                return this;
	            },
	            less: function less(n) {
	                this.unput(this.match.slice(n));
	            },
	            pastInput: function pastInput() {
	                var past = this.matched.substr(0, this.matched.length - this.match.length);
	                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\n/g, "");
	            },
	            upcomingInput: function upcomingInput() {
	                var next = this.match;
	                if (next.length < 20) {
	                    next += this._input.substr(0, 20 - next.length);
	                }
	                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\n/g, "");
	            },
	            showPosition: function showPosition() {
	                var pre = this.pastInput();
	                var c = new Array(pre.length + 1).join("-");
	                return pre + this.upcomingInput() + "\n" + c + "^";
	            },
	            next: function next() {
	                if (this.done) {
	                    return this.EOF;
	                }
	                if (!this._input) this.done = true;

	                var token, match, tempMatch, index, col, lines;
	                if (!this._more) {
	                    this.yytext = '';
	                    this.match = '';
	                }
	                var rules = this._currentRules();
	                for (var i = 0; i < rules.length; i++) {
	                    tempMatch = this._input.match(this.rules[rules[i]]);
	                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
	                        match = tempMatch;
	                        index = i;
	                        if (!this.options.flex) break;
	                    }
	                }
	                if (match) {
	                    lines = match[0].match(/(?:\r\n?|\n).*/g);
	                    if (lines) this.yylineno += lines.length;
	                    this.yylloc = { first_line: this.yylloc.last_line,
	                        last_line: this.yylineno + 1,
	                        first_column: this.yylloc.last_column,
	                        last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length };
	                    this.yytext += match[0];
	                    this.match += match[0];
	                    this.matches = match;
	                    this.yyleng = this.yytext.length;
	                    if (this.options.ranges) {
	                        this.yylloc.range = [this.offset, this.offset += this.yyleng];
	                    }
	                    this._more = false;
	                    this._input = this._input.slice(match[0].length);
	                    this.matched += match[0];
	                    token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);
	                    if (this.done && this._input) this.done = false;
	                    if (token) return token;else return;
	                }
	                if (this._input === "") {
	                    return this.EOF;
	                } else {
	                    return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\n' + this.showPosition(), { text: "", token: null, line: this.yylineno });
	                }
	            },
	            lex: function lex() {
	                var r = this.next();
	                if (typeof r !== 'undefined') {
	                    return r;
	                } else {
	                    return this.lex();
	                }
	            },
	            begin: function begin(condition) {
	                this.conditionStack.push(condition);
	            },
	            popState: function popState() {
	                return this.conditionStack.pop();
	            },
	            _currentRules: function _currentRules() {
	                return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
	            },
	            topState: function topState() {
	                return this.conditionStack[this.conditionStack.length - 2];
	            },
	            pushState: function begin(condition) {
	                this.begin(condition);
	            } };
	        lexer.options = {};
	        lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START
	        /**/) {

	            function strip(start, end) {
	                return yy_.yytext = yy_.yytext.substr(start, yy_.yyleng - end);
	            }

	            var YYSTATE = YY_START;
	            switch ($avoiding_name_collisions) {
	                case 0:
	                    if (yy_.yytext.slice(-2) === "\\\\") {
	                        strip(0, 1);
	                        this.begin("mu");
	                    } else if (yy_.yytext.slice(-1) === "\\") {
	                        strip(0, 1);
	                        this.begin("emu");
	                    } else {
	                        this.begin("mu");
	                    }
	                    if (yy_.yytext) return 15;

	                    break;
	                case 1:
	                    return 15;
	                    break;
	                case 2:
	                    this.popState();
	                    return 15;

	                    break;
	                case 3:
	                    this.begin('raw');return 15;
	                    break;
	                case 4:
	                    this.popState();
	                    // Should be using `this.topState()` below, but it currently
	                    // returns the second top instead of the first top. Opened an
	                    // issue about it at https://github.com/zaach/jison/issues/291
	                    if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {
	                        return 15;
	                    } else {
	                        yy_.yytext = yy_.yytext.substr(5, yy_.yyleng - 9);
	                        return 'END_RAW_BLOCK';
	                    }

	                    break;
	                case 5:
	                    return 15;
	                    break;
	                case 6:
	                    this.popState();
	                    return 14;

	                    break;
	                case 7:
	                    return 65;
	                    break;
	                case 8:
	                    return 68;
	                    break;
	                case 9:
	                    return 19;
	                    break;
	                case 10:
	                    this.popState();
	                    this.begin('raw');
	                    return 23;

	                    break;
	                case 11:
	                    return 55;
	                    break;
	                case 12:
	                    return 60;
	                    break;
	                case 13:
	                    return 29;
	                    break;
	                case 14:
	                    return 47;
	                    break;
	                case 15:
	                    this.popState();return 44;
	                    break;
	                case 16:
	                    this.popState();return 44;
	                    break;
	                case 17:
	                    return 34;
	                    break;
	                case 18:
	                    return 39;
	                    break;
	                case 19:
	                    return 51;
	                    break;
	                case 20:
	                    return 48;
	                    break;
	                case 21:
	                    this.unput(yy_.yytext);
	                    this.popState();
	                    this.begin('com');

	                    break;
	                case 22:
	                    this.popState();
	                    return 14;

	                    break;
	                case 23:
	                    return 48;
	                    break;
	                case 24:
	                    return 73;
	                    break;
	                case 25:
	                    return 72;
	                    break;
	                case 26:
	                    return 72;
	                    break;
	                case 27:
	                    return 87;
	                    break;
	                case 28:
	                    // ignore whitespace
	                    break;
	                case 29:
	                    this.popState();return 54;
	                    break;
	                case 30:
	                    this.popState();return 33;
	                    break;
	                case 31:
	                    yy_.yytext = strip(1, 2).replace(/\\"/g, '"');return 80;
	                    break;
	                case 32:
	                    yy_.yytext = strip(1, 2).replace(/\\'/g, "'");return 80;
	                    break;
	                case 33:
	                    return 85;
	                    break;
	                case 34:
	                    return 82;
	                    break;
	                case 35:
	                    return 82;
	                    break;
	                case 36:
	                    return 83;
	                    break;
	                case 37:
	                    return 84;
	                    break;
	                case 38:
	                    return 81;
	                    break;
	                case 39:
	                    return 75;
	                    break;
	                case 40:
	                    return 77;
	                    break;
	                case 41:
	                    return 72;
	                    break;
	                case 42:
	                    yy_.yytext = yy_.yytext.replace(/\\([\\\]])/g, '$1');return 72;
	                    break;
	                case 43:
	                    return 'INVALID';
	                    break;
	                case 44:
	                    return 5;
	                    break;
	            }
	        };
	        lexer.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{(?=[^\/]))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#>)/, /^(?:\{\{(~)?#\*?)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?\*?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[(\\\]|[^\]])*\])/, /^(?:.)/, /^(?:$)/];
	        lexer.conditions = { "mu": { "rules": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], "inclusive": false }, "emu": { "rules": [2], "inclusive": false }, "com": { "rules": [6], "inclusive": false }, "raw": { "rules": [3, 4, 5], "inclusive": false }, "INITIAL": { "rules": [0, 1, 44], "inclusive": true } };
	        return lexer;
	    })();
	    parser.lexer = lexer;
	    function Parser() {
	        this.yy = {};
	    }Parser.prototype = parser;parser.Parser = Parser;
	    return new Parser();
	})();exports["default"] = handlebars;
	module.exports = exports["default"];

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _visitor = __webpack_require__(39);

	var _visitor2 = _interopRequireDefault(_visitor);

	function WhitespaceControl() {
	  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

	  this.options = options;
	}
	WhitespaceControl.prototype = new _visitor2['default']();

	WhitespaceControl.prototype.Program = function (program) {
	  var doStandalone = !this.options.ignoreStandalone;

	  var isRoot = !this.isRootSeen;
	  this.isRootSeen = true;

	  var body = program.body;
	  for (var i = 0, l = body.length; i < l; i++) {
	    var current = body[i],
	        strip = this.accept(current);

	    if (!strip) {
	      continue;
	    }

	    var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),
	        _isNextWhitespace = isNextWhitespace(body, i, isRoot),
	        openStandalone = strip.openStandalone && _isPrevWhitespace,
	        closeStandalone = strip.closeStandalone && _isNextWhitespace,
	        inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;

	    if (strip.close) {
	      omitRight(body, i, true);
	    }
	    if (strip.open) {
	      omitLeft(body, i, true);
	    }

	    if (doStandalone && inlineStandalone) {
	      omitRight(body, i);

	      if (omitLeft(body, i)) {
	        // If we are on a standalone node, save the indent info for partials
	        if (current.type === 'PartialStatement') {
	          // Pull out the whitespace from the final line
	          current.indent = /([ \t]+$)/.exec(body[i - 1].original)[1];
	        }
	      }
	    }
	    if (doStandalone && openStandalone) {
	      omitRight((current.program || current.inverse).body);

	      // Strip out the previous content node if it's whitespace only
	      omitLeft(body, i);
	    }
	    if (doStandalone && closeStandalone) {
	      // Always strip the next node
	      omitRight(body, i);

	      omitLeft((current.inverse || current.program).body);
	    }
	  }

	  return program;
	};

	WhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (block) {
	  this.accept(block.program);
	  this.accept(block.inverse);

	  // Find the inverse program that is involed with whitespace stripping.
	  var program = block.program || block.inverse,
	      inverse = block.program && block.inverse,
	      firstInverse = inverse,
	      lastInverse = inverse;

	  if (inverse && inverse.chained) {
	    firstInverse = inverse.body[0].program;

	    // Walk the inverse chain to find the last inverse that is actually in the chain.
	    while (lastInverse.chained) {
	      lastInverse = lastInverse.body[lastInverse.body.length - 1].program;
	    }
	  }

	  var strip = {
	    open: block.openStrip.open,
	    close: block.closeStrip.close,

	    // Determine the standalone candiacy. Basically flag our content as being possibly standalone
	    // so our parent can determine if we actually are standalone
	    openStandalone: isNextWhitespace(program.body),
	    closeStandalone: isPrevWhitespace((firstInverse || program).body)
	  };

	  if (block.openStrip.close) {
	    omitRight(program.body, null, true);
	  }

	  if (inverse) {
	    var inverseStrip = block.inverseStrip;

	    if (inverseStrip.open) {
	      omitLeft(program.body, null, true);
	    }

	    if (inverseStrip.close) {
	      omitRight(firstInverse.body, null, true);
	    }
	    if (block.closeStrip.open) {
	      omitLeft(lastInverse.body, null, true);
	    }

	    // Find standalone else statments
	    if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {
	      omitLeft(program.body);
	      omitRight(firstInverse.body);
	    }
	  } else if (block.closeStrip.open) {
	    omitLeft(program.body, null, true);
	  }

	  return strip;
	};

	WhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {
	  return mustache.strip;
	};

	WhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {
	  /* istanbul ignore next */
	  var strip = node.strip || {};
	  return {
	    inlineStandalone: true,
	    open: strip.open,
	    close: strip.close
	  };
	};

	function isPrevWhitespace(body, i, isRoot) {
	  if (i === undefined) {
	    i = body.length;
	  }

	  // Nodes that end with newlines are considered whitespace (but are special
	  // cased for strip operations)
	  var prev = body[i - 1],
	      sibling = body[i - 2];
	  if (!prev) {
	    return isRoot;
	  }

	  if (prev.type === 'ContentStatement') {
	    return (sibling || !isRoot ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(prev.original);
	  }
	}
	function isNextWhitespace(body, i, isRoot) {
	  if (i === undefined) {
	    i = -1;
	  }

	  var next = body[i + 1],
	      sibling = body[i + 2];
	  if (!next) {
	    return isRoot;
	  }

	  if (next.type === 'ContentStatement') {
	    return (sibling || !isRoot ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(next.original);
	  }
	}

	// Marks the node to the right of the position as omitted.
	// I.e. {{foo}}' ' will mark the ' ' node as omitted.
	//
	// If i is undefined, then the first child will be marked as such.
	//
	// If mulitple is truthy then all whitespace will be stripped out until non-whitespace
	// content is met.
	function omitRight(body, i, multiple) {
	  var current = body[i == null ? 0 : i + 1];
	  if (!current || current.type !== 'ContentStatement' || !multiple && current.rightStripped) {
	    return;
	  }

	  var original = current.value;
	  current.value = current.value.replace(multiple ? /^\s+/ : /^[ \t]*\r?\n?/, '');
	  current.rightStripped = current.value !== original;
	}

	// Marks the node to the left of the position as omitted.
	// I.e. ' '{{foo}} will mark the ' ' node as omitted.
	//
	// If i is undefined then the last child will be marked as such.
	//
	// If mulitple is truthy then all whitespace will be stripped out until non-whitespace
	// content is met.
	function omitLeft(body, i, multiple) {
	  var current = body[i == null ? body.length - 1 : i - 1];
	  if (!current || current.type !== 'ContentStatement' || !multiple && current.leftStripped) {
	    return;
	  }

	  // We omit the last node if it's whitespace only and not preceeded by a non-content node.
	  var original = current.value;
	  current.value = current.value.replace(multiple ? /\s+$/ : /[ \t]+$/, '');
	  current.leftStripped = current.value !== original;
	  return current.leftStripped;
	}

	exports['default'] = WhitespaceControl;
	module.exports = exports['default'];

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	function Visitor() {
	  this.parents = [];
	}

	Visitor.prototype = {
	  constructor: Visitor,
	  mutating: false,

	  // Visits a given value. If mutating, will replace the value if necessary.
	  acceptKey: function acceptKey(node, name) {
	    var value = this.accept(node[name]);
	    if (this.mutating) {
	      // Hacky sanity check: This may have a few false positives for type for the helper
	      // methods but will generally do the right thing without a lot of overhead.
	      if (value && !Visitor.prototype[value.type]) {
	        throw new _exception2['default']('Unexpected node type "' + value.type + '" found when accepting ' + name + ' on ' + node.type);
	      }
	      node[name] = value;
	    }
	  },

	  // Performs an accept operation with added sanity check to ensure
	  // required keys are not removed.
	  acceptRequired: function acceptRequired(node, name) {
	    this.acceptKey(node, name);

	    if (!node[name]) {
	      throw new _exception2['default'](node.type + ' requires ' + name);
	    }
	  },

	  // Traverses a given array. If mutating, empty respnses will be removed
	  // for child elements.
	  acceptArray: function acceptArray(array) {
	    for (var i = 0, l = array.length; i < l; i++) {
	      this.acceptKey(array, i);

	      if (!array[i]) {
	        array.splice(i, 1);
	        i--;
	        l--;
	      }
	    }
	  },

	  accept: function accept(object) {
	    if (!object) {
	      return;
	    }

	    /* istanbul ignore next: Sanity code */
	    if (!this[object.type]) {
	      throw new _exception2['default']('Unknown type: ' + object.type, object);
	    }

	    if (this.current) {
	      this.parents.unshift(this.current);
	    }
	    this.current = object;

	    var ret = this[object.type](object);

	    this.current = this.parents.shift();

	    if (!this.mutating || ret) {
	      return ret;
	    } else if (ret !== false) {
	      return object;
	    }
	  },

	  Program: function Program(program) {
	    this.acceptArray(program.body);
	  },

	  MustacheStatement: visitSubExpression,
	  Decorator: visitSubExpression,

	  BlockStatement: visitBlock,
	  DecoratorBlock: visitBlock,

	  PartialStatement: visitPartial,
	  PartialBlockStatement: function PartialBlockStatement(partial) {
	    visitPartial.call(this, partial);

	    this.acceptKey(partial, 'program');
	  },

	  ContentStatement: function ContentStatement() /* content */{},
	  CommentStatement: function CommentStatement() /* comment */{},

	  SubExpression: visitSubExpression,

	  PathExpression: function PathExpression() /* path */{},

	  StringLiteral: function StringLiteral() /* string */{},
	  NumberLiteral: function NumberLiteral() /* number */{},
	  BooleanLiteral: function BooleanLiteral() /* bool */{},
	  UndefinedLiteral: function UndefinedLiteral() /* literal */{},
	  NullLiteral: function NullLiteral() /* literal */{},

	  Hash: function Hash(hash) {
	    this.acceptArray(hash.pairs);
	  },
	  HashPair: function HashPair(pair) {
	    this.acceptRequired(pair, 'value');
	  }
	};

	function visitSubExpression(mustache) {
	  this.acceptRequired(mustache, 'path');
	  this.acceptArray(mustache.params);
	  this.acceptKey(mustache, 'hash');
	}
	function visitBlock(block) {
	  visitSubExpression.call(this, block);

	  this.acceptKey(block, 'program');
	  this.acceptKey(block, 'inverse');
	}
	function visitPartial(partial) {
	  this.acceptRequired(partial, 'name');
	  this.acceptArray(partial.params);
	  this.acceptKey(partial, 'hash');
	}

	exports['default'] = Visitor;
	module.exports = exports['default'];

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.SourceLocation = SourceLocation;
	exports.id = id;
	exports.stripFlags = stripFlags;
	exports.stripComment = stripComment;
	exports.preparePath = preparePath;
	exports.prepareMustache = prepareMustache;
	exports.prepareRawBlock = prepareRawBlock;
	exports.prepareBlock = prepareBlock;
	exports.prepareProgram = prepareProgram;
	exports.preparePartialBlock = preparePartialBlock;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	function validateClose(open, close) {
	  close = close.path ? close.path.original : close;

	  if (open.path.original !== close) {
	    var errorNode = { loc: open.path.loc };

	    throw new _exception2['default'](open.path.original + " doesn't match " + close, errorNode);
	  }
	}

	function SourceLocation(source, locInfo) {
	  this.source = source;
	  this.start = {
	    line: locInfo.first_line,
	    column: locInfo.first_column
	  };
	  this.end = {
	    line: locInfo.last_line,
	    column: locInfo.last_column
	  };
	}

	function id(token) {
	  if (/^\[.*\]$/.test(token)) {
	    return token.substr(1, token.length - 2);
	  } else {
	    return token;
	  }
	}

	function stripFlags(open, close) {
	  return {
	    open: open.charAt(2) === '~',
	    close: close.charAt(close.length - 3) === '~'
	  };
	}

	function stripComment(comment) {
	  return comment.replace(/^\{\{~?\!-?-?/, '').replace(/-?-?~?\}\}$/, '');
	}

	function preparePath(data, parts, loc) {
	  loc = this.locInfo(loc);

	  var original = data ? '@' : '',
	      dig = [],
	      depth = 0,
	      depthString = '';

	  for (var i = 0, l = parts.length; i < l; i++) {
	    var part = parts[i].part,

	    // If we have [] syntax then we do not treat path references as operators,
	    // i.e. foo.[this] resolves to approximately context.foo['this']
	    isLiteral = parts[i].original !== part;
	    original += (parts[i].separator || '') + part;

	    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {
	      if (dig.length > 0) {
	        throw new _exception2['default']('Invalid path: ' + original, { loc: loc });
	      } else if (part === '..') {
	        depth++;
	        depthString += '../';
	      }
	    } else {
	      dig.push(part);
	    }
	  }

	  return {
	    type: 'PathExpression',
	    data: data,
	    depth: depth,
	    parts: dig,
	    original: original,
	    loc: loc
	  };
	}

	function prepareMustache(path, params, hash, open, strip, locInfo) {
	  // Must use charAt to support IE pre-10
	  var escapeFlag = open.charAt(3) || open.charAt(2),
	      escaped = escapeFlag !== '{' && escapeFlag !== '&';

	  var decorator = /\*/.test(open);
	  return {
	    type: decorator ? 'Decorator' : 'MustacheStatement',
	    path: path,
	    params: params,
	    hash: hash,
	    escaped: escaped,
	    strip: strip,
	    loc: this.locInfo(locInfo)
	  };
	}

	function prepareRawBlock(openRawBlock, contents, close, locInfo) {
	  validateClose(openRawBlock, close);

	  locInfo = this.locInfo(locInfo);
	  var program = {
	    type: 'Program',
	    body: contents,
	    strip: {},
	    loc: locInfo
	  };

	  return {
	    type: 'BlockStatement',
	    path: openRawBlock.path,
	    params: openRawBlock.params,
	    hash: openRawBlock.hash,
	    program: program,
	    openStrip: {},
	    inverseStrip: {},
	    closeStrip: {},
	    loc: locInfo
	  };
	}

	function prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {
	  if (close && close.path) {
	    validateClose(openBlock, close);
	  }

	  var decorator = /\*/.test(openBlock.open);

	  program.blockParams = openBlock.blockParams;

	  var inverse = undefined,
	      inverseStrip = undefined;

	  if (inverseAndProgram) {
	    if (decorator) {
	      throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);
	    }

	    if (inverseAndProgram.chain) {
	      inverseAndProgram.program.body[0].closeStrip = close.strip;
	    }

	    inverseStrip = inverseAndProgram.strip;
	    inverse = inverseAndProgram.program;
	  }

	  if (inverted) {
	    inverted = inverse;
	    inverse = program;
	    program = inverted;
	  }

	  return {
	    type: decorator ? 'DecoratorBlock' : 'BlockStatement',
	    path: openBlock.path,
	    params: openBlock.params,
	    hash: openBlock.hash,
	    program: program,
	    inverse: inverse,
	    openStrip: openBlock.strip,
	    inverseStrip: inverseStrip,
	    closeStrip: close && close.strip,
	    loc: this.locInfo(locInfo)
	  };
	}

	function prepareProgram(statements, loc) {
	  if (!loc && statements.length) {
	    var firstLoc = statements[0].loc,
	        lastLoc = statements[statements.length - 1].loc;

	    /* istanbul ignore else */
	    if (firstLoc && lastLoc) {
	      loc = {
	        source: firstLoc.source,
	        start: {
	          line: firstLoc.start.line,
	          column: firstLoc.start.column
	        },
	        end: {
	          line: lastLoc.end.line,
	          column: lastLoc.end.column
	        }
	      };
	    }
	  }

	  return {
	    type: 'Program',
	    body: statements,
	    strip: {},
	    loc: loc
	  };
	}

	function preparePartialBlock(open, program, close, locInfo) {
	  validateClose(open, close);

	  return {
	    type: 'PartialBlockStatement',
	    name: open.path,
	    params: open.params,
	    hash: open.hash,
	    program: program,
	    openStrip: open.strip,
	    closeStrip: close && close.strip,
	    loc: this.locInfo(locInfo)
	  };
	}

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

	/* eslint-disable new-cap */

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.Compiler = Compiler;
	exports.precompile = precompile;
	exports.compile = compile;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _utils = __webpack_require__(5);

	var _ast = __webpack_require__(35);

	var _ast2 = _interopRequireDefault(_ast);

	var slice = [].slice;

	function Compiler() {}

	// the foundHelper register will disambiguate helper lookup from finding a
	// function in a context. This is necessary for mustache compatibility, which
	// requires that context functions in blocks are evaluated by blockHelperMissing,
	// and then proceed as if the resulting value was provided to blockHelperMissing.

	Compiler.prototype = {
	  compiler: Compiler,

	  equals: function equals(other) {
	    var len = this.opcodes.length;
	    if (other.opcodes.length !== len) {
	      return false;
	    }

	    for (var i = 0; i < len; i++) {
	      var opcode = this.opcodes[i],
	          otherOpcode = other.opcodes[i];
	      if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {
	        return false;
	      }
	    }

	    // We know that length is the same between the two arrays because they are directly tied
	    // to the opcode behavior above.
	    len = this.children.length;
	    for (var i = 0; i < len; i++) {
	      if (!this.children[i].equals(other.children[i])) {
	        return false;
	      }
	    }

	    return true;
	  },

	  guid: 0,

	  compile: function compile(program, options) {
	    this.sourceNode = [];
	    this.opcodes = [];
	    this.children = [];
	    this.options = options;
	    this.stringParams = options.stringParams;
	    this.trackIds = options.trackIds;

	    options.blockParams = options.blockParams || [];

	    // These changes will propagate to the other compiler components
	    var knownHelpers = options.knownHelpers;
	    options.knownHelpers = {
	      'helperMissing': true,
	      'blockHelperMissing': true,
	      'each': true,
	      'if': true,
	      'unless': true,
	      'with': true,
	      'log': true,
	      'lookup': true
	    };
	    if (knownHelpers) {
	      for (var _name in knownHelpers) {
	        /* istanbul ignore else */
	        if (_name in knownHelpers) {
	          this.options.knownHelpers[_name] = knownHelpers[_name];
	        }
	      }
	    }

	    return this.accept(program);
	  },

	  compileProgram: function compileProgram(program) {
	    var childCompiler = new this.compiler(),
	        // eslint-disable-line new-cap
	    result = childCompiler.compile(program, this.options),
	        guid = this.guid++;

	    this.usePartial = this.usePartial || result.usePartial;

	    this.children[guid] = result;
	    this.useDepths = this.useDepths || result.useDepths;

	    return guid;
	  },

	  accept: function accept(node) {
	    /* istanbul ignore next: Sanity code */
	    if (!this[node.type]) {
	      throw new _exception2['default']('Unknown type: ' + node.type, node);
	    }

	    this.sourceNode.unshift(node);
	    var ret = this[node.type](node);
	    this.sourceNode.shift();
	    return ret;
	  },

	  Program: function Program(program) {
	    this.options.blockParams.unshift(program.blockParams);

	    var body = program.body,
	        bodyLength = body.length;
	    for (var i = 0; i < bodyLength; i++) {
	      this.accept(body[i]);
	    }

	    this.options.blockParams.shift();

	    this.isSimple = bodyLength === 1;
	    this.blockParams = program.blockParams ? program.blockParams.length : 0;

	    return this;
	  },

	  BlockStatement: function BlockStatement(block) {
	    transformLiteralToPath(block);

	    var program = block.program,
	        inverse = block.inverse;

	    program = program && this.compileProgram(program);
	    inverse = inverse && this.compileProgram(inverse);

	    var type = this.classifySexpr(block);

	    if (type === 'helper') {
	      this.helperSexpr(block, program, inverse);
	    } else if (type === 'simple') {
	      this.simpleSexpr(block);

	      // now that the simple mustache is resolved, we need to
	      // evaluate it by executing `blockHelperMissing`
	      this.opcode('pushProgram', program);
	      this.opcode('pushProgram', inverse);
	      this.opcode('emptyHash');
	      this.opcode('blockValue', block.path.original);
	    } else {
	      this.ambiguousSexpr(block, program, inverse);

	      // now that the simple mustache is resolved, we need to
	      // evaluate it by executing `blockHelperMissing`
	      this.opcode('pushProgram', program);
	      this.opcode('pushProgram', inverse);
	      this.opcode('emptyHash');
	      this.opcode('ambiguousBlockValue');
	    }

	    this.opcode('append');
	  },

	  DecoratorBlock: function DecoratorBlock(decorator) {
	    var program = decorator.program && this.compileProgram(decorator.program);
	    var params = this.setupFullMustacheParams(decorator, program, undefined),
	        path = decorator.path;

	    this.useDecorators = true;
	    this.opcode('registerDecorator', params.length, path.original);
	  },

	  PartialStatement: function PartialStatement(partial) {
	    this.usePartial = true;

	    var program = partial.program;
	    if (program) {
	      program = this.compileProgram(partial.program);
	    }

	    var params = partial.params;
	    if (params.length > 1) {
	      throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial);
	    } else if (!params.length) {
	      if (this.options.explicitPartialContext) {
	        this.opcode('pushLiteral', 'undefined');
	      } else {
	        params.push({ type: 'PathExpression', parts: [], depth: 0 });
	      }
	    }

	    var partialName = partial.name.original,
	        isDynamic = partial.name.type === 'SubExpression';
	    if (isDynamic) {
	      this.accept(partial.name);
	    }

	    this.setupFullMustacheParams(partial, program, undefined, true);

	    var indent = partial.indent || '';
	    if (this.options.preventIndent && indent) {
	      this.opcode('appendContent', indent);
	      indent = '';
	    }

	    this.opcode('invokePartial', isDynamic, partialName, indent);
	    this.opcode('append');
	  },
	  PartialBlockStatement: function PartialBlockStatement(partialBlock) {
	    this.PartialStatement(partialBlock);
	  },

	  MustacheStatement: function MustacheStatement(mustache) {
	    this.SubExpression(mustache);

	    if (mustache.escaped && !this.options.noEscape) {
	      this.opcode('appendEscaped');
	    } else {
	      this.opcode('append');
	    }
	  },
	  Decorator: function Decorator(decorator) {
	    this.DecoratorBlock(decorator);
	  },

	  ContentStatement: function ContentStatement(content) {
	    if (content.value) {
	      this.opcode('appendContent', content.value);
	    }
	  },

	  CommentStatement: function CommentStatement() {},

	  SubExpression: function SubExpression(sexpr) {
	    transformLiteralToPath(sexpr);
	    var type = this.classifySexpr(sexpr);

	    if (type === 'simple') {
	      this.simpleSexpr(sexpr);
	    } else if (type === 'helper') {
	      this.helperSexpr(sexpr);
	    } else {
	      this.ambiguousSexpr(sexpr);
	    }
	  },
	  ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {
	    var path = sexpr.path,
	        name = path.parts[0],
	        isBlock = program != null || inverse != null;

	    this.opcode('getContext', path.depth);

	    this.opcode('pushProgram', program);
	    this.opcode('pushProgram', inverse);

	    path.strict = true;
	    this.accept(path);

	    this.opcode('invokeAmbiguous', name, isBlock);
	  },

	  simpleSexpr: function simpleSexpr(sexpr) {
	    var path = sexpr.path;
	    path.strict = true;
	    this.accept(path);
	    this.opcode('resolvePossibleLambda');
	  },

	  helperSexpr: function helperSexpr(sexpr, program, inverse) {
	    var params = this.setupFullMustacheParams(sexpr, program, inverse),
	        path = sexpr.path,
	        name = path.parts[0];

	    if (this.options.knownHelpers[name]) {
	      this.opcode('invokeKnownHelper', params.length, name);
	    } else if (this.options.knownHelpersOnly) {
	      throw new _exception2['default']('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);
	    } else {
	      path.strict = true;
	      path.falsy = true;

	      this.accept(path);
	      this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path));
	    }
	  },

	  PathExpression: function PathExpression(path) {
	    this.addDepth(path.depth);
	    this.opcode('getContext', path.depth);

	    var name = path.parts[0],
	        scoped = _ast2['default'].helpers.scopedId(path),
	        blockParamId = !path.depth && !scoped && this.blockParamIndex(name);

	    if (blockParamId) {
	      this.opcode('lookupBlockParam', blockParamId, path.parts);
	    } else if (!name) {
	      // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`
	      this.opcode('pushContext');
	    } else if (path.data) {
	      this.options.data = true;
	      this.opcode('lookupData', path.depth, path.parts, path.strict);
	    } else {
	      this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);
	    }
	  },

	  StringLiteral: function StringLiteral(string) {
	    this.opcode('pushString', string.value);
	  },

	  NumberLiteral: function NumberLiteral(number) {
	    this.opcode('pushLiteral', number.value);
	  },

	  BooleanLiteral: function BooleanLiteral(bool) {
	    this.opcode('pushLiteral', bool.value);
	  },

	  UndefinedLiteral: function UndefinedLiteral() {
	    this.opcode('pushLiteral', 'undefined');
	  },

	  NullLiteral: function NullLiteral() {
	    this.opcode('pushLiteral', 'null');
	  },

	  Hash: function Hash(hash) {
	    var pairs = hash.pairs,
	        i = 0,
	        l = pairs.length;

	    this.opcode('pushHash');

	    for (; i < l; i++) {
	      this.pushParam(pairs[i].value);
	    }
	    while (i--) {
	      this.opcode('assignToHash', pairs[i].key);
	    }
	    this.opcode('popHash');
	  },

	  // HELPERS
	  opcode: function opcode(name) {
	    this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc });
	  },

	  addDepth: function addDepth(depth) {
	    if (!depth) {
	      return;
	    }

	    this.useDepths = true;
	  },

	  classifySexpr: function classifySexpr(sexpr) {
	    var isSimple = _ast2['default'].helpers.simpleId(sexpr.path);

	    var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);

	    // a mustache is an eligible helper if:
	    // * its id is simple (a single part, not `this` or `..`)
	    var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr);

	    // if a mustache is an eligible helper but not a definite
	    // helper, it is ambiguous, and will be resolved in a later
	    // pass or at runtime.
	    var isEligible = !isBlockParam && (isHelper || isSimple);

	    // if ambiguous, we can possibly resolve the ambiguity now
	    // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.
	    if (isEligible && !isHelper) {
	      var _name2 = sexpr.path.parts[0],
	          options = this.options;

	      if (options.knownHelpers[_name2]) {
	        isHelper = true;
	      } else if (options.knownHelpersOnly) {
	        isEligible = false;
	      }
	    }

	    if (isHelper) {
	      return 'helper';
	    } else if (isEligible) {
	      return 'ambiguous';
	    } else {
	      return 'simple';
	    }
	  },

	  pushParams: function pushParams(params) {
	    for (var i = 0, l = params.length; i < l; i++) {
	      this.pushParam(params[i]);
	    }
	  },

	  pushParam: function pushParam(val) {
	    var value = val.value != null ? val.value : val.original || '';

	    if (this.stringParams) {
	      if (value.replace) {
	        value = value.replace(/^(\.?\.\/)*/g, '').replace(/\//g, '.');
	      }

	      if (val.depth) {
	        this.addDepth(val.depth);
	      }
	      this.opcode('getContext', val.depth || 0);
	      this.opcode('pushStringParam', value, val.type);

	      if (val.type === 'SubExpression') {
	        // SubExpressions get evaluated and passed in
	        // in string params mode.
	        this.accept(val);
	      }
	    } else {
	      if (this.trackIds) {
	        var blockParamIndex = undefined;
	        if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {
	          blockParamIndex = this.blockParamIndex(val.parts[0]);
	        }
	        if (blockParamIndex) {
	          var blockParamChild = val.parts.slice(1).join('.');
	          this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);
	        } else {
	          value = val.original || value;
	          if (value.replace) {
	            value = value.replace(/^this(?:\.|$)/, '').replace(/^\.\//, '').replace(/^\.$/, '');
	          }

	          this.opcode('pushId', val.type, value);
	        }
	      }
	      this.accept(val);
	    }
	  },

	  setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {
	    var params = sexpr.params;
	    this.pushParams(params);

	    this.opcode('pushProgram', program);
	    this.opcode('pushProgram', inverse);

	    if (sexpr.hash) {
	      this.accept(sexpr.hash);
	    } else {
	      this.opcode('emptyHash', omitEmpty);
	    }

	    return params;
	  },

	  blockParamIndex: function blockParamIndex(name) {
	    for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {
	      var blockParams = this.options.blockParams[depth],
	          param = blockParams && _utils.indexOf(blockParams, name);
	      if (blockParams && param >= 0) {
	        return [depth, param];
	      }
	    }
	  }
	};

	function precompile(input, options, env) {
	  if (input == null || typeof input !== 'string' && input.type !== 'Program') {
	    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);
	  }

	  options = options || {};
	  if (!('data' in options)) {
	    options.data = true;
	  }
	  if (options.compat) {
	    options.useDepths = true;
	  }

	  var ast = env.parse(input, options),
	      environment = new env.Compiler().compile(ast, options);
	  return new env.JavaScriptCompiler().compile(environment, options);
	}

	function compile(input, options, env) {
	  if (options === undefined) options = {};

	  if (input == null || typeof input !== 'string' && input.type !== 'Program') {
	    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);
	  }

	  options = _utils.extend({}, options);
	  if (!('data' in options)) {
	    options.data = true;
	  }
	  if (options.compat) {
	    options.useDepths = true;
	  }

	  var compiled = undefined;

	  function compileInput() {
	    var ast = env.parse(input, options),
	        environment = new env.Compiler().compile(ast, options),
	        templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);
	    return env.template(templateSpec);
	  }

	  // Template is only compiled on first use and cached after that point.
	  function ret(context, execOptions) {
	    if (!compiled) {
	      compiled = compileInput();
	    }
	    return compiled.call(this, context, execOptions);
	  }
	  ret._setup = function (setupOptions) {
	    if (!compiled) {
	      compiled = compileInput();
	    }
	    return compiled._setup(setupOptions);
	  };
	  ret._child = function (i, data, blockParams, depths) {
	    if (!compiled) {
	      compiled = compileInput();
	    }
	    return compiled._child(i, data, blockParams, depths);
	  };
	  return ret;
	}

	function argEquals(a, b) {
	  if (a === b) {
	    return true;
	  }

	  if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {
	    for (var i = 0; i < a.length; i++) {
	      if (!argEquals(a[i], b[i])) {
	        return false;
	      }
	    }
	    return true;
	  }
	}

	function transformLiteralToPath(sexpr) {
	  if (!sexpr.path.parts) {
	    var literal = sexpr.path;
	    // Casting to string here to make false and 0 literal values play nicely with the rest
	    // of the system.
	    sexpr.path = {
	      type: 'PathExpression',
	      data: false,
	      depth: 0,
	      parts: [literal.original + ''],
	      original: literal.original + '',
	      loc: literal.loc
	    };
	  }
	}

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _base = __webpack_require__(4);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _utils = __webpack_require__(5);

	var _codeGen = __webpack_require__(43);

	var _codeGen2 = _interopRequireDefault(_codeGen);

	function Literal(value) {
	  this.value = value;
	}

	function JavaScriptCompiler() {}

	JavaScriptCompiler.prototype = {
	  // PUBLIC API: You can override these methods in a subclass to provide
	  // alternative compiled forms for name lookup and buffering semantics
	  nameLookup: function nameLookup(parent, name /* , type*/) {
	    if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {
	      return [parent, '.', name];
	    } else {
	      return [parent, '[', JSON.stringify(name), ']'];
	    }
	  },
	  depthedLookup: function depthedLookup(name) {
	    return [this.aliasable('container.lookup'), '(depths, "', name, '")'];
	  },

	  compilerInfo: function compilerInfo() {
	    var revision = _base.COMPILER_REVISION,
	        versions = _base.REVISION_CHANGES[revision];
	    return [revision, versions];
	  },

	  appendToBuffer: function appendToBuffer(source, location, explicit) {
	    // Force a source as this simplifies the merge logic.
	    if (!_utils.isArray(source)) {
	      source = [source];
	    }
	    source = this.source.wrap(source, location);

	    if (this.environment.isSimple) {
	      return ['return ', source, ';'];
	    } else if (explicit) {
	      // This is a case where the buffer operation occurs as a child of another
	      // construct, generally braces. We have to explicitly output these buffer
	      // operations to ensure that the emitted code goes in the correct location.
	      return ['buffer += ', source, ';'];
	    } else {
	      source.appendToBuffer = true;
	      return source;
	    }
	  },

	  initializeBuffer: function initializeBuffer() {
	    return this.quotedString('');
	  },
	  // END PUBLIC API

	  compile: function compile(environment, options, context, asObject) {
	    this.environment = environment;
	    this.options = options;
	    this.stringParams = this.options.stringParams;
	    this.trackIds = this.options.trackIds;
	    this.precompile = !asObject;

	    this.name = this.environment.name;
	    this.isChild = !!context;
	    this.context = context || {
	      decorators: [],
	      programs: [],
	      environments: []
	    };

	    this.preamble();

	    this.stackSlot = 0;
	    this.stackVars = [];
	    this.aliases = {};
	    this.registers = { list: [] };
	    this.hashes = [];
	    this.compileStack = [];
	    this.inlineStack = [];
	    this.blockParams = [];

	    this.compileChildren(environment, options);

	    this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;
	    this.useBlockParams = this.useBlockParams || environment.useBlockParams;

	    var opcodes = environment.opcodes,
	        opcode = undefined,
	        firstLoc = undefined,
	        i = undefined,
	        l = undefined;

	    for (i = 0, l = opcodes.length; i < l; i++) {
	      opcode = opcodes[i];

	      this.source.currentLocation = opcode.loc;
	      firstLoc = firstLoc || opcode.loc;
	      this[opcode.opcode].apply(this, opcode.args);
	    }

	    // Flush any trailing content that might be pending.
	    this.source.currentLocation = firstLoc;
	    this.pushSource('');

	    /* istanbul ignore next */
	    if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {
	      throw new _exception2['default']('Compile completed with content left on stack');
	    }

	    if (!this.decorators.isEmpty()) {
	      this.useDecorators = true;

	      this.decorators.prepend('var decorators = container.decorators;\n');
	      this.decorators.push('return fn;');

	      if (asObject) {
	        this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);
	      } else {
	        this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\n');
	        this.decorators.push('}\n');
	        this.decorators = this.decorators.merge();
	      }
	    } else {
	      this.decorators = undefined;
	    }

	    var fn = this.createFunctionContext(asObject);
	    if (!this.isChild) {
	      var ret = {
	        compiler: this.compilerInfo(),
	        main: fn
	      };

	      if (this.decorators) {
	        ret.main_d = this.decorators; // eslint-disable-line camelcase
	        ret.useDecorators = true;
	      }

	      var _context = this.context;
	      var programs = _context.programs;
	      var decorators = _context.decorators;

	      for (i = 0, l = programs.length; i < l; i++) {
	        if (programs[i]) {
	          ret[i] = programs[i];
	          if (decorators[i]) {
	            ret[i + '_d'] = decorators[i];
	            ret.useDecorators = true;
	          }
	        }
	      }

	      if (this.environment.usePartial) {
	        ret.usePartial = true;
	      }
	      if (this.options.data) {
	        ret.useData = true;
	      }
	      if (this.useDepths) {
	        ret.useDepths = true;
	      }
	      if (this.useBlockParams) {
	        ret.useBlockParams = true;
	      }
	      if (this.options.compat) {
	        ret.compat = true;
	      }

	      if (!asObject) {
	        ret.compiler = JSON.stringify(ret.compiler);

	        this.source.currentLocation = { start: { line: 1, column: 0 } };
	        ret = this.objectLiteral(ret);

	        if (options.srcName) {
	          ret = ret.toStringWithSourceMap({ file: options.destName });
	          ret.map = ret.map && ret.map.toString();
	        } else {
	          ret = ret.toString();
	        }
	      } else {
	        ret.compilerOptions = this.options;
	      }

	      return ret;
	    } else {
	      return fn;
	    }
	  },

	  preamble: function preamble() {
	    // track the last context pushed into place to allow skipping the
	    // getContext opcode when it would be a noop
	    this.lastContext = 0;
	    this.source = new _codeGen2['default'](this.options.srcName);
	    this.decorators = new _codeGen2['default'](this.options.srcName);
	  },

	  createFunctionContext: function createFunctionContext(asObject) {
	    var varDeclarations = '';

	    var locals = this.stackVars.concat(this.registers.list);
	    if (locals.length > 0) {
	      varDeclarations += ', ' + locals.join(', ');
	    }

	    // Generate minimizer alias mappings
	    //
	    // When using true SourceNodes, this will update all references to the given alias
	    // as the source nodes are reused in situ. For the non-source node compilation mode,
	    // aliases will not be used, but this case is already being run on the client and
	    // we aren't concern about minimizing the template size.
	    var aliasCount = 0;
	    for (var alias in this.aliases) {
	      // eslint-disable-line guard-for-in
	      var node = this.aliases[alias];

	      if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {
	        varDeclarations += ', alias' + ++aliasCount + '=' + alias;
	        node.children[0] = 'alias' + aliasCount;
	      }
	    }

	    var params = ['container', 'depth0', 'helpers', 'partials', 'data'];

	    if (this.useBlockParams || this.useDepths) {
	      params.push('blockParams');
	    }
	    if (this.useDepths) {
	      params.push('depths');
	    }

	    // Perform a second pass over the output to merge content when possible
	    var source = this.mergeSource(varDeclarations);

	    if (asObject) {
	      params.push(source);

	      return Function.apply(this, params);
	    } else {
	      return this.source.wrap(['function(', params.join(','), ') {\n  ', source, '}']);
	    }
	  },
	  mergeSource: function mergeSource(varDeclarations) {
	    var isSimple = this.environment.isSimple,
	        appendOnly = !this.forceBuffer,
	        appendFirst = undefined,
	        sourceSeen = undefined,
	        bufferStart = undefined,
	        bufferEnd = undefined;
	    this.source.each(function (line) {
	      if (line.appendToBuffer) {
	        if (bufferStart) {
	          line.prepend('  + ');
	        } else {
	          bufferStart = line;
	        }
	        bufferEnd = line;
	      } else {
	        if (bufferStart) {
	          if (!sourceSeen) {
	            appendFirst = true;
	          } else {
	            bufferStart.prepend('buffer += ');
	          }
	          bufferEnd.add(';');
	          bufferStart = bufferEnd = undefined;
	        }

	        sourceSeen = true;
	        if (!isSimple) {
	          appendOnly = false;
	        }
	      }
	    });

	    if (appendOnly) {
	      if (bufferStart) {
	        bufferStart.prepend('return ');
	        bufferEnd.add(';');
	      } else if (!sourceSeen) {
	        this.source.push('return "";');
	      }
	    } else {
	      varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());

	      if (bufferStart) {
	        bufferStart.prepend('return buffer + ');
	        bufferEnd.add(';');
	      } else {
	        this.source.push('return buffer;');
	      }
	    }

	    if (varDeclarations) {
	      this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\n'));
	    }

	    return this.source.merge();
	  },

	  // [blockValue]
	  //
	  // On stack, before: hash, inverse, program, value
	  // On stack, after: return value of blockHelperMissing
	  //
	  // The purpose of this opcode is to take a block of the form
	  // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and
	  // replace it on the stack with the result of properly
	  // invoking blockHelperMissing.
	  blockValue: function blockValue(name) {
	    var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),
	        params = [this.contextName(0)];
	    this.setupHelperArgs(name, 0, params);

	    var blockName = this.popStack();
	    params.splice(1, 0, blockName);

	    this.push(this.source.functionCall(blockHelperMissing, 'call', params));
	  },

	  // [ambiguousBlockValue]
	  //
	  // On stack, before: hash, inverse, program, value
	  // Compiler value, before: lastHelper=value of last found helper, if any
	  // On stack, after, if no lastHelper: same as [blockValue]
	  // On stack, after, if lastHelper: value
	  ambiguousBlockValue: function ambiguousBlockValue() {
	    // We're being a bit cheeky and reusing the options value from the prior exec
	    var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),
	        params = [this.contextName(0)];
	    this.setupHelperArgs('', 0, params, true);

	    this.flushInline();

	    var current = this.topStack();
	    params.splice(1, 0, current);

	    this.pushSource(['if (!', this.lastHelper, ') { ', current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params), '}']);
	  },

	  // [appendContent]
	  //
	  // On stack, before: ...
	  // On stack, after: ...
	  //
	  // Appends the string value of `content` to the current buffer
	  appendContent: function appendContent(content) {
	    if (this.pendingContent) {
	      content = this.pendingContent + content;
	    } else {
	      this.pendingLocation = this.source.currentLocation;
	    }

	    this.pendingContent = content;
	  },

	  // [append]
	  //
	  // On stack, before: value, ...
	  // On stack, after: ...
	  //
	  // Coerces `value` to a String and appends it to the current buffer.
	  //
	  // If `value` is truthy, or 0, it is coerced into a string and appended
	  // Otherwise, the empty string is appended
	  append: function append() {
	    if (this.isInline()) {
	      this.replaceStack(function (current) {
	        return [' != null ? ', current, ' : ""'];
	      });

	      this.pushSource(this.appendToBuffer(this.popStack()));
	    } else {
	      var local = this.popStack();
	      this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);
	      if (this.environment.isSimple) {
	        this.pushSource(['else { ', this.appendToBuffer("''", undefined, true), ' }']);
	      }
	    }
	  },

	  // [appendEscaped]
	  //
	  // On stack, before: value, ...
	  // On stack, after: ...
	  //
	  // Escape `value` and append it to the buffer
	  appendEscaped: function appendEscaped() {
	    this.pushSource(this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));
	  },

	  // [getContext]
	  //
	  // On stack, before: ...
	  // On stack, after: ...
	  // Compiler value, after: lastContext=depth
	  //
	  // Set the value of the `lastContext` compiler value to the depth
	  getContext: function getContext(depth) {
	    this.lastContext = depth;
	  },

	  // [pushContext]
	  //
	  // On stack, before: ...
	  // On stack, after: currentContext, ...
	  //
	  // Pushes the value of the current context onto the stack.
	  pushContext: function pushContext() {
	    this.pushStackLiteral(this.contextName(this.lastContext));
	  },

	  // [lookupOnContext]
	  //
	  // On stack, before: ...
	  // On stack, after: currentContext[name], ...
	  //
	  // Looks up the value of `name` on the current context and pushes
	  // it onto the stack.
	  lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {
	    var i = 0;

	    if (!scoped && this.options.compat && !this.lastContext) {
	      // The depthed query is expected to handle the undefined logic for the root level that
	      // is implemented below, so we evaluate that directly in compat mode
	      this.push(this.depthedLookup(parts[i++]));
	    } else {
	      this.pushContext();
	    }

	    this.resolvePath('context', parts, i, falsy, strict);
	  },

	  // [lookupBlockParam]
	  //
	  // On stack, before: ...
	  // On stack, after: blockParam[name], ...
	  //
	  // Looks up the value of `parts` on the given block param and pushes
	  // it onto the stack.
	  lookupBlockParam: function lookupBlockParam(blockParamId, parts) {
	    this.useBlockParams = true;

	    this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);
	    this.resolvePath('context', parts, 1);
	  },

	  // [lookupData]
	  //
	  // On stack, before: ...
	  // On stack, after: data, ...
	  //
	  // Push the data lookup operator
	  lookupData: function lookupData(depth, parts, strict) {
	    if (!depth) {
	      this.pushStackLiteral('data');
	    } else {
	      this.pushStackLiteral('container.data(data, ' + depth + ')');
	    }

	    this.resolvePath('data', parts, 0, true, strict);
	  },

	  resolvePath: function resolvePath(type, parts, i, falsy, strict) {
	    // istanbul ignore next

	    var _this = this;

	    if (this.options.strict || this.options.assumeObjects) {
	      this.push(strictLookup(this.options.strict && strict, this, parts, type));
	      return;
	    }

	    var len = parts.length;
	    for (; i < len; i++) {
	      /* eslint-disable no-loop-func */
	      this.replaceStack(function (current) {
	        var lookup = _this.nameLookup(current, parts[i], type);
	        // We want to ensure that zero and false are handled properly if the context (falsy flag)
	        // needs to have the special handling for these values.
	        if (!falsy) {
	          return [' != null ? ', lookup, ' : ', current];
	        } else {
	          // Otherwise we can use generic falsy handling
	          return [' && ', lookup];
	        }
	      });
	      /* eslint-enable no-loop-func */
	    }
	  },

	  // [resolvePossibleLambda]
	  //
	  // On stack, before: value, ...
	  // On stack, after: resolved value, ...
	  //
	  // If the `value` is a lambda, replace it on the stack by
	  // the return value of the lambda
	  resolvePossibleLambda: function resolvePossibleLambda() {
	    this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);
	  },

	  // [pushStringParam]
	  //
	  // On stack, before: ...
	  // On stack, after: string, currentContext, ...
	  //
	  // This opcode is designed for use in string mode, which
	  // provides the string value of a parameter along with its
	  // depth rather than resolving it immediately.
	  pushStringParam: function pushStringParam(string, type) {
	    this.pushContext();
	    this.pushString(type);

	    // If it's a subexpression, the string result
	    // will be pushed after this opcode.
	    if (type !== 'SubExpression') {
	      if (typeof string === 'string') {
	        this.pushString(string);
	      } else {
	        this.pushStackLiteral(string);
	      }
	    }
	  },

	  emptyHash: function emptyHash(omitEmpty) {
	    if (this.trackIds) {
	      this.push('{}'); // hashIds
	    }
	    if (this.stringParams) {
	      this.push('{}'); // hashContexts
	      this.push('{}'); // hashTypes
	    }
	    this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');
	  },
	  pushHash: function pushHash() {
	    if (this.hash) {
	      this.hashes.push(this.hash);
	    }
	    this.hash = { values: [], types: [], contexts: [], ids: [] };
	  },
	  popHash: function popHash() {
	    var hash = this.hash;
	    this.hash = this.hashes.pop();

	    if (this.trackIds) {
	      this.push(this.objectLiteral(hash.ids));
	    }
	    if (this.stringParams) {
	      this.push(this.objectLiteral(hash.contexts));
	      this.push(this.objectLiteral(hash.types));
	    }

	    this.push(this.objectLiteral(hash.values));
	  },

	  // [pushString]
	  //
	  // On stack, before: ...
	  // On stack, after: quotedString(string), ...
	  //
	  // Push a quoted version of `string` onto the stack
	  pushString: function pushString(string) {
	    this.pushStackLiteral(this.quotedString(string));
	  },

	  // [pushLiteral]
	  //
	  // On stack, before: ...
	  // On stack, after: value, ...
	  //
	  // Pushes a value onto the stack. This operation prevents
	  // the compiler from creating a temporary variable to hold
	  // it.
	  pushLiteral: function pushLiteral(value) {
	    this.pushStackLiteral(value);
	  },

	  // [pushProgram]
	  //
	  // On stack, before: ...
	  // On stack, after: program(guid), ...
	  //
	  // Push a program expression onto the stack. This takes
	  // a compile-time guid and converts it into a runtime-accessible
	  // expression.
	  pushProgram: function pushProgram(guid) {
	    if (guid != null) {
	      this.pushStackLiteral(this.programExpression(guid));
	    } else {
	      this.pushStackLiteral(null);
	    }
	  },

	  // [registerDecorator]
	  //
	  // On stack, before: hash, program, params..., ...
	  // On stack, after: ...
	  //
	  // Pops off the decorator's parameters, invokes the decorator,
	  // and inserts the decorator into the decorators list.
	  registerDecorator: function registerDecorator(paramSize, name) {
	    var foundDecorator = this.nameLookup('decorators', name, 'decorator'),
	        options = this.setupHelperArgs(name, paramSize);

	    this.decorators.push(['fn = ', this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]), ' || fn;']);
	  },

	  // [invokeHelper]
	  //
	  // On stack, before: hash, inverse, program, params..., ...
	  // On stack, after: result of helper invocation
	  //
	  // Pops off the helper's parameters, invokes the helper,
	  // and pushes the helper's return value onto the stack.
	  //
	  // If the helper is not found, `helperMissing` is called.
	  invokeHelper: function invokeHelper(paramSize, name, isSimple) {
	    var nonHelper = this.popStack(),
	        helper = this.setupHelper(paramSize, name),
	        simple = isSimple ? [helper.name, ' || '] : '';

	    var lookup = ['('].concat(simple, nonHelper);
	    if (!this.options.strict) {
	      lookup.push(' || ', this.aliasable('helpers.helperMissing'));
	    }
	    lookup.push(')');

	    this.push(this.source.functionCall(lookup, 'call', helper.callParams));
	  },

	  // [invokeKnownHelper]
	  //
	  // On stack, before: hash, inverse, program, params..., ...
	  // On stack, after: result of helper invocation
	  //
	  // This operation is used when the helper is known to exist,
	  // so a `helperMissing` fallback is not required.
	  invokeKnownHelper: function invokeKnownHelper(paramSize, name) {
	    var helper = this.setupHelper(paramSize, name);
	    this.push(this.source.functionCall(helper.name, 'call', helper.callParams));
	  },

	  // [invokeAmbiguous]
	  //
	  // On stack, before: hash, inverse, program, params..., ...
	  // On stack, after: result of disambiguation
	  //
	  // This operation is used when an expression like `{{foo}}`
	  // is provided, but we don't know at compile-time whether it
	  // is a helper or a path.
	  //
	  // This operation emits more code than the other options,
	  // and can be avoided by passing the `knownHelpers` and
	  // `knownHelpersOnly` flags at compile-time.
	  invokeAmbiguous: function invokeAmbiguous(name, helperCall) {
	    this.useRegister('helper');

	    var nonHelper = this.popStack();

	    this.emptyHash();
	    var helper = this.setupHelper(0, name, helperCall);

	    var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');

	    var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];
	    if (!this.options.strict) {
	      lookup[0] = '(helper = ';
	      lookup.push(' != null ? helper : ', this.aliasable('helpers.helperMissing'));
	    }

	    this.push(['(', lookup, helper.paramsInit ? ['),(', helper.paramsInit] : [], '),', '(typeof helper === ', this.aliasable('"function"'), ' ? ', this.source.functionCall('helper', 'call', helper.callParams), ' : helper))']);
	  },

	  // [invokePartial]
	  //
	  // On stack, before: context, ...
	  // On stack after: result of partial invocation
	  //
	  // This operation pops off a context, invokes a partial with that context,
	  // and pushes the result of the invocation back.
	  invokePartial: function invokePartial(isDynamic, name, indent) {
	    var params = [],
	        options = this.setupParams(name, 1, params);

	    if (isDynamic) {
	      name = this.popStack();
	      delete options.name;
	    }

	    if (indent) {
	      options.indent = JSON.stringify(indent);
	    }
	    options.helpers = 'helpers';
	    options.partials = 'partials';
	    options.decorators = 'container.decorators';

	    if (!isDynamic) {
	      params.unshift(this.nameLookup('partials', name, 'partial'));
	    } else {
	      params.unshift(name);
	    }

	    if (this.options.compat) {
	      options.depths = 'depths';
	    }
	    options = this.objectLiteral(options);
	    params.push(options);

	    this.push(this.source.functionCall('container.invokePartial', '', params));
	  },

	  // [assignToHash]
	  //
	  // On stack, before: value, ..., hash, ...
	  // On stack, after: ..., hash, ...
	  //
	  // Pops a value off the stack and assigns it to the current hash
	  assignToHash: function assignToHash(key) {
	    var value = this.popStack(),
	        context = undefined,
	        type = undefined,
	        id = undefined;

	    if (this.trackIds) {
	      id = this.popStack();
	    }
	    if (this.stringParams) {
	      type = this.popStack();
	      context = this.popStack();
	    }

	    var hash = this.hash;
	    if (context) {
	      hash.contexts[key] = context;
	    }
	    if (type) {
	      hash.types[key] = type;
	    }
	    if (id) {
	      hash.ids[key] = id;
	    }
	    hash.values[key] = value;
	  },

	  pushId: function pushId(type, name, child) {
	    if (type === 'BlockParam') {
	      this.pushStackLiteral('blockParams[' + name[0] + '].path[' + name[1] + ']' + (child ? ' + ' + JSON.stringify('.' + child) : ''));
	    } else if (type === 'PathExpression') {
	      this.pushString(name);
	    } else if (type === 'SubExpression') {
	      this.pushStackLiteral('true');
	    } else {
	      this.pushStackLiteral('null');
	    }
	  },

	  // HELPERS

	  compiler: JavaScriptCompiler,

	  compileChildren: function compileChildren(environment, options) {
	    var children = environment.children,
	        child = undefined,
	        compiler = undefined;

	    for (var i = 0, l = children.length; i < l; i++) {
	      child = children[i];
	      compiler = new this.compiler(); // eslint-disable-line new-cap

	      var existing = this.matchExistingProgram(child);

	      if (existing == null) {
	        this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children
	        var index = this.context.programs.length;
	        child.index = index;
	        child.name = 'program' + index;
	        this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);
	        this.context.decorators[index] = compiler.decorators;
	        this.context.environments[index] = child;

	        this.useDepths = this.useDepths || compiler.useDepths;
	        this.useBlockParams = this.useBlockParams || compiler.useBlockParams;
	        child.useDepths = this.useDepths;
	        child.useBlockParams = this.useBlockParams;
	      } else {
	        child.index = existing.index;
	        child.name = 'program' + existing.index;

	        this.useDepths = this.useDepths || existing.useDepths;
	        this.useBlockParams = this.useBlockParams || existing.useBlockParams;
	      }
	    }
	  },
	  matchExistingProgram: function matchExistingProgram(child) {
	    for (var i = 0, len = this.context.environments.length; i < len; i++) {
	      var environment = this.context.environments[i];
	      if (environment && environment.equals(child)) {
	        return environment;
	      }
	    }
	  },

	  programExpression: function programExpression(guid) {
	    var child = this.environment.children[guid],
	        programParams = [child.index, 'data', child.blockParams];

	    if (this.useBlockParams || this.useDepths) {
	      programParams.push('blockParams');
	    }
	    if (this.useDepths) {
	      programParams.push('depths');
	    }

	    return 'container.program(' + programParams.join(', ') + ')';
	  },

	  useRegister: function useRegister(name) {
	    if (!this.registers[name]) {
	      this.registers[name] = true;
	      this.registers.list.push(name);
	    }
	  },

	  push: function push(expr) {
	    if (!(expr instanceof Literal)) {
	      expr = this.source.wrap(expr);
	    }

	    this.inlineStack.push(expr);
	    return expr;
	  },

	  pushStackLiteral: function pushStackLiteral(item) {
	    this.push(new Literal(item));
	  },

	  pushSource: function pushSource(source) {
	    if (this.pendingContent) {
	      this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));
	      this.pendingContent = undefined;
	    }

	    if (source) {
	      this.source.push(source);
	    }
	  },

	  replaceStack: function replaceStack(callback) {
	    var prefix = ['('],
	        stack = undefined,
	        createdStack = undefined,
	        usedLiteral = undefined;

	    /* istanbul ignore next */
	    if (!this.isInline()) {
	      throw new _exception2['default']('replaceStack on non-inline');
	    }

	    // We want to merge the inline statement into the replacement statement via ','
	    var top = this.popStack(true);

	    if (top instanceof Literal) {
	      // Literals do not need to be inlined
	      stack = [top.value];
	      prefix = ['(', stack];
	      usedLiteral = true;
	    } else {
	      // Get or create the current stack name for use by the inline
	      createdStack = true;
	      var _name = this.incrStack();

	      prefix = ['((', this.push(_name), ' = ', top, ')'];
	      stack = this.topStack();
	    }

	    var item = callback.call(this, stack);

	    if (!usedLiteral) {
	      this.popStack();
	    }
	    if (createdStack) {
	      this.stackSlot--;
	    }
	    this.push(prefix.concat(item, ')'));
	  },

	  incrStack: function incrStack() {
	    this.stackSlot++;
	    if (this.stackSlot > this.stackVars.length) {
	      this.stackVars.push('stack' + this.stackSlot);
	    }
	    return this.topStackName();
	  },
	  topStackName: function topStackName() {
	    return 'stack' + this.stackSlot;
	  },
	  flushInline: function flushInline() {
	    var inlineStack = this.inlineStack;
	    this.inlineStack = [];
	    for (var i = 0, len = inlineStack.length; i < len; i++) {
	      var entry = inlineStack[i];
	      /* istanbul ignore if */
	      if (entry instanceof Literal) {
	        this.compileStack.push(entry);
	      } else {
	        var stack = this.incrStack();
	        this.pushSource([stack, ' = ', entry, ';']);
	        this.compileStack.push(stack);
	      }
	    }
	  },
	  isInline: function isInline() {
	    return this.inlineStack.length;
	  },

	  popStack: function popStack(wrapped) {
	    var inline = this.isInline(),
	        item = (inline ? this.inlineStack : this.compileStack).pop();

	    if (!wrapped && item instanceof Literal) {
	      return item.value;
	    } else {
	      if (!inline) {
	        /* istanbul ignore next */
	        if (!this.stackSlot) {
	          throw new _exception2['default']('Invalid stack pop');
	        }
	        this.stackSlot--;
	      }
	      return item;
	    }
	  },

	  topStack: function topStack() {
	    var stack = this.isInline() ? this.inlineStack : this.compileStack,
	        item = stack[stack.length - 1];

	    /* istanbul ignore if */
	    if (item instanceof Literal) {
	      return item.value;
	    } else {
	      return item;
	    }
	  },

	  contextName: function contextName(context) {
	    if (this.useDepths && context) {
	      return 'depths[' + context + ']';
	    } else {
	      return 'depth' + context;
	    }
	  },

	  quotedString: function quotedString(str) {
	    return this.source.quotedString(str);
	  },

	  objectLiteral: function objectLiteral(obj) {
	    return this.source.objectLiteral(obj);
	  },

	  aliasable: function aliasable(name) {
	    var ret = this.aliases[name];
	    if (ret) {
	      ret.referenceCount++;
	      return ret;
	    }

	    ret = this.aliases[name] = this.source.wrap(name);
	    ret.aliasable = true;
	    ret.referenceCount = 1;

	    return ret;
	  },

	  setupHelper: function setupHelper(paramSize, name, blockHelper) {
	    var params = [],
	        paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);
	    var foundHelper = this.nameLookup('helpers', name, 'helper'),
	        callContext = this.aliasable(this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : (container.nullContext || {})');

	    return {
	      params: params,
	      paramsInit: paramsInit,
	      name: foundHelper,
	      callParams: [callContext].concat(params)
	    };
	  },

	  setupParams: function setupParams(helper, paramSize, params) {
	    var options = {},
	        contexts = [],
	        types = [],
	        ids = [],
	        objectArgs = !params,
	        param = undefined;

	    if (objectArgs) {
	      params = [];
	    }

	    options.name = this.quotedString(helper);
	    options.hash = this.popStack();

	    if (this.trackIds) {
	      options.hashIds = this.popStack();
	    }
	    if (this.stringParams) {
	      options.hashTypes = this.popStack();
	      options.hashContexts = this.popStack();
	    }

	    var inverse = this.popStack(),
	        program = this.popStack();

	    // Avoid setting fn and inverse if neither are set. This allows
	    // helpers to do a check for `if (options.fn)`
	    if (program || inverse) {
	      options.fn = program || 'container.noop';
	      options.inverse = inverse || 'container.noop';
	    }

	    // The parameters go on to the stack in order (making sure that they are evaluated in order)
	    // so we need to pop them off the stack in reverse order
	    var i = paramSize;
	    while (i--) {
	      param = this.popStack();
	      params[i] = param;

	      if (this.trackIds) {
	        ids[i] = this.popStack();
	      }
	      if (this.stringParams) {
	        types[i] = this.popStack();
	        contexts[i] = this.popStack();
	      }
	    }

	    if (objectArgs) {
	      options.args = this.source.generateArray(params);
	    }

	    if (this.trackIds) {
	      options.ids = this.source.generateArray(ids);
	    }
	    if (this.stringParams) {
	      options.types = this.source.generateArray(types);
	      options.contexts = this.source.generateArray(contexts);
	    }

	    if (this.options.data) {
	      options.data = 'data';
	    }
	    if (this.useBlockParams) {
	      options.blockParams = 'blockParams';
	    }
	    return options;
	  },

	  setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {
	    var options = this.setupParams(helper, paramSize, params);
	    options = this.objectLiteral(options);
	    if (useRegister) {
	      this.useRegister('options');
	      params.push('options');
	      return ['options=', options];
	    } else if (params) {
	      params.push(options);
	      return '';
	    } else {
	      return options;
	    }
	  }
	};

	(function () {
	  var reservedWords = ('break else new var' + ' case finally return void' + ' catch for switch while' + ' continue function this with' + ' default if throw' + ' delete in try' + ' do instanceof typeof' + ' abstract enum int short' + ' boolean export interface static' + ' byte extends long super' + ' char final native synchronized' + ' class float package throws' + ' const goto private transient' + ' debugger implements protected volatile' + ' double import public let yield await' + ' null true false').split(' ');

	  var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};

	  for (var i = 0, l = reservedWords.length; i < l; i++) {
	    compilerWords[reservedWords[i]] = true;
	  }
	})();

	JavaScriptCompiler.isValidJavaScriptVariableName = function (name) {
	  return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);
	};

	function strictLookup(requireTerminal, compiler, parts, type) {
	  var stack = compiler.popStack(),
	      i = 0,
	      len = parts.length;
	  if (requireTerminal) {
	    len--;
	  }

	  for (; i < len; i++) {
	    stack = compiler.nameLookup(stack, parts[i], type);
	  }

	  if (requireTerminal) {
	    return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ')'];
	  } else {
	    return stack;
	  }
	}

	exports['default'] = JavaScriptCompiler;
	module.exports = exports['default'];

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	/* global define */
	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var SourceNode = undefined;

	try {
	  /* istanbul ignore next */
	  if (false) {
	    // We don't support this in AMD environments. For these environments, we asusme that
	    // they are running on the browser and thus have no need for the source-map library.
	    var SourceMap = require('source-map');
	    SourceNode = SourceMap.SourceNode;
	  }
	} catch (err) {}
	/* NOP */

	/* istanbul ignore if: tested but not covered in istanbul due to dist build  */
	if (!SourceNode) {
	  SourceNode = function (line, column, srcFile, chunks) {
	    this.src = '';
	    if (chunks) {
	      this.add(chunks);
	    }
	  };
	  /* istanbul ignore next */
	  SourceNode.prototype = {
	    add: function add(chunks) {
	      if (_utils.isArray(chunks)) {
	        chunks = chunks.join('');
	      }
	      this.src += chunks;
	    },
	    prepend: function prepend(chunks) {
	      if (_utils.isArray(chunks)) {
	        chunks = chunks.join('');
	      }
	      this.src = chunks + this.src;
	    },
	    toStringWithSourceMap: function toStringWithSourceMap() {
	      return { code: this.toString() };
	    },
	    toString: function toString() {
	      return this.src;
	    }
	  };
	}

	function castChunk(chunk, codeGen, loc) {
	  if (_utils.isArray(chunk)) {
	    var ret = [];

	    for (var i = 0, len = chunk.length; i < len; i++) {
	      ret.push(codeGen.wrap(chunk[i], loc));
	    }
	    return ret;
	  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {
	    // Handle primitives that the SourceNode will throw up on
	    return chunk + '';
	  }
	  return chunk;
	}

	function CodeGen(srcFile) {
	  this.srcFile = srcFile;
	  this.source = [];
	}

	CodeGen.prototype = {
	  isEmpty: function isEmpty() {
	    return !this.source.length;
	  },
	  prepend: function prepend(source, loc) {
	    this.source.unshift(this.wrap(source, loc));
	  },
	  push: function push(source, loc) {
	    this.source.push(this.wrap(source, loc));
	  },

	  merge: function merge() {
	    var source = this.empty();
	    this.each(function (line) {
	      source.add(['  ', line, '\n']);
	    });
	    return source;
	  },

	  each: function each(iter) {
	    for (var i = 0, len = this.source.length; i < len; i++) {
	      iter(this.source[i]);
	    }
	  },

	  empty: function empty() {
	    var loc = this.currentLocation || { start: {} };
	    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);
	  },
	  wrap: function wrap(chunk) {
	    var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1];

	    if (chunk instanceof SourceNode) {
	      return chunk;
	    }

	    chunk = castChunk(chunk, this, loc);

	    return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);
	  },

	  functionCall: function functionCall(fn, type, params) {
	    params = this.generateList(params);
	    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);
	  },

	  quotedString: function quotedString(str) {
	    return '"' + (str + '').replace(/\\/g, '\\\\').replace(/"/g, '\\"').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\u2028/g, '\\u2028') // Per Ecma-262 7.3 + 7.8.4
	    .replace(/\u2029/g, '\\u2029') + '"';
	  },

	  objectLiteral: function objectLiteral(obj) {
	    var pairs = [];

	    for (var key in obj) {
	      if (obj.hasOwnProperty(key)) {
	        var value = castChunk(obj[key], this);
	        if (value !== 'undefined') {
	          pairs.push([this.quotedString(key), ':', value]);
	        }
	      }
	    }

	    var ret = this.generateList(pairs);
	    ret.prepend('{');
	    ret.add('}');
	    return ret;
	  },

	  generateList: function generateList(entries) {
	    var ret = this.empty();

	    for (var i = 0, len = entries.length; i < len; i++) {
	      if (i) {
	        ret.add(',');
	      }

	      ret.add(castChunk(entries[i], this));
	    }

	    return ret;
	  },

	  generateArray: function generateArray(entries) {
	    var ret = this.generateList(entries);
	    ret.prepend('[');
	    ret.add(']');

	    return ret;
	  }
	};

	exports['default'] = CodeGen;
	module.exports = exports['default'];

/***/ })
/******/ ])
});
;
/**
 * Swiper 3.4.2
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * 
 * http://www.idangero.us/swiper/
 * 
 * Copyright 2017, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 * 
 * Licensed under MIT
 * 
 * Released on: March 10, 2017
 */
!function(){"use strict";var e,a=function(s,i){function r(e){return Math.floor(e)}function n(){var e=T.params.autoplay,a=T.slides.eq(T.activeIndex);a.attr("data-swiper-autoplay")&&(e=a.attr("data-swiper-autoplay")||T.params.autoplay),T.autoplayTimeoutId=setTimeout(function(){T.params.loop?(T.fixLoop(),T._slideNext(),T.emit("onAutoplay",T)):T.isEnd?i.autoplayStopOnLast?T.stopAutoplay():(T._slideTo(0),T.emit("onAutoplay",T)):(T._slideNext(),T.emit("onAutoplay",T))},e)}function o(a,t){var s=e(a.target);if(!s.is(t))if("string"==typeof t)s=s.parents(t);else if(t.nodeType){var i;return s.parents().each(function(e,a){a===t&&(i=t)}),i?t:void 0}if(0!==s.length)return s[0]}function l(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,s=new t(function(e){e.forEach(function(e){T.onResize(!0),T.emit("onObserverUpdate",T,e)})});s.observe(e,{attributes:void 0===a.attributes||a.attributes,childList:void 0===a.childList||a.childList,characterData:void 0===a.characterData||a.characterData}),T.observers.push(s)}function p(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!T.params.allowSwipeToNext&&(T.isHorizontal()&&39===a||!T.isHorizontal()&&40===a))return!1;if(!T.params.allowSwipeToPrev&&(T.isHorizontal()&&37===a||!T.isHorizontal()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(T.container.parents("."+T.params.slideClass).length>0&&0===T.container.parents("."+T.params.slideActiveClass).length)return;var s={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,r=window.innerHeight,n=T.container.offset();T.rtl&&(n.left=n.left-T.container[0].scrollLeft);for(var o=[[n.left,n.top],[n.left+T.width,n.top],[n.left,n.top+T.height],[n.left+T.width,n.top+T.height]],l=0;l<o.length;l++){var p=o[l];p[0]>=s.left&&p[0]<=s.left+i&&p[1]>=s.top&&p[1]<=s.top+r&&(t=!0)}if(!t)return}T.isHorizontal()?(37!==a&&39!==a||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!T.rtl||37===a&&T.rtl)&&T.slideNext(),(37===a&&!T.rtl||39===a&&T.rtl)&&T.slidePrev()):(38!==a&&40!==a||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&T.slideNext(),38===a&&T.slidePrev()),T.emit("onKeyPress",T,a)}}function d(e){var a=0,t=0,s=0,i=0;return"detail"in e&&(t=e.detail),"wheelDelta"in e&&(t=-e.wheelDelta/120),"wheelDeltaY"in e&&(t=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(a=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(a=t,t=0),s=10*a,i=10*t,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||i)&&e.deltaMode&&(1===e.deltaMode?(s*=40,i*=40):(s*=800,i*=800)),s&&!a&&(a=s<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:a,spinY:t,pixelX:s,pixelY:i}}function u(e){e.originalEvent&&(e=e.originalEvent);var a=0,t=T.rtl?-1:1,s=d(e);if(T.params.mousewheelForceToAxis)if(T.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY)))return;a=s.pixelX*t}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX)))return;a=s.pixelY}else a=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*t:-s.pixelY;if(0!==a){if(T.params.mousewheelInvert&&(a=-a),T.params.freeMode){var i=T.getWrapperTranslate()+a*T.params.mousewheelSensitivity,r=T.isBeginning,n=T.isEnd;if(i>=T.minTranslate()&&(i=T.minTranslate()),i<=T.maxTranslate()&&(i=T.maxTranslate()),T.setWrapperTransition(0),T.setWrapperTranslate(i),T.updateProgress(),T.updateActiveIndex(),(!r&&T.isBeginning||!n&&T.isEnd)&&T.updateClasses(),T.params.freeModeSticky?(clearTimeout(T.mousewheel.timeout),T.mousewheel.timeout=setTimeout(function(){T.slideReset()},300)):T.params.lazyLoading&&T.lazy&&T.lazy.load(),T.emit("onScroll",T,e),T.params.autoplay&&T.params.autoplayDisableOnInteraction&&T.stopAutoplay(),0===i||i===T.maxTranslate())return}else{if((new window.Date).getTime()-T.mousewheel.lastScrollTime>60)if(a<0)if(T.isEnd&&!T.params.loop||T.animating){if(T.params.mousewheelReleaseOnEdges)return!0}else T.slideNext(),T.emit("onScroll",T,e);else if(T.isBeginning&&!T.params.loop||T.animating){if(T.params.mousewheelReleaseOnEdges)return!0}else T.slidePrev(),T.emit("onScroll",T,e);T.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function c(a,t){a=e(a);var s,i,r,n=T.rtl?-1:1;s=a.attr("data-swiper-parallax")||"0",i=a.attr("data-swiper-parallax-x"),r=a.attr("data-swiper-parallax-y"),i||r?(i=i||"0",r=r||"0"):T.isHorizontal()?(i=s,r="0"):(r=s,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*n+"%":i*t*n+"px",r=r.indexOf("%")>=0?parseInt(r,10)*t+"%":r*t+"px",a.transform("translate3d("+i+", "+r+",0px)")}function m(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof a))return new a(s,i);var h={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},g=i&&i.virtualTranslate;i=i||{};var f={};for(var v in i)if("object"!=typeof i[v]||null===i[v]||(i[v].nodeType||i[v]===window||i[v]===document||void 0!==t&&i[v]instanceof t||"undefined"!=typeof jQuery&&i[v]instanceof jQuery))f[v]=i[v];else{f[v]={};for(var w in i[v])f[v][w]=i[v][w]}for(var y in h)if(void 0===i[y])i[y]=h[y];else if("object"==typeof i[y])for(var x in h[y])void 0===i[y][x]&&(i[y][x]=h[y][x]);var T=this;if(T.params=i,T.originalParams=f,T.classNames=[],void 0!==e&&void 0!==t&&(e=t),(void 0!==e||(e=void 0===t?window.Dom7||window.Zepto||window.jQuery:t))&&(T.$=e,T.currentBreakpoint=void 0,T.getActiveBreakpoint=function(){if(!T.params.breakpoints)return!1;var e,a=!1,t=[];for(e in T.params.breakpoints)T.params.breakpoints.hasOwnProperty(e)&&t.push(e);t.sort(function(e,a){return parseInt(e,10)>parseInt(a,10)});for(var s=0;s<t.length;s++)(e=t[s])>=window.innerWidth&&!a&&(a=e);return a||"max"},T.setBreakpoint=function(){var e=T.getActiveBreakpoint();if(e&&T.currentBreakpoint!==e){var a=e in T.params.breakpoints?T.params.breakpoints[e]:T.originalParams,t=T.params.loop&&a.slidesPerView!==T.params.slidesPerView;for(var s in a)T.params[s]=a[s];T.currentBreakpoint=e,t&&T.destroyLoop&&T.reLoop(!0)}},T.params.breakpoints&&T.setBreakpoint(),T.container=e(s),0!==T.container.length)){if(T.container.length>1){var b=[];return T.container.each(function(){b.push(new a(this,i))}),b}T.container[0].swiper=T,T.container.data("swiper",T),T.classNames.push(T.params.containerModifierClass+T.params.direction),T.params.freeMode&&T.classNames.push(T.params.containerModifierClass+"free-mode"),T.support.flexbox||(T.classNames.push(T.params.containerModifierClass+"no-flexbox"),T.params.slidesPerColumn=1),T.params.autoHeight&&T.classNames.push(T.params.containerModifierClass+"autoheight"),(T.params.parallax||T.params.watchSlidesVisibility)&&(T.params.watchSlidesProgress=!0),T.params.touchReleaseOnEdges&&(T.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(T.params.effect)>=0&&(T.support.transforms3d?(T.params.watchSlidesProgress=!0,T.classNames.push(T.params.containerModifierClass+"3d")):T.params.effect="slide"),"slide"!==T.params.effect&&T.classNames.push(T.params.containerModifierClass+T.params.effect),"cube"===T.params.effect&&(T.params.resistanceRatio=0,T.params.slidesPerView=1,T.params.slidesPerColumn=1,T.params.slidesPerGroup=1,T.params.centeredSlides=!1,T.params.spaceBetween=0,T.params.virtualTranslate=!0),"fade"!==T.params.effect&&"flip"!==T.params.effect||(T.params.slidesPerView=1,T.params.slidesPerColumn=1,T.params.slidesPerGroup=1,T.params.watchSlidesProgress=!0,T.params.spaceBetween=0,void 0===g&&(T.params.virtualTranslate=!0)),T.params.grabCursor&&T.support.touch&&(T.params.grabCursor=!1),T.wrapper=T.container.children("."+T.params.wrapperClass),T.params.pagination&&(T.paginationContainer=e(T.params.pagination),T.params.uniqueNavElements&&"string"==typeof T.params.pagination&&T.paginationContainer.length>1&&1===T.container.find(T.params.pagination).length&&(T.paginationContainer=T.container.find(T.params.pagination)),"bullets"===T.params.paginationType&&T.params.paginationClickable?T.paginationContainer.addClass(T.params.paginationModifierClass+"clickable"):T.params.paginationClickable=!1,T.paginationContainer.addClass(T.params.paginationModifierClass+T.params.paginationType)),(T.params.nextButton||T.params.prevButton)&&(T.params.nextButton&&(T.nextButton=e(T.params.nextButton),T.params.uniqueNavElements&&"string"==typeof T.params.nextButton&&T.nextButton.length>1&&1===T.container.find(T.params.nextButton).length&&(T.nextButton=T.container.find(T.params.nextButton))),T.params.prevButton&&(T.prevButton=e(T.params.prevButton),T.params.uniqueNavElements&&"string"==typeof T.params.prevButton&&T.prevButton.length>1&&1===T.container.find(T.params.prevButton).length&&(T.prevButton=T.container.find(T.params.prevButton)))),T.isHorizontal=function(){return"horizontal"===T.params.direction},T.rtl=T.isHorizontal()&&("rtl"===T.container[0].dir.toLowerCase()||"rtl"===T.container.css("direction")),T.rtl&&T.classNames.push(T.params.containerModifierClass+"rtl"),T.rtl&&(T.wrongRTL="-webkit-box"===T.wrapper.css("display")),T.params.slidesPerColumn>1&&T.classNames.push(T.params.containerModifierClass+"multirow"),T.device.android&&T.classNames.push(T.params.containerModifierClass+"android"),T.container.addClass(T.classNames.join(" ")),T.translate=0,T.progress=0,T.velocity=0,T.lockSwipeToNext=function(){T.params.allowSwipeToNext=!1,T.params.allowSwipeToPrev===!1&&T.params.grabCursor&&T.unsetGrabCursor()},T.lockSwipeToPrev=function(){T.params.allowSwipeToPrev=!1,T.params.allowSwipeToNext===!1&&T.params.grabCursor&&T.unsetGrabCursor()},T.lockSwipes=function(){T.params.allowSwipeToNext=T.params.allowSwipeToPrev=!1,T.params.grabCursor&&T.unsetGrabCursor()},T.unlockSwipeToNext=function(){T.params.allowSwipeToNext=!0,T.params.allowSwipeToPrev===!0&&T.params.grabCursor&&T.setGrabCursor()},T.unlockSwipeToPrev=function(){T.params.allowSwipeToPrev=!0,T.params.allowSwipeToNext===!0&&T.params.grabCursor&&T.setGrabCursor()},T.unlockSwipes=function(){T.params.allowSwipeToNext=T.params.allowSwipeToPrev=!0,T.params.grabCursor&&T.setGrabCursor()},T.setGrabCursor=function(e){T.container[0].style.cursor="move",T.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",T.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",T.container[0].style.cursor=e?"grabbing":"grab"},T.unsetGrabCursor=function(){T.container[0].style.cursor=""},T.params.grabCursor&&T.setGrabCursor(),T.imagesToLoad=[],T.imagesLoaded=0,T.loadImage=function(e,a,t,s,i,r){function n(){r&&r()}var o;e.complete&&i?n():a?(o=new window.Image,o.onload=n,o.onerror=n,s&&(o.sizes=s),t&&(o.srcset=t),a&&(o.src=a)):n()},T.preloadImages=function(){function e(){void 0!==T&&null!==T&&T&&(void 0!==T.imagesLoaded&&T.imagesLoaded++,T.imagesLoaded===T.imagesToLoad.length&&(T.params.updateOnImagesReady&&T.update(),T.emit("onImagesReady",T)))}T.imagesToLoad=T.container.find("img");for(var a=0;a<T.imagesToLoad.length;a++)T.loadImage(T.imagesToLoad[a],T.imagesToLoad[a].currentSrc||T.imagesToLoad[a].getAttribute("src"),T.imagesToLoad[a].srcset||T.imagesToLoad[a].getAttribute("srcset"),T.imagesToLoad[a].sizes||T.imagesToLoad[a].getAttribute("sizes"),!0,e)},T.autoplayTimeoutId=void 0,T.autoplaying=!1,T.autoplayPaused=!1,T.startAutoplay=function(){return void 0===T.autoplayTimeoutId&&(!!T.params.autoplay&&(!T.autoplaying&&(T.autoplaying=!0,T.emit("onAutoplayStart",T),void n())))},T.stopAutoplay=function(e){T.autoplayTimeoutId&&(T.autoplayTimeoutId&&clearTimeout(T.autoplayTimeoutId),T.autoplaying=!1,T.autoplayTimeoutId=void 0,T.emit("onAutoplayStop",T))},T.pauseAutoplay=function(e){T.autoplayPaused||(T.autoplayTimeoutId&&clearTimeout(T.autoplayTimeoutId),T.autoplayPaused=!0,0===e?(T.autoplayPaused=!1,n()):T.wrapper.transitionEnd(function(){T&&(T.autoplayPaused=!1,T.autoplaying?n():T.stopAutoplay())}))},T.minTranslate=function(){return-T.snapGrid[0]},T.maxTranslate=function(){return-T.snapGrid[T.snapGrid.length-1]},T.updateAutoHeight=function(){var e,a=[],t=0;if("auto"!==T.params.slidesPerView&&T.params.slidesPerView>1)for(e=0;e<Math.ceil(T.params.slidesPerView);e++){var s=T.activeIndex+e;if(s>T.slides.length)break;a.push(T.slides.eq(s)[0])}else a.push(T.slides.eq(T.activeIndex)[0]);for(e=0;e<a.length;e++)if(void 0!==a[e]){var i=a[e].offsetHeight;t=i>t?i:t}t&&T.wrapper.css("height",t+"px")},T.updateContainerSize=function(){var e,a;e=void 0!==T.params.width?T.params.width:T.container[0].clientWidth,a=void 0!==T.params.height?T.params.height:T.container[0].clientHeight,0===e&&T.isHorizontal()||0===a&&!T.isHorizontal()||(e=e-parseInt(T.container.css("padding-left"),10)-parseInt(T.container.css("padding-right"),10),a=a-parseInt(T.container.css("padding-top"),10)-parseInt(T.container.css("padding-bottom"),10),T.width=e,T.height=a,T.size=T.isHorizontal()?T.width:T.height)},T.updateSlidesSize=function(){T.slides=T.wrapper.children("."+T.params.slideClass),T.snapGrid=[],T.slidesGrid=[],T.slidesSizesGrid=[];var e,a=T.params.spaceBetween,t=-T.params.slidesOffsetBefore,s=0,i=0;if(void 0!==T.size){"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*T.size),T.virtualSize=-a,T.rtl?T.slides.css({marginLeft:"",marginTop:""}):T.slides.css({marginRight:"",marginBottom:""});var n;T.params.slidesPerColumn>1&&(n=Math.floor(T.slides.length/T.params.slidesPerColumn)===T.slides.length/T.params.slidesPerColumn?T.slides.length:Math.ceil(T.slides.length/T.params.slidesPerColumn)*T.params.slidesPerColumn,"auto"!==T.params.slidesPerView&&"row"===T.params.slidesPerColumnFill&&(n=Math.max(n,T.params.slidesPerView*T.params.slidesPerColumn)));var o,l=T.params.slidesPerColumn,p=n/l,d=p-(T.params.slidesPerColumn*p-T.slides.length);for(e=0;e<T.slides.length;e++){o=0;var u=T.slides.eq(e);if(T.params.slidesPerColumn>1){var c,m,h;"column"===T.params.slidesPerColumnFill?(m=Math.floor(e/l),h=e-m*l,(m>d||m===d&&h===l-1)&&++h>=l&&(h=0,m++),c=m+h*n/l,u.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=Math.floor(e/p),m=e-h*p),u.css("margin-"+(T.isHorizontal()?"top":"left"),0!==h&&T.params.spaceBetween&&T.params.spaceBetween+"px").attr("data-swiper-column",m).attr("data-swiper-row",h)}"none"!==u.css("display")&&("auto"===T.params.slidesPerView?(o=T.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),T.params.roundLengths&&(o=r(o))):(o=(T.size-(T.params.slidesPerView-1)*a)/T.params.slidesPerView,T.params.roundLengths&&(o=r(o)),T.isHorizontal()?T.slides[e].style.width=o+"px":T.slides[e].style.height=o+"px"),T.slides[e].swiperSlideSize=o,T.slidesSizesGrid.push(o),T.params.centeredSlides?(t=t+o/2+s/2+a,0===s&&0!==e&&(t=t-T.size/2-a),0===e&&(t=t-T.size/2-a),Math.abs(t)<.001&&(t=0),i%T.params.slidesPerGroup==0&&T.snapGrid.push(t),T.slidesGrid.push(t)):(i%T.params.slidesPerGroup==0&&T.snapGrid.push(t),T.slidesGrid.push(t),t=t+o+a),T.virtualSize+=o+a,s=o,i++)}T.virtualSize=Math.max(T.virtualSize,T.size)+T.params.slidesOffsetAfter;var g;if(T.rtl&&T.wrongRTL&&("slide"===T.params.effect||"coverflow"===T.params.effect)&&T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}),T.support.flexbox&&!T.params.setWrapperSize||(T.isHorizontal()?T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}):T.wrapper.css({height:T.virtualSize+T.params.spaceBetween+"px"})),T.params.slidesPerColumn>1&&(T.virtualSize=(o+T.params.spaceBetween)*n,T.virtualSize=Math.ceil(T.virtualSize/T.params.slidesPerColumn)-T.params.spaceBetween,T.isHorizontal()?T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}):T.wrapper.css({height:T.virtualSize+T.params.spaceBetween+"px"}),T.params.centeredSlides)){for(g=[],e=0;e<T.snapGrid.length;e++)T.snapGrid[e]<T.virtualSize+T.snapGrid[0]&&g.push(T.snapGrid[e]);T.snapGrid=g}if(!T.params.centeredSlides){for(g=[],e=0;e<T.snapGrid.length;e++)T.snapGrid[e]<=T.virtualSize-T.size&&g.push(T.snapGrid[e]);T.snapGrid=g,Math.floor(T.virtualSize-T.size)-Math.floor(T.snapGrid[T.snapGrid.length-1])>1&&T.snapGrid.push(T.virtualSize-T.size)}0===T.snapGrid.length&&(T.snapGrid=[0]),0!==T.params.spaceBetween&&(T.isHorizontal()?T.rtl?T.slides.css({marginLeft:a+"px"}):T.slides.css({marginRight:a+"px"}):T.slides.css({marginBottom:a+"px"})),T.params.watchSlidesProgress&&T.updateSlidesOffset()}},T.updateSlidesOffset=function(){for(var e=0;e<T.slides.length;e++)T.slides[e].swiperSlideOffset=T.isHorizontal()?T.slides[e].offsetLeft:T.slides[e].offsetTop},T.currentSlidesPerView=function(){var e,a,t=1;if(T.params.centeredSlides){var s,i=T.slides[T.activeIndex].swiperSlideSize;for(e=T.activeIndex+1;e<T.slides.length;e++)T.slides[e]&&!s&&(i+=T.slides[e].swiperSlideSize,t++,i>T.size&&(s=!0));for(a=T.activeIndex-1;a>=0;a--)T.slides[a]&&!s&&(i+=T.slides[a].swiperSlideSize,t++,i>T.size&&(s=!0))}else for(e=T.activeIndex+1;e<T.slides.length;e++)T.slidesGrid[e]-T.slidesGrid[T.activeIndex]<T.size&&t++;return t},T.updateSlidesProgress=function(e){if(void 0===e&&(e=T.translate||0),0!==T.slides.length){void 0===T.slides[0].swiperSlideOffset&&T.updateSlidesOffset();var a=-e;T.rtl&&(a=e),T.slides.removeClass(T.params.slideVisibleClass);for(var t=0;t<T.slides.length;t++){var s=T.slides[t],i=(a+(T.params.centeredSlides?T.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+T.params.spaceBetween);if(T.params.watchSlidesVisibility){var r=-(a-s.swiperSlideOffset),n=r+T.slidesSizesGrid[t];(r>=0&&r<T.size||n>0&&n<=T.size||r<=0&&n>=T.size)&&T.slides.eq(t).addClass(T.params.slideVisibleClass)}s.progress=T.rtl?-i:i}}},T.updateProgress=function(e){void 0===e&&(e=T.translate||0);var a=T.maxTranslate()-T.minTranslate(),t=T.isBeginning,s=T.isEnd;0===a?(T.progress=0,T.isBeginning=T.isEnd=!0):(T.progress=(e-T.minTranslate())/a,T.isBeginning=T.progress<=0,T.isEnd=T.progress>=1),T.isBeginning&&!t&&T.emit("onReachBeginning",T),T.isEnd&&!s&&T.emit("onReachEnd",T),T.params.watchSlidesProgress&&T.updateSlidesProgress(e),T.emit("onProgress",T,T.progress)},T.updateActiveIndex=function(){var e,a,t,s=T.rtl?T.translate:-T.translate;for(a=0;a<T.slidesGrid.length;a++)void 0!==T.slidesGrid[a+1]?s>=T.slidesGrid[a]&&s<T.slidesGrid[a+1]-(T.slidesGrid[a+1]-T.slidesGrid[a])/2?e=a:s>=T.slidesGrid[a]&&s<T.slidesGrid[a+1]&&(e=a+1):s>=T.slidesGrid[a]&&(e=a);T.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),t=Math.floor(e/T.params.slidesPerGroup),t>=T.snapGrid.length&&(t=T.snapGrid.length-1),e!==T.activeIndex&&(T.snapIndex=t,T.previousIndex=T.activeIndex,T.activeIndex=e,T.updateClasses(),T.updateRealIndex())},T.updateRealIndex=function(){T.realIndex=parseInt(T.slides.eq(T.activeIndex).attr("data-swiper-slide-index")||T.activeIndex,10)},T.updateClasses=function(){T.slides.removeClass(T.params.slideActiveClass+" "+T.params.slideNextClass+" "+T.params.slidePrevClass+" "+T.params.slideDuplicateActiveClass+" "+T.params.slideDuplicateNextClass+" "+T.params.slideDuplicatePrevClass);var a=T.slides.eq(T.activeIndex);a.addClass(T.params.slideActiveClass),i.loop&&(a.hasClass(T.params.slideDuplicateClass)?T.wrapper.children("."+T.params.slideClass+":not(."+T.params.slideDuplicateClass+')[data-swiper-slide-index="'+T.realIndex+'"]').addClass(T.params.slideDuplicateActiveClass):T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+T.realIndex+'"]').addClass(T.params.slideDuplicateActiveClass));var t=a.next("."+T.params.slideClass).addClass(T.params.slideNextClass);T.params.loop&&0===t.length&&(t=T.slides.eq(0),t.addClass(T.params.slideNextClass));var s=a.prev("."+T.params.slideClass).addClass(T.params.slidePrevClass);if(T.params.loop&&0===s.length&&(s=T.slides.eq(-1),s.addClass(T.params.slidePrevClass)),i.loop&&(t.hasClass(T.params.slideDuplicateClass)?T.wrapper.children("."+T.params.slideClass+":not(."+T.params.slideDuplicateClass+')[data-swiper-slide-index="'+t.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicateNextClass):T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+t.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicateNextClass),s.hasClass(T.params.slideDuplicateClass)?T.wrapper.children("."+T.params.slideClass+":not(."+T.params.slideDuplicateClass+')[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicatePrevClass):T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicatePrevClass)),T.paginationContainer&&T.paginationContainer.length>0){var r,n=T.params.loop?Math.ceil((T.slides.length-2*T.loopedSlides)/T.params.slidesPerGroup):T.snapGrid.length;if(T.params.loop?(r=Math.ceil((T.activeIndex-T.loopedSlides)/T.params.slidesPerGroup),r>T.slides.length-1-2*T.loopedSlides&&(r-=T.slides.length-2*T.loopedSlides),r>n-1&&(r-=n),r<0&&"bullets"!==T.params.paginationType&&(r=n+r)):r=void 0!==T.snapIndex?T.snapIndex:T.activeIndex||0,"bullets"===T.params.paginationType&&T.bullets&&T.bullets.length>0&&(T.bullets.removeClass(T.params.bulletActiveClass),T.paginationContainer.length>1?T.bullets.each(function(){e(this).index()===r&&e(this).addClass(T.params.bulletActiveClass)}):T.bullets.eq(r).addClass(T.params.bulletActiveClass)),"fraction"===T.params.paginationType&&(T.paginationContainer.find("."+T.params.paginationCurrentClass).text(r+1),T.paginationContainer.find("."+T.params.paginationTotalClass).text(n)),"progress"===T.params.paginationType){var o=(r+1)/n,l=o,p=1;T.isHorizontal()||(p=o,l=1),T.paginationContainer.find("."+T.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+p+")").transition(T.params.speed)}"custom"===T.params.paginationType&&T.params.paginationCustomRender&&(T.paginationContainer.html(T.params.paginationCustomRender(T,r+1,n)),T.emit("onPaginationRendered",T,T.paginationContainer[0]))}T.params.loop||(T.params.prevButton&&T.prevButton&&T.prevButton.length>0&&(T.isBeginning?(T.prevButton.addClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.disable(T.prevButton)):(T.prevButton.removeClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.enable(T.prevButton))),T.params.nextButton&&T.nextButton&&T.nextButton.length>0&&(T.isEnd?(T.nextButton.addClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.disable(T.nextButton)):(T.nextButton.removeClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.enable(T.nextButton))))},T.updatePagination=function(){if(T.params.pagination&&T.paginationContainer&&T.paginationContainer.length>0){var e="";if("bullets"===T.params.paginationType){for(var a=T.params.loop?Math.ceil((T.slides.length-2*T.loopedSlides)/T.params.slidesPerGroup):T.snapGrid.length,t=0;t<a;t++)e+=T.params.paginationBulletRender?T.params.paginationBulletRender(T,t,T.params.bulletClass):"<"+T.params.paginationElement+' class="'+T.params.bulletClass+'"></'+T.params.paginationElement+">";T.paginationContainer.html(e),T.bullets=T.paginationContainer.find("."+T.params.bulletClass),T.params.paginationClickable&&T.params.a11y&&T.a11y&&T.a11y.initPagination()}"fraction"===T.params.paginationType&&(e=T.params.paginationFractionRender?T.params.paginationFractionRender(T,T.params.paginationCurrentClass,T.params.paginationTotalClass):'<span class="'+T.params.paginationCurrentClass+'"></span> / <span class="'+T.params.paginationTotalClass+'"></span>',T.paginationContainer.html(e)),"progress"===T.params.paginationType&&(e=T.params.paginationProgressRender?T.params.paginationProgressRender(T,T.params.paginationProgressbarClass):'<span class="'+T.params.paginationProgressbarClass+'"></span>',T.paginationContainer.html(e)),"custom"!==T.params.paginationType&&T.emit("onPaginationRendered",T,T.paginationContainer[0])}},T.update=function(e){function a(){T.rtl,T.translate;t=Math.min(Math.max(T.translate,T.maxTranslate()),T.minTranslate()),T.setWrapperTranslate(t),T.updateActiveIndex(),T.updateClasses()}if(T){T.updateContainerSize(),T.updateSlidesSize(),T.updateProgress(),T.updatePagination(),T.updateClasses(),T.params.scrollbar&&T.scrollbar&&T.scrollbar.set();var t;if(e){T.controller&&T.controller.spline&&(T.controller.spline=void 0),T.params.freeMode?(a(),T.params.autoHeight&&T.updateAutoHeight()):(("auto"===T.params.slidesPerView||T.params.slidesPerView>1)&&T.isEnd&&!T.params.centeredSlides?T.slideTo(T.slides.length-1,0,!1,!0):T.slideTo(T.activeIndex,0,!1,!0))||a()}else T.params.autoHeight&&T.updateAutoHeight()}},T.onResize=function(e){T.params.onBeforeResize&&T.params.onBeforeResize(T),T.params.breakpoints&&T.setBreakpoint();var a=T.params.allowSwipeToPrev,t=T.params.allowSwipeToNext;T.params.allowSwipeToPrev=T.params.allowSwipeToNext=!0,T.updateContainerSize(),T.updateSlidesSize(),("auto"===T.params.slidesPerView||T.params.freeMode||e)&&T.updatePagination(),T.params.scrollbar&&T.scrollbar&&T.scrollbar.set(),T.controller&&T.controller.spline&&(T.controller.spline=void 0);var s=!1;if(T.params.freeMode){var i=Math.min(Math.max(T.translate,T.maxTranslate()),T.minTranslate());T.setWrapperTranslate(i),T.updateActiveIndex(),T.updateClasses(),T.params.autoHeight&&T.updateAutoHeight()}else T.updateClasses(),s=("auto"===T.params.slidesPerView||T.params.slidesPerView>1)&&T.isEnd&&!T.params.centeredSlides?T.slideTo(T.slides.length-1,0,!1,!0):T.slideTo(T.activeIndex,0,!1,!0);T.params.lazyLoading&&!s&&T.lazy&&T.lazy.load(),T.params.allowSwipeToPrev=a,T.params.allowSwipeToNext=t,T.params.onAfterResize&&T.params.onAfterResize(T)},T.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?T.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(T.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),T.touchEvents={start:T.support.touch||!T.params.simulateTouch?"touchstart":T.touchEventsDesktop.start,move:T.support.touch||!T.params.simulateTouch?"touchmove":T.touchEventsDesktop.move,end:T.support.touch||!T.params.simulateTouch?"touchend":T.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===T.params.touchEventsTarget?T.container:T.wrapper).addClass("swiper-wp8-"+T.params.direction),T.initEvents=function(e){var a=e?"off":"on",t=e?"removeEventListener":"addEventListener",s="container"===T.params.touchEventsTarget?T.container[0]:T.wrapper[0],r=T.support.touch?s:document,n=!!T.params.nested;if(T.browser.ie)s[t](T.touchEvents.start,T.onTouchStart,!1),r[t](T.touchEvents.move,T.onTouchMove,n),r[t](T.touchEvents.end,T.onTouchEnd,!1);else{if(T.support.touch){var o=!("touchstart"!==T.touchEvents.start||!T.support.passiveListener||!T.params.passiveListeners)&&{passive:!0,capture:!1};s[t](T.touchEvents.start,T.onTouchStart,o),s[t](T.touchEvents.move,T.onTouchMove,n),s[t](T.touchEvents.end,T.onTouchEnd,o)}(i.simulateTouch&&!T.device.ios&&!T.device.android||i.simulateTouch&&!T.support.touch&&T.device.ios)&&(s[t]("mousedown",T.onTouchStart,!1),document[t]("mousemove",T.onTouchMove,n),document[t]("mouseup",T.onTouchEnd,!1))}window[t]("resize",T.onResize),T.params.nextButton&&T.nextButton&&T.nextButton.length>0&&(T.nextButton[a]("click",T.onClickNext),T.params.a11y&&T.a11y&&T.nextButton[a]("keydown",T.a11y.onEnterKey)),T.params.prevButton&&T.prevButton&&T.prevButton.length>0&&(T.prevButton[a]("click",T.onClickPrev),T.params.a11y&&T.a11y&&T.prevButton[a]("keydown",T.a11y.onEnterKey)),T.params.pagination&&T.params.paginationClickable&&(T.paginationContainer[a]("click","."+T.params.bulletClass,T.onClickIndex),T.params.a11y&&T.a11y&&T.paginationContainer[a]("keydown","."+T.params.bulletClass,T.a11y.onEnterKey)),(T.params.preventClicks||T.params.preventClicksPropagation)&&s[t]("click",T.preventClicks,!0)},T.attachEvents=function(){T.initEvents()},T.detachEvents=function(){T.initEvents(!0)},T.allowClick=!0,T.preventClicks=function(e){T.allowClick||(T.params.preventClicks&&e.preventDefault(),T.params.preventClicksPropagation&&T.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},T.onClickNext=function(e){e.preventDefault(),T.isEnd&&!T.params.loop||T.slideNext()},T.onClickPrev=function(e){e.preventDefault(),T.isBeginning&&!T.params.loop||T.slidePrev()},T.onClickIndex=function(a){a.preventDefault();var t=e(this).index()*T.params.slidesPerGroup;T.params.loop&&(t+=T.loopedSlides),T.slideTo(t)},
T.updateClickedSlide=function(a){var t=o(a,"."+T.params.slideClass),s=!1;if(t)for(var i=0;i<T.slides.length;i++)T.slides[i]===t&&(s=!0);if(!t||!s)return T.clickedSlide=void 0,void(T.clickedIndex=void 0);if(T.clickedSlide=t,T.clickedIndex=e(t).index(),T.params.slideToClickedSlide&&void 0!==T.clickedIndex&&T.clickedIndex!==T.activeIndex){var r,n=T.clickedIndex,l="auto"===T.params.slidesPerView?T.currentSlidesPerView():T.params.slidesPerView;if(T.params.loop){if(T.animating)return;r=parseInt(e(T.clickedSlide).attr("data-swiper-slide-index"),10),T.params.centeredSlides?n<T.loopedSlides-l/2||n>T.slides.length-T.loopedSlides+l/2?(T.fixLoop(),n=T.wrapper.children("."+T.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+T.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){T.slideTo(n)},0)):T.slideTo(n):n>T.slides.length-l?(T.fixLoop(),n=T.wrapper.children("."+T.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+T.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){T.slideTo(n)},0)):T.slideTo(n)}else T.slideTo(n)}};var S,C,z,M,E,P,I,k,L,D,B="input, select, textarea, button, video",H=Date.now(),G=[];T.animating=!1,T.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var X,A;T.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),(X="touchstart"===a.type)||!("which"in a)||3!==a.which){if(T.params.noSwiping&&o(a,"."+T.params.noSwipingClass))return void(T.allowClick=!0);if(!T.params.swipeHandler||o(a,T.params.swipeHandler)){var t=T.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s=T.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;if(!(T.device.ios&&T.params.iOSEdgeSwipeDetection&&t<=T.params.iOSEdgeSwipeThreshold)){if(S=!0,C=!1,z=!0,E=void 0,A=void 0,T.touches.startX=t,T.touches.startY=s,M=Date.now(),T.allowClick=!0,T.updateContainerSize(),T.swipeDirection=void 0,T.params.threshold>0&&(k=!1),"touchstart"!==a.type){var i=!0;e(a.target).is(B)&&(i=!1),document.activeElement&&e(document.activeElement).is(B)&&document.activeElement.blur(),i&&a.preventDefault()}T.emit("onTouchStart",T,a)}}}},T.onTouchMove=function(a){if(a.originalEvent&&(a=a.originalEvent),!X||"mousemove"!==a.type){if(a.preventedByNestedSwiper)return T.touches.startX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,void(T.touches.startY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);if(T.params.onlyExternal)return T.allowClick=!1,void(S&&(T.touches.startX=T.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,T.touches.startY=T.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,M=Date.now()));if(X&&T.params.touchReleaseOnEdges&&!T.params.loop)if(T.isHorizontal()){if(T.touches.currentX<T.touches.startX&&T.translate<=T.maxTranslate()||T.touches.currentX>T.touches.startX&&T.translate>=T.minTranslate())return}else if(T.touches.currentY<T.touches.startY&&T.translate<=T.maxTranslate()||T.touches.currentY>T.touches.startY&&T.translate>=T.minTranslate())return;if(X&&document.activeElement&&a.target===document.activeElement&&e(a.target).is(B))return C=!0,void(T.allowClick=!1);if(z&&T.emit("onTouchMove",T,a),!(a.targetTouches&&a.targetTouches.length>1)){if(T.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,T.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,void 0===E){var t;T.isHorizontal()&&T.touches.currentY===T.touches.startY||!T.isHorizontal()&&T.touches.currentX===T.touches.startX?E=!1:(t=180*Math.atan2(Math.abs(T.touches.currentY-T.touches.startY),Math.abs(T.touches.currentX-T.touches.startX))/Math.PI,E=T.isHorizontal()?t>T.params.touchAngle:90-t>T.params.touchAngle)}if(E&&T.emit("onTouchMoveOpposite",T,a),void 0===A&&(T.touches.currentX===T.touches.startX&&T.touches.currentY===T.touches.startY||(A=!0)),S){if(E)return void(S=!1);if(A){T.allowClick=!1,T.emit("onSliderMove",T,a),a.preventDefault(),T.params.touchMoveStopPropagation&&!T.params.nested&&a.stopPropagation(),C||(i.loop&&T.fixLoop(),I=T.getWrapperTranslate(),T.setWrapperTransition(0),T.animating&&T.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),T.params.autoplay&&T.autoplaying&&(T.params.autoplayDisableOnInteraction?T.stopAutoplay():T.pauseAutoplay()),D=!1,!T.params.grabCursor||T.params.allowSwipeToNext!==!0&&T.params.allowSwipeToPrev!==!0||T.setGrabCursor(!0)),C=!0;var s=T.touches.diff=T.isHorizontal()?T.touches.currentX-T.touches.startX:T.touches.currentY-T.touches.startY;s*=T.params.touchRatio,T.rtl&&(s=-s),T.swipeDirection=s>0?"prev":"next",P=s+I;var r=!0;if(s>0&&P>T.minTranslate()?(r=!1,T.params.resistance&&(P=T.minTranslate()-1+Math.pow(-T.minTranslate()+I+s,T.params.resistanceRatio))):s<0&&P<T.maxTranslate()&&(r=!1,T.params.resistance&&(P=T.maxTranslate()+1-Math.pow(T.maxTranslate()-I-s,T.params.resistanceRatio))),r&&(a.preventedByNestedSwiper=!0),!T.params.allowSwipeToNext&&"next"===T.swipeDirection&&P<I&&(P=I),!T.params.allowSwipeToPrev&&"prev"===T.swipeDirection&&P>I&&(P=I),T.params.threshold>0){if(!(Math.abs(s)>T.params.threshold||k))return void(P=I);if(!k)return k=!0,T.touches.startX=T.touches.currentX,T.touches.startY=T.touches.currentY,P=I,void(T.touches.diff=T.isHorizontal()?T.touches.currentX-T.touches.startX:T.touches.currentY-T.touches.startY)}T.params.followFinger&&((T.params.freeMode||T.params.watchSlidesProgress)&&T.updateActiveIndex(),T.params.freeMode&&(0===G.length&&G.push({position:T.touches[T.isHorizontal()?"startX":"startY"],time:M}),G.push({position:T.touches[T.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),T.updateProgress(P),T.setWrapperTranslate(P))}}}}},T.onTouchEnd=function(a){if(a.originalEvent&&(a=a.originalEvent),z&&T.emit("onTouchEnd",T,a),z=!1,S){T.params.grabCursor&&C&&S&&(T.params.allowSwipeToNext===!0||T.params.allowSwipeToPrev===!0)&&T.setGrabCursor(!1);var t=Date.now(),s=t-M;if(T.allowClick&&(T.updateClickedSlide(a),T.emit("onTap",T,a),s<300&&t-H>300&&(L&&clearTimeout(L),L=setTimeout(function(){T&&(T.params.paginationHide&&T.paginationContainer.length>0&&!e(a.target).hasClass(T.params.bulletClass)&&T.paginationContainer.toggleClass(T.params.paginationHiddenClass),T.emit("onClick",T,a))},300)),s<300&&t-H<300&&(L&&clearTimeout(L),T.emit("onDoubleTap",T,a))),H=Date.now(),setTimeout(function(){T&&(T.allowClick=!0)},0),!S||!C||!T.swipeDirection||0===T.touches.diff||P===I)return void(S=C=!1);S=C=!1;var i;if(i=T.params.followFinger?T.rtl?T.translate:-T.translate:-P,T.params.freeMode){if(i<-T.minTranslate())return void T.slideTo(T.activeIndex);if(i>-T.maxTranslate())return void(T.slides.length<T.snapGrid.length?T.slideTo(T.snapGrid.length-1):T.slideTo(T.slides.length-1));if(T.params.freeModeMomentum){if(G.length>1){var r=G.pop(),n=G.pop(),o=r.position-n.position,l=r.time-n.time;T.velocity=o/l,T.velocity=T.velocity/2,Math.abs(T.velocity)<T.params.freeModeMinimumVelocity&&(T.velocity=0),(l>150||(new window.Date).getTime()-r.time>300)&&(T.velocity=0)}else T.velocity=0;T.velocity=T.velocity*T.params.freeModeMomentumVelocityRatio,G.length=0;var p=1e3*T.params.freeModeMomentumRatio,d=T.velocity*p,u=T.translate+d;T.rtl&&(u=-u);var c,m=!1,h=20*Math.abs(T.velocity)*T.params.freeModeMomentumBounceRatio;if(u<T.maxTranslate())T.params.freeModeMomentumBounce?(u+T.maxTranslate()<-h&&(u=T.maxTranslate()-h),c=T.maxTranslate(),m=!0,D=!0):u=T.maxTranslate();else if(u>T.minTranslate())T.params.freeModeMomentumBounce?(u-T.minTranslate()>h&&(u=T.minTranslate()+h),c=T.minTranslate(),m=!0,D=!0):u=T.minTranslate();else if(T.params.freeModeSticky){var g,f=0;for(f=0;f<T.snapGrid.length;f+=1)if(T.snapGrid[f]>-u){g=f;break}u=Math.abs(T.snapGrid[g]-u)<Math.abs(T.snapGrid[g-1]-u)||"next"===T.swipeDirection?T.snapGrid[g]:T.snapGrid[g-1],T.rtl||(u=-u)}if(0!==T.velocity)p=T.rtl?Math.abs((-u-T.translate)/T.velocity):Math.abs((u-T.translate)/T.velocity);else if(T.params.freeModeSticky)return void T.slideReset();T.params.freeModeMomentumBounce&&m?(T.updateProgress(c),T.setWrapperTransition(p),T.setWrapperTranslate(u),T.onTransitionStart(),T.animating=!0,T.wrapper.transitionEnd(function(){T&&D&&(T.emit("onMomentumBounce",T),T.setWrapperTransition(T.params.speed),T.setWrapperTranslate(c),T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd()}))})):T.velocity?(T.updateProgress(u),T.setWrapperTransition(p),T.setWrapperTranslate(u),T.onTransitionStart(),T.animating||(T.animating=!0,T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd()}))):T.updateProgress(u),T.updateActiveIndex()}return void((!T.params.freeModeMomentum||s>=T.params.longSwipesMs)&&(T.updateProgress(),T.updateActiveIndex()))}var v,w=0,y=T.slidesSizesGrid[0];for(v=0;v<T.slidesGrid.length;v+=T.params.slidesPerGroup)void 0!==T.slidesGrid[v+T.params.slidesPerGroup]?i>=T.slidesGrid[v]&&i<T.slidesGrid[v+T.params.slidesPerGroup]&&(w=v,y=T.slidesGrid[v+T.params.slidesPerGroup]-T.slidesGrid[v]):i>=T.slidesGrid[v]&&(w=v,y=T.slidesGrid[T.slidesGrid.length-1]-T.slidesGrid[T.slidesGrid.length-2]);var x=(i-T.slidesGrid[w])/y;if(s>T.params.longSwipesMs){if(!T.params.longSwipes)return void T.slideTo(T.activeIndex);"next"===T.swipeDirection&&(x>=T.params.longSwipesRatio?T.slideTo(w+T.params.slidesPerGroup):T.slideTo(w)),"prev"===T.swipeDirection&&(x>1-T.params.longSwipesRatio?T.slideTo(w+T.params.slidesPerGroup):T.slideTo(w))}else{if(!T.params.shortSwipes)return void T.slideTo(T.activeIndex);"next"===T.swipeDirection&&T.slideTo(w+T.params.slidesPerGroup),"prev"===T.swipeDirection&&T.slideTo(w)}}},T._slideTo=function(e,a){return T.slideTo(e,a,!0,!0)},T.slideTo=function(e,a,t,s){void 0===t&&(t=!0),void 0===e&&(e=0),e<0&&(e=0),T.snapIndex=Math.floor(e/T.params.slidesPerGroup),T.snapIndex>=T.snapGrid.length&&(T.snapIndex=T.snapGrid.length-1);var i=-T.snapGrid[T.snapIndex];if(T.params.autoplay&&T.autoplaying&&(s||!T.params.autoplayDisableOnInteraction?T.pauseAutoplay(a):T.stopAutoplay()),T.updateProgress(i),T.params.normalizeSlideIndex)for(var r=0;r<T.slidesGrid.length;r++)-Math.floor(100*i)>=Math.floor(100*T.slidesGrid[r])&&(e=r);return!(!T.params.allowSwipeToNext&&i<T.translate&&i<T.minTranslate())&&(!(!T.params.allowSwipeToPrev&&i>T.translate&&i>T.maxTranslate()&&(T.activeIndex||0)!==e)&&(void 0===a&&(a=T.params.speed),T.previousIndex=T.activeIndex||0,T.activeIndex=e,T.updateRealIndex(),T.rtl&&-i===T.translate||!T.rtl&&i===T.translate?(T.params.autoHeight&&T.updateAutoHeight(),T.updateClasses(),"slide"!==T.params.effect&&T.setWrapperTranslate(i),!1):(T.updateClasses(),T.onTransitionStart(t),0===a||T.browser.lteIE9?(T.setWrapperTranslate(i),T.setWrapperTransition(0),T.onTransitionEnd(t)):(T.setWrapperTranslate(i),T.setWrapperTransition(a),T.animating||(T.animating=!0,T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd(t)}))),!0)))},T.onTransitionStart=function(e){void 0===e&&(e=!0),T.params.autoHeight&&T.updateAutoHeight(),T.lazy&&T.lazy.onTransitionStart(),e&&(T.emit("onTransitionStart",T),T.activeIndex!==T.previousIndex&&(T.emit("onSlideChangeStart",T),T.activeIndex>T.previousIndex?T.emit("onSlideNextStart",T):T.emit("onSlidePrevStart",T)))},T.onTransitionEnd=function(e){T.animating=!1,T.setWrapperTransition(0),void 0===e&&(e=!0),T.lazy&&T.lazy.onTransitionEnd(),e&&(T.emit("onTransitionEnd",T),T.activeIndex!==T.previousIndex&&(T.emit("onSlideChangeEnd",T),T.activeIndex>T.previousIndex?T.emit("onSlideNextEnd",T):T.emit("onSlidePrevEnd",T))),T.params.history&&T.history&&T.history.setHistory(T.params.history,T.activeIndex),T.params.hashnav&&T.hashnav&&T.hashnav.setHash()},T.slideNext=function(e,a,t){if(T.params.loop){if(T.animating)return!1;T.fixLoop();T.container[0].clientLeft;return T.slideTo(T.activeIndex+T.params.slidesPerGroup,a,e,t)}return T.slideTo(T.activeIndex+T.params.slidesPerGroup,a,e,t)},T._slideNext=function(e){return T.slideNext(!0,e,!0)},T.slidePrev=function(e,a,t){if(T.params.loop){if(T.animating)return!1;T.fixLoop();T.container[0].clientLeft;return T.slideTo(T.activeIndex-1,a,e,t)}return T.slideTo(T.activeIndex-1,a,e,t)},T._slidePrev=function(e){return T.slidePrev(!0,e,!0)},T.slideReset=function(e,a,t){return T.slideTo(T.activeIndex,a,e)},T.disableTouchControl=function(){return T.params.onlyExternal=!0,!0},T.enableTouchControl=function(){return T.params.onlyExternal=!1,!0},T.setWrapperTransition=function(e,a){T.wrapper.transition(e),"slide"!==T.params.effect&&T.effects[T.params.effect]&&T.effects[T.params.effect].setTransition(e),T.params.parallax&&T.parallax&&T.parallax.setTransition(e),T.params.scrollbar&&T.scrollbar&&T.scrollbar.setTransition(e),T.params.control&&T.controller&&T.controller.setTransition(e,a),T.emit("onSetTransition",T,e)},T.setWrapperTranslate=function(e,a,t){var s=0,i=0;T.isHorizontal()?s=T.rtl?-e:e:i=e,T.params.roundLengths&&(s=r(s),i=r(i)),T.params.virtualTranslate||(T.support.transforms3d?T.wrapper.transform("translate3d("+s+"px, "+i+"px, 0px)"):T.wrapper.transform("translate("+s+"px, "+i+"px)")),T.translate=T.isHorizontal()?s:i;var n,o=T.maxTranslate()-T.minTranslate();n=0===o?0:(e-T.minTranslate())/o,n!==T.progress&&T.updateProgress(e),a&&T.updateActiveIndex(),"slide"!==T.params.effect&&T.effects[T.params.effect]&&T.effects[T.params.effect].setTranslate(T.translate),T.params.parallax&&T.parallax&&T.parallax.setTranslate(T.translate),T.params.scrollbar&&T.scrollbar&&T.scrollbar.setTranslate(T.translate),T.params.control&&T.controller&&T.controller.setTranslate(T.translate,t),T.emit("onSetTranslate",T,T.translate)},T.getTranslate=function(e,a){var t,s,i,r;return void 0===a&&(a="x"),T.params.virtualTranslate?T.rtl?-T.translate:T.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(s=i.transform||i.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new window.WebKitCSSMatrix("none"===s?"":s)):(r=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=r.toString().split(",")),"x"===a&&(s=window.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(s=window.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),T.rtl&&s&&(s=-s),s||0)},T.getWrapperTranslate=function(e){return void 0===e&&(e=T.isHorizontal()?"x":"y"),T.getTranslate(T.wrapper[0],e)},T.observers=[],T.initObservers=function(){if(T.params.observeParents)for(var e=T.container.parents(),a=0;a<e.length;a++)l(e[a]);l(T.container[0],{childList:!1}),l(T.wrapper[0],{attributes:!1})},T.disconnectObservers=function(){for(var e=0;e<T.observers.length;e++)T.observers[e].disconnect();T.observers=[]},T.createLoop=function(){T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass).remove();var a=T.wrapper.children("."+T.params.slideClass);"auto"!==T.params.slidesPerView||T.params.loopedSlides||(T.params.loopedSlides=a.length),T.loopedSlides=parseInt(T.params.loopedSlides||T.params.slidesPerView,10),T.loopedSlides=T.loopedSlides+T.params.loopAdditionalSlides,T.loopedSlides>a.length&&(T.loopedSlides=a.length);var t,s=[],i=[];for(a.each(function(t,r){var n=e(this);t<T.loopedSlides&&i.push(r),t<a.length&&t>=a.length-T.loopedSlides&&s.push(r),n.attr("data-swiper-slide-index",t)}),t=0;t<i.length;t++)T.wrapper.append(e(i[t].cloneNode(!0)).addClass(T.params.slideDuplicateClass));for(t=s.length-1;t>=0;t--)T.wrapper.prepend(e(s[t].cloneNode(!0)).addClass(T.params.slideDuplicateClass))},T.destroyLoop=function(){T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass).remove(),T.slides.removeAttr("data-swiper-slide-index")},T.reLoop=function(e){var a=T.activeIndex-T.loopedSlides;T.destroyLoop(),T.createLoop(),T.updateSlidesSize(),e&&T.slideTo(a+T.loopedSlides,0,!1)},T.fixLoop=function(){var e;T.activeIndex<T.loopedSlides?(e=T.slides.length-3*T.loopedSlides+T.activeIndex,e+=T.loopedSlides,T.slideTo(e,0,!1,!0)):("auto"===T.params.slidesPerView&&T.activeIndex>=2*T.loopedSlides||T.activeIndex>T.slides.length-2*T.params.slidesPerView)&&(e=-T.slides.length+T.activeIndex+T.loopedSlides,e+=T.loopedSlides,T.slideTo(e,0,!1,!0))},T.appendSlide=function(e){if(T.params.loop&&T.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&T.wrapper.append(e[a]);else T.wrapper.append(e);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0)},T.prependSlide=function(e){T.params.loop&&T.destroyLoop();var a=T.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&T.wrapper.prepend(e[t]);a=T.activeIndex+e.length}else T.wrapper.prepend(e);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0),T.slideTo(a,0,!1)},T.removeSlide=function(e){T.params.loop&&(T.destroyLoop(),T.slides=T.wrapper.children("."+T.params.slideClass));var a,t=T.activeIndex;if("object"==typeof e&&e.length){for(var s=0;s<e.length;s++)a=e[s],T.slides[a]&&T.slides.eq(a).remove(),a<t&&t--;t=Math.max(t,0)}else a=e,T.slides[a]&&T.slides.eq(a).remove(),a<t&&t--,t=Math.max(t,0);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0),T.params.loop?T.slideTo(t+T.loopedSlides,0,!1):T.slideTo(t,0,!1)},T.removeAllSlides=function(){for(var e=[],a=0;a<T.slides.length;a++)e.push(a);T.removeSlide(e)},T.effects={fade:{setTranslate:function(){for(var e=0;e<T.slides.length;e++){var a=T.slides.eq(e),t=a[0].swiperSlideOffset,s=-t;T.params.virtualTranslate||(s-=T.translate);var i=0;T.isHorizontal()||(i=s,s=0);var r=T.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:r}).transform("translate3d("+s+"px, "+i+"px, 0px)")}},setTransition:function(e){if(T.slides.transition(e),T.params.virtualTranslate&&0!==e){var a=!1;T.slides.transitionEnd(function(){if(!a&&T){a=!0,T.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)T.wrapper.trigger(e[t])}})}}},flip:{setTranslate:function(){for(var a=0;a<T.slides.length;a++){var t=T.slides.eq(a),s=t[0].progress;T.params.flip.limitRotation&&(s=Math.max(Math.min(t[0].progress,1),-1));var i=t[0].swiperSlideOffset,r=-180*s,n=r,o=0,l=-i,p=0;if(T.isHorizontal()?T.rtl&&(n=-n):(p=l,l=0,o=-n,n=0),t[0].style.zIndex=-Math.abs(Math.round(s))+T.slides.length,T.params.flip.slideShadows){var d=T.isHorizontal()?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),u=T.isHorizontal()?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"left":"top")+'"></div>'),t.append(d)),0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"right":"bottom")+'"></div>'),t.append(u)),d.length&&(d[0].style.opacity=Math.max(-s,0)),u.length&&(u[0].style.opacity=Math.max(s,0))}t.transform("translate3d("+l+"px, "+p+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(a){if(T.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),T.params.virtualTranslate&&0!==a){var t=!1;T.slides.eq(T.activeIndex).transitionEnd(function(){if(!t&&T&&e(this).hasClass(T.params.slideActiveClass)){t=!0,T.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=0;s<a.length;s++)T.wrapper.trigger(a[s])}})}}},cube:{setTranslate:function(){var a,t=0;T.params.cube.shadow&&(T.isHorizontal()?(a=T.wrapper.find(".swiper-cube-shadow"),0===a.length&&(a=e('<div class="swiper-cube-shadow"></div>'),T.wrapper.append(a)),a.css({height:T.width+"px"})):(a=T.container.find(".swiper-cube-shadow"),0===a.length&&(a=e('<div class="swiper-cube-shadow"></div>'),T.container.append(a))));for(var s=0;s<T.slides.length;s++){var i=T.slides.eq(s),r=90*s,n=Math.floor(r/360);T.rtl&&(r=-r,n=Math.floor(-r/360));var o=Math.max(Math.min(i[0].progress,1),-1),l=0,p=0,d=0;s%4==0?(l=4*-n*T.size,d=0):(s-1)%4==0?(l=0,d=4*-n*T.size):(s-2)%4==0?(l=T.size+4*n*T.size,d=T.size):(s-3)%4==0&&(l=-T.size,d=3*T.size+4*T.size*n),T.rtl&&(l=-l),T.isHorizontal()||(p=l,l=0);var u="rotateX("+(T.isHorizontal()?0:-r)+"deg) rotateY("+(T.isHorizontal()?r:0)+"deg) translate3d("+l+"px, "+p+"px, "+d+"px)";if(o<=1&&o>-1&&(t=90*s+90*o,T.rtl&&(t=90*-s-90*o)),i.transform(u),T.params.cube.slideShadows){var c=T.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),m=T.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"left":"top")+'"></div>'),i.append(c)),0===m.length&&(m=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"right":"bottom")+'"></div>'),i.append(m)),c.length&&(c[0].style.opacity=Math.max(-o,0)),m.length&&(m[0].style.opacity=Math.max(o,0))}}if(T.wrapper.css({"-webkit-transform-origin":"50% 50% -"+T.size/2+"px","-moz-transform-origin":"50% 50% -"+T.size/2+"px","-ms-transform-origin":"50% 50% -"+T.size/2+"px","transform-origin":"50% 50% -"+T.size/2+"px"}),T.params.cube.shadow)if(T.isHorizontal())a.transform("translate3d(0px, "+(T.width/2+T.params.cube.shadowOffset)+"px, "+-T.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+T.params.cube.shadowScale+")");else{var h=Math.abs(t)-90*Math.floor(Math.abs(t)/90),g=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),f=T.params.cube.shadowScale,v=T.params.cube.shadowScale/g,w=T.params.cube.shadowOffset;a.transform("scale3d("+f+", 1, "+v+") translate3d(0px, "+(T.height/2+w)+"px, "+-T.height/2/v+"px) rotateX(-90deg)")}var y=T.isSafari||T.isUiWebView?-T.size/2:0;T.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(T.isHorizontal()?0:t)+"deg) rotateY("+(T.isHorizontal()?-t:0)+"deg)")},setTransition:function(e){T.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),T.params.cube.shadow&&!T.isHorizontal()&&T.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var a=T.translate,t=T.isHorizontal()?-a+T.width/2:-a+T.height/2,s=T.isHorizontal()?T.params.coverflow.rotate:-T.params.coverflow.rotate,i=T.params.coverflow.depth,r=0,n=T.slides.length;r<n;r++){var o=T.slides.eq(r),l=T.slidesSizesGrid[r],p=o[0].swiperSlideOffset,d=(t-p-l/2)/l*T.params.coverflow.modifier,u=T.isHorizontal()?s*d:0,c=T.isHorizontal()?0:s*d,m=-i*Math.abs(d),h=T.isHorizontal()?0:T.params.coverflow.stretch*d,g=T.isHorizontal()?T.params.coverflow.stretch*d:0;Math.abs(g)<.001&&(g=0),Math.abs(h)<.001&&(h=0),Math.abs(m)<.001&&(m=0),Math.abs(u)<.001&&(u=0),Math.abs(c)<.001&&(c=0);var f="translate3d("+g+"px,"+h+"px,"+m+"px)  rotateX("+c+"deg) rotateY("+u+"deg)";if(o.transform(f),o[0].style.zIndex=1-Math.abs(Math.round(d)),T.params.coverflow.slideShadows){var v=T.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),w=T.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===w.length&&(w=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"right":"bottom")+'"></div>'),o.append(w)),v.length&&(v[0].style.opacity=d>0?d:0),w.length&&(w[0].style.opacity=-d>0?-d:0)}}if(T.browser.ie){T.wrapper[0].style.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){T.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},T.lazy={initialImageLoaded:!1,loadImageInSlide:function(a,t){if(void 0!==a&&(void 0===t&&(t=!0),0!==T.slides.length)){var s=T.slides.eq(a),i=s.find("."+T.params.lazyLoadingClass+":not(."+T.params.lazyStatusLoadedClass+"):not(."+T.params.lazyStatusLoadingClass+")");!s.hasClass(T.params.lazyLoadingClass)||s.hasClass(T.params.lazyStatusLoadedClass)||s.hasClass(T.params.lazyStatusLoadingClass)||(i=i.add(s[0])),0!==i.length&&i.each(function(){var a=e(this);a.addClass(T.params.lazyStatusLoadingClass);var i=a.attr("data-background"),r=a.attr("data-src"),n=a.attr("data-srcset"),o=a.attr("data-sizes");T.loadImage(a[0],r||i,n,o,!1,function(){if(void 0!==T&&null!==T&&T){if(i?(a.css("background-image",'url("'+i+'")'),a.removeAttr("data-background")):(n&&(a.attr("srcset",n),a.removeAttr("data-srcset")),o&&(a.attr("sizes",o),a.removeAttr("data-sizes")),r&&(a.attr("src",r),a.removeAttr("data-src"))),a.addClass(T.params.lazyStatusLoadedClass).removeClass(T.params.lazyStatusLoadingClass),s.find("."+T.params.lazyPreloaderClass+", ."+T.params.preloaderClass).remove(),T.params.loop&&t){var e=s.attr("data-swiper-slide-index");if(s.hasClass(T.params.slideDuplicateClass)){var l=T.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+T.params.slideDuplicateClass+")");T.lazy.loadImageInSlide(l.index(),!1)}else{var p=T.wrapper.children("."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');T.lazy.loadImageInSlide(p.index(),!1)}}T.emit("onLazyImageReady",T,s[0],a[0])}}),T.emit("onLazyImageLoad",T,s[0],a[0])})}},load:function(){var a,t=T.params.slidesPerView;if("auto"===t&&(t=0),T.lazy.initialImageLoaded||(T.lazy.initialImageLoaded=!0),T.params.watchSlidesVisibility)T.wrapper.children("."+T.params.slideVisibleClass).each(function(){T.lazy.loadImageInSlide(e(this).index())});else if(t>1)for(a=T.activeIndex;a<T.activeIndex+t;a++)T.slides[a]&&T.lazy.loadImageInSlide(a);else T.lazy.loadImageInSlide(T.activeIndex);if(T.params.lazyLoadingInPrevNext)if(t>1||T.params.lazyLoadingInPrevNextAmount&&T.params.lazyLoadingInPrevNextAmount>1){var s=T.params.lazyLoadingInPrevNextAmount,i=t,r=Math.min(T.activeIndex+i+Math.max(s,i),T.slides.length),n=Math.max(T.activeIndex-Math.max(i,s),0);for(a=T.activeIndex+t;a<r;a++)T.slides[a]&&T.lazy.loadImageInSlide(a);for(a=n;a<T.activeIndex;a++)T.slides[a]&&T.lazy.loadImageInSlide(a)}else{var o=T.wrapper.children("."+T.params.slideNextClass);o.length>0&&T.lazy.loadImageInSlide(o.index());var l=T.wrapper.children("."+T.params.slidePrevClass);l.length>0&&T.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){T.params.lazyLoading&&(T.params.lazyLoadingOnTransitionStart||!T.params.lazyLoadingOnTransitionStart&&!T.lazy.initialImageLoaded)&&T.lazy.load()},onTransitionEnd:function(){T.params.lazyLoading&&!T.params.lazyLoadingOnTransitionStart&&T.lazy.load()}},T.scrollbar={isTouched:!1,setDragPosition:function(e){var a=T.scrollbar,t=T.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,s=t-a.track.offset()[T.isHorizontal()?"left":"top"]-a.dragSize/2,i=-T.minTranslate()*a.moveDivider,r=-T.maxTranslate()*a.moveDivider;s<i?s=i:s>r&&(s=r),s=-s/a.moveDivider,T.updateProgress(s),T.setWrapperTranslate(s,!0)},dragStart:function(e){var a=T.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),T.params.scrollbarHide&&a.track.css("opacity",1),T.wrapper.transition(100),a.drag.transition(100),T.emit("onScrollbarDragStart",T)},dragMove:function(e){var a=T.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),T.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),T.emit("onScrollbarDragMove",T))},dragEnd:function(e){var a=T.scrollbar;a.isTouched&&(a.isTouched=!1,T.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),T.emit("onScrollbarDragEnd",T),T.params.scrollbarSnapOnRelease&&T.slideReset())},draggableEvents:function(){return T.params.simulateTouch!==!1||T.support.touch?T.touchEvents:T.touchEventsDesktop}(),enableDraggable:function(){var a=T.scrollbar,t=T.support.touch?a.track:document;e(a.track).on(a.draggableEvents.start,a.dragStart),e(t).on(a.draggableEvents.move,a.dragMove),e(t).on(a.draggableEvents.end,a.dragEnd)},disableDraggable:function(){var a=T.scrollbar,t=T.support.touch?a.track:document;e(a.track).off(a.draggableEvents.start,a.dragStart),e(t).off(a.draggableEvents.move,a.dragMove),e(t).off(a.draggableEvents.end,a.dragEnd)},set:function(){if(T.params.scrollbar){var a=T.scrollbar;a.track=e(T.params.scrollbar),T.params.uniqueNavElements&&"string"==typeof T.params.scrollbar&&a.track.length>1&&1===T.container.find(T.params.scrollbar).length&&(a.track=T.container.find(T.params.scrollbar)),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=e('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=T.isHorizontal()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=T.size/T.virtualSize,a.moveDivider=a.divider*(a.trackSize/T.size),a.dragSize=a.trackSize*a.divider,T.isHorizontal()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.divider>=1?a.track[0].style.display="none":a.track[0].style.display="",T.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){if(T.params.scrollbar){var e,a=T.scrollbar,t=(T.translate,a.dragSize);e=(a.trackSize-a.dragSize)*T.progress,T.rtl&&T.isHorizontal()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):e<0?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),T.isHorizontal()?(T.support.transforms3d?a.drag.transform("translate3d("+e+"px, 0, 0)"):a.drag.transform("translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(T.support.transforms3d?a.drag.transform("translate3d(0px, "+e+"px, 0)"):a.drag.transform("translateY("+e+"px)"),a.drag[0].style.height=t+"px"),T.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){T.params.scrollbar&&T.scrollbar.drag.transition(e)}},T.controller={LinearSpline:function(e,a){var t=function(){var e,a,t;return function(s,i){for(a=-1,e=s.length;e-a>1;)s[t=e+a>>1]<=i?a=t:e=t;return e}}();this.x=e,this.y=a,this.lastIndex=e.length-1;var s,i;this.x.length;this.interpolate=function(e){return e?(i=t(this.x,e),s=i-1,(e-this.x[s])*(this.y[i]-this.y[s])/(this.x[i]-this.x[s])+this.y[s]):0}},getInterpolateFunction:function(e){T.controller.spline||(T.controller.spline=T.params.loop?new T.controller.LinearSpline(T.slidesGrid,e.slidesGrid):new T.controller.LinearSpline(T.snapGrid,e.snapGrid))},setTranslate:function(e,t){function s(a){e=a.rtl&&"horizontal"===a.params.direction?-T.translate:T.translate,"slide"===T.params.controlBy&&(T.controller.getInterpolateFunction(a),r=-T.controller.spline.interpolate(-e)),r&&"container"!==T.params.controlBy||(i=(a.maxTranslate()-a.minTranslate())/(T.maxTranslate()-T.minTranslate()),r=(e-T.minTranslate())*i+a.minTranslate()),T.params.controlInverse&&(r=a.maxTranslate()-r),a.updateProgress(r),a.setWrapperTranslate(r,!1,T),a.updateActiveIndex()}var i,r,n=T.params.control;if(Array.isArray(n))for(var o=0;o<n.length;o++)n[o]!==t&&n[o]instanceof a&&s(n[o]);else n instanceof a&&t!==n&&s(n)},setTransition:function(e,t){function s(a){a.setWrapperTransition(e,T),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){r&&(a.params.loop&&"slide"===T.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var i,r=T.params.control;if(Array.isArray(r))for(i=0;i<r.length;i++)r[i]!==t&&r[i]instanceof a&&s(r[i]);else r instanceof a&&t!==r&&s(r)}},T.hashnav={onHashCange:function(e,a){var t=document.location.hash.replace("#","");t!==T.slides.eq(T.activeIndex).attr("data-hash")&&T.slideTo(T.wrapper.children("."+T.params.slideClass+'[data-hash="'+t+'"]').index())},attachEvents:function(a){var t=a?"off":"on";e(window)[t]("hashchange",T.hashnav.onHashCange)},setHash:function(){
if(T.hashnav.initialized&&T.params.hashnav)if(T.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+T.slides.eq(T.activeIndex).attr("data-hash")||"");else{var e=T.slides.eq(T.activeIndex),a=e.attr("data-hash")||e.attr("data-history");document.location.hash=a||""}},init:function(){if(T.params.hashnav&&!T.params.history){T.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=T.slides.length;a<t;a++){var s=T.slides.eq(a),i=s.attr("data-hash")||s.attr("data-history");if(i===e&&!s.hasClass(T.params.slideDuplicateClass)){var r=s.index();T.slideTo(r,0,T.params.runCallbacksOnInit,!0)}}T.params.hashnavWatchState&&T.hashnav.attachEvents()}},destroy:function(){T.params.hashnavWatchState&&T.hashnav.attachEvents(!0)}},T.history={init:function(){if(T.params.history){if(!window.history||!window.history.pushState)return T.params.history=!1,void(T.params.hashnav=!0);T.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,T.params.runCallbacksOnInit),T.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){T.history.paths=T.history.getPathValues(),T.history.scrollToSlide(T.params.speed,T.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),a=e.length;return{key:e[a-2],value:e[a-1]}},setHistory:function(e,a){if(T.history.initialized&&T.params.history){var t=T.slides.eq(a),s=this.slugify(t.attr("data-history"));window.location.pathname.includes(e)||(s=e+"/"+s),T.params.replaceState?window.history.replaceState(null,null,s):window.history.pushState(null,null,s)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,a,t){if(a)for(var s=0,i=T.slides.length;s<i;s++){var r=T.slides.eq(s),n=this.slugify(r.attr("data-history"));if(n===a&&!r.hasClass(T.params.slideDuplicateClass)){var o=r.index();T.slideTo(o,e,t)}}else T.slideTo(0,e,t)}},T.disableKeyboardControl=function(){T.params.keyboardControl=!1,e(document).off("keydown",p)},T.enableKeyboardControl=function(){T.params.keyboardControl=!0,e(document).on("keydown",p)},T.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},T.params.mousewheelControl&&(T.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in document;if(!e){var a=document.createElement("div");a.setAttribute("onwheel","return;"),e="function"==typeof a.onwheel}return!e&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"),T.disableMousewheelControl=function(){if(!T.mousewheel.event)return!1;var a=T.container;return"container"!==T.params.mousewheelEventsTarged&&(a=e(T.params.mousewheelEventsTarged)),a.off(T.mousewheel.event,u),T.params.mousewheelControl=!1,!0},T.enableMousewheelControl=function(){if(!T.mousewheel.event)return!1;var a=T.container;return"container"!==T.params.mousewheelEventsTarged&&(a=e(T.params.mousewheelEventsTarged)),a.on(T.mousewheel.event,u),T.params.mousewheelControl=!0,!0},T.parallax={setTranslate:function(){T.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,T.progress)}),T.slides.each(function(){var a=e(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,Math.min(Math.max(a[0].progress,-1),1))})})},setTransition:function(a){void 0===a&&(a=T.params.speed),T.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=e(this),s=parseInt(t.attr("data-swiper-parallax-duration"),10)||a;0===a&&(s=0),t.transition(s)})}},T.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:T.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var a=e.targetTouches[0].pageX,t=e.targetTouches[0].pageY,s=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-t,2))},onGestureStart:function(a){var t=T.zoom;if(!T.support.gestures){if("touchstart"!==a.type||"touchstart"===a.type&&a.targetTouches.length<2)return;t.gesture.scaleStart=t.getDistanceBetweenTouches(a)}if(!(t.gesture.slide&&t.gesture.slide.length||(t.gesture.slide=e(this),0===t.gesture.slide.length&&(t.gesture.slide=T.slides.eq(T.activeIndex)),t.gesture.image=t.gesture.slide.find("img, svg, canvas"),t.gesture.imageWrap=t.gesture.image.parent("."+T.params.zoomContainerClass),t.gesture.zoomMax=t.gesture.imageWrap.attr("data-swiper-zoom")||T.params.zoomMax,0!==t.gesture.imageWrap.length)))return void(t.gesture.image=void 0);t.gesture.image.transition(0),t.isScaling=!0},onGestureChange:function(e){var a=T.zoom;if(!T.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.gesture.scaleMove=a.getDistanceBetweenTouches(e)}a.gesture.image&&0!==a.gesture.image.length&&(T.support.gestures?a.scale=e.scale*a.currentScale:a.scale=a.gesture.scaleMove/a.gesture.scaleStart*a.currentScale,a.scale>a.gesture.zoomMax&&(a.scale=a.gesture.zoomMax-1+Math.pow(a.scale-a.gesture.zoomMax+1,.5)),a.scale<T.params.zoomMin&&(a.scale=T.params.zoomMin+1-Math.pow(T.params.zoomMin-a.scale+1,.5)),a.gesture.image.transform("translate3d(0,0,0) scale("+a.scale+")"))},onGestureEnd:function(e){var a=T.zoom;!T.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||a.gesture.image&&0!==a.gesture.image.length&&(a.scale=Math.max(Math.min(a.scale,a.gesture.zoomMax),T.params.zoomMin),a.gesture.image.transition(T.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(a.gesture.slide=void 0))},onTouchStart:function(e,a){var t=e.zoom;t.gesture.image&&0!==t.gesture.image.length&&(t.image.isTouched||("android"===e.device.os&&a.preventDefault(),t.image.isTouched=!0,t.image.touchesStart.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,t.image.touchesStart.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},onTouchMove:function(e){var a=T.zoom;if(a.gesture.image&&0!==a.gesture.image.length&&(T.allowClick=!1,a.image.isTouched&&a.gesture.slide)){a.image.isMoved||(a.image.width=a.gesture.image[0].offsetWidth,a.image.height=a.gesture.image[0].offsetHeight,a.image.startX=T.getTranslate(a.gesture.imageWrap[0],"x")||0,a.image.startY=T.getTranslate(a.gesture.imageWrap[0],"y")||0,a.gesture.slideWidth=a.gesture.slide[0].offsetWidth,a.gesture.slideHeight=a.gesture.slide[0].offsetHeight,a.gesture.imageWrap.transition(0),T.rtl&&(a.image.startX=-a.image.startX),T.rtl&&(a.image.startY=-a.image.startY));var t=a.image.width*a.scale,s=a.image.height*a.scale;if(!(t<a.gesture.slideWidth&&s<a.gesture.slideHeight)){if(a.image.minX=Math.min(a.gesture.slideWidth/2-t/2,0),a.image.maxX=-a.image.minX,a.image.minY=Math.min(a.gesture.slideHeight/2-s/2,0),a.image.maxY=-a.image.minY,a.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!a.image.isMoved&&!a.isScaling){if(T.isHorizontal()&&Math.floor(a.image.minX)===Math.floor(a.image.startX)&&a.image.touchesCurrent.x<a.image.touchesStart.x||Math.floor(a.image.maxX)===Math.floor(a.image.startX)&&a.image.touchesCurrent.x>a.image.touchesStart.x)return void(a.image.isTouched=!1);if(!T.isHorizontal()&&Math.floor(a.image.minY)===Math.floor(a.image.startY)&&a.image.touchesCurrent.y<a.image.touchesStart.y||Math.floor(a.image.maxY)===Math.floor(a.image.startY)&&a.image.touchesCurrent.y>a.image.touchesStart.y)return void(a.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),a.image.isMoved=!0,a.image.currentX=a.image.touchesCurrent.x-a.image.touchesStart.x+a.image.startX,a.image.currentY=a.image.touchesCurrent.y-a.image.touchesStart.y+a.image.startY,a.image.currentX<a.image.minX&&(a.image.currentX=a.image.minX+1-Math.pow(a.image.minX-a.image.currentX+1,.8)),a.image.currentX>a.image.maxX&&(a.image.currentX=a.image.maxX-1+Math.pow(a.image.currentX-a.image.maxX+1,.8)),a.image.currentY<a.image.minY&&(a.image.currentY=a.image.minY+1-Math.pow(a.image.minY-a.image.currentY+1,.8)),a.image.currentY>a.image.maxY&&(a.image.currentY=a.image.maxY-1+Math.pow(a.image.currentY-a.image.maxY+1,.8)),a.velocity.prevPositionX||(a.velocity.prevPositionX=a.image.touchesCurrent.x),a.velocity.prevPositionY||(a.velocity.prevPositionY=a.image.touchesCurrent.y),a.velocity.prevTime||(a.velocity.prevTime=Date.now()),a.velocity.x=(a.image.touchesCurrent.x-a.velocity.prevPositionX)/(Date.now()-a.velocity.prevTime)/2,a.velocity.y=(a.image.touchesCurrent.y-a.velocity.prevPositionY)/(Date.now()-a.velocity.prevTime)/2,Math.abs(a.image.touchesCurrent.x-a.velocity.prevPositionX)<2&&(a.velocity.x=0),Math.abs(a.image.touchesCurrent.y-a.velocity.prevPositionY)<2&&(a.velocity.y=0),a.velocity.prevPositionX=a.image.touchesCurrent.x,a.velocity.prevPositionY=a.image.touchesCurrent.y,a.velocity.prevTime=Date.now(),a.gesture.imageWrap.transform("translate3d("+a.image.currentX+"px, "+a.image.currentY+"px,0)")}}},onTouchEnd:function(e,a){var t=e.zoom;if(t.gesture.image&&0!==t.gesture.image.length){if(!t.image.isTouched||!t.image.isMoved)return t.image.isTouched=!1,void(t.image.isMoved=!1);t.image.isTouched=!1,t.image.isMoved=!1;var s=300,i=300,r=t.velocity.x*s,n=t.image.currentX+r,o=t.velocity.y*i,l=t.image.currentY+o;0!==t.velocity.x&&(s=Math.abs((n-t.image.currentX)/t.velocity.x)),0!==t.velocity.y&&(i=Math.abs((l-t.image.currentY)/t.velocity.y));var p=Math.max(s,i);t.image.currentX=n,t.image.currentY=l;var d=t.image.width*t.scale,u=t.image.height*t.scale;t.image.minX=Math.min(t.gesture.slideWidth/2-d/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-u/2,0),t.image.maxY=-t.image.minY,t.image.currentX=Math.max(Math.min(t.image.currentX,t.image.maxX),t.image.minX),t.image.currentY=Math.max(Math.min(t.image.currentY,t.image.maxY),t.image.minY),t.gesture.imageWrap.transition(p).transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}},onTransitionEnd:function(e){var a=e.zoom;a.gesture.slide&&e.previousIndex!==e.activeIndex&&(a.gesture.image.transform("translate3d(0,0,0) scale(1)"),a.gesture.imageWrap.transform("translate3d(0,0,0)"),a.gesture.slide=a.gesture.image=a.gesture.imageWrap=void 0,a.scale=a.currentScale=1)},toggleZoom:function(a,t){var s=a.zoom;if(s.gesture.slide||(s.gesture.slide=a.clickedSlide?e(a.clickedSlide):a.slides.eq(a.activeIndex),s.gesture.image=s.gesture.slide.find("img, svg, canvas"),s.gesture.imageWrap=s.gesture.image.parent("."+a.params.zoomContainerClass)),s.gesture.image&&0!==s.gesture.image.length){var i,r,n,o,l,p,d,u,c,m,h,g,f,v,w,y,x,T;void 0===s.image.touchesStart.x&&t?(i="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,r="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(i=s.image.touchesStart.x,r=s.image.touchesStart.y),s.scale&&1!==s.scale?(s.scale=s.currentScale=1,s.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),s.gesture.slide=void 0):(s.scale=s.currentScale=s.gesture.imageWrap.attr("data-swiper-zoom")||a.params.zoomMax,t?(x=s.gesture.slide[0].offsetWidth,T=s.gesture.slide[0].offsetHeight,n=s.gesture.slide.offset().left,o=s.gesture.slide.offset().top,l=n+x/2-i,p=o+T/2-r,c=s.gesture.image[0].offsetWidth,m=s.gesture.image[0].offsetHeight,h=c*s.scale,g=m*s.scale,f=Math.min(x/2-h/2,0),v=Math.min(T/2-g/2,0),w=-f,y=-v,d=l*s.scale,u=p*s.scale,d<f&&(d=f),d>w&&(d=w),u<v&&(u=v),u>y&&(u=y)):(d=0,u=0),s.gesture.imageWrap.transition(300).transform("translate3d("+d+"px, "+u+"px,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+s.scale+")"))}},attachEvents:function(a){var t=a?"off":"on";if(T.params.zoom){var s=(T.slides,!("touchstart"!==T.touchEvents.start||!T.support.passiveListener||!T.params.passiveListeners)&&{passive:!0,capture:!1});T.support.gestures?(T.slides[t]("gesturestart",T.zoom.onGestureStart,s),T.slides[t]("gesturechange",T.zoom.onGestureChange,s),T.slides[t]("gestureend",T.zoom.onGestureEnd,s)):"touchstart"===T.touchEvents.start&&(T.slides[t](T.touchEvents.start,T.zoom.onGestureStart,s),T.slides[t](T.touchEvents.move,T.zoom.onGestureChange,s),T.slides[t](T.touchEvents.end,T.zoom.onGestureEnd,s)),T[t]("touchStart",T.zoom.onTouchStart),T.slides.each(function(a,s){e(s).find("."+T.params.zoomContainerClass).length>0&&e(s)[t](T.touchEvents.move,T.zoom.onTouchMove)}),T[t]("touchEnd",T.zoom.onTouchEnd),T[t]("transitionEnd",T.zoom.onTransitionEnd),T.params.zoomToggle&&T.on("doubleTap",T.zoom.toggleZoom)}},init:function(){T.zoom.attachEvents()},destroy:function(){T.zoom.attachEvents(!0)}},T._plugins=[];for(var Y in T.plugins){var O=T.plugins[Y](T,T.params[Y]);O&&T._plugins.push(O)}return T.callPlugins=function(e){for(var a=0;a<T._plugins.length;a++)e in T._plugins[a]&&T._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},T.emitterEventListeners={},T.emit=function(e){T.params[e]&&T.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(T.emitterEventListeners[e])for(a=0;a<T.emitterEventListeners[e].length;a++)T.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);T.callPlugins&&T.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},T.on=function(e,a){return e=m(e),T.emitterEventListeners[e]||(T.emitterEventListeners[e]=[]),T.emitterEventListeners[e].push(a),T},T.off=function(e,a){var t;if(e=m(e),void 0===a)return T.emitterEventListeners[e]=[],T;if(T.emitterEventListeners[e]&&0!==T.emitterEventListeners[e].length){for(t=0;t<T.emitterEventListeners[e].length;t++)T.emitterEventListeners[e][t]===a&&T.emitterEventListeners[e].splice(t,1);return T}},T.once=function(e,a){e=m(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),T.off(e,t)};return T.on(e,t),T},T.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(a){13===a.keyCode&&(e(a.target).is(T.params.nextButton)?(T.onClickNext(a),T.isEnd?T.a11y.notify(T.params.lastSlideMessage):T.a11y.notify(T.params.nextSlideMessage)):e(a.target).is(T.params.prevButton)&&(T.onClickPrev(a),T.isBeginning?T.a11y.notify(T.params.firstSlideMessage):T.a11y.notify(T.params.prevSlideMessage)),e(a.target).is("."+T.params.bulletClass)&&e(a.target)[0].click())},liveRegion:e('<span class="'+T.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=T.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){T.params.nextButton&&T.nextButton&&T.nextButton.length>0&&(T.a11y.makeFocusable(T.nextButton),T.a11y.addRole(T.nextButton,"button"),T.a11y.addLabel(T.nextButton,T.params.nextSlideMessage)),T.params.prevButton&&T.prevButton&&T.prevButton.length>0&&(T.a11y.makeFocusable(T.prevButton),T.a11y.addRole(T.prevButton,"button"),T.a11y.addLabel(T.prevButton,T.params.prevSlideMessage)),e(T.container).append(T.a11y.liveRegion)},initPagination:function(){T.params.pagination&&T.params.paginationClickable&&T.bullets&&T.bullets.length&&T.bullets.each(function(){var a=e(this);T.a11y.makeFocusable(a),T.a11y.addRole(a,"button"),T.a11y.addLabel(a,T.params.paginationBulletMessage.replace(/{{index}}/,a.index()+1))})},destroy:function(){T.a11y.liveRegion&&T.a11y.liveRegion.length>0&&T.a11y.liveRegion.remove()}},T.init=function(){T.params.loop&&T.createLoop(),T.updateContainerSize(),T.updateSlidesSize(),T.updatePagination(),T.params.scrollbar&&T.scrollbar&&(T.scrollbar.set(),T.params.scrollbarDraggable&&T.scrollbar.enableDraggable()),"slide"!==T.params.effect&&T.effects[T.params.effect]&&(T.params.loop||T.updateProgress(),T.effects[T.params.effect].setTranslate()),T.params.loop?T.slideTo(T.params.initialSlide+T.loopedSlides,0,T.params.runCallbacksOnInit):(T.slideTo(T.params.initialSlide,0,T.params.runCallbacksOnInit),0===T.params.initialSlide&&(T.parallax&&T.params.parallax&&T.parallax.setTranslate(),T.lazy&&T.params.lazyLoading&&(T.lazy.load(),T.lazy.initialImageLoaded=!0))),T.attachEvents(),T.params.observer&&T.support.observer&&T.initObservers(),T.params.preloadImages&&!T.params.lazyLoading&&T.preloadImages(),T.params.zoom&&T.zoom&&T.zoom.init(),T.params.autoplay&&T.startAutoplay(),T.params.keyboardControl&&T.enableKeyboardControl&&T.enableKeyboardControl(),T.params.mousewheelControl&&T.enableMousewheelControl&&T.enableMousewheelControl(),T.params.hashnavReplaceState&&(T.params.replaceState=T.params.hashnavReplaceState),T.params.history&&T.history&&T.history.init(),T.params.hashnav&&T.hashnav&&T.hashnav.init(),T.params.a11y&&T.a11y&&T.a11y.init(),T.emit("onInit",T)},T.cleanupStyles=function(){T.container.removeClass(T.classNames.join(" ")).removeAttr("style"),T.wrapper.removeAttr("style"),T.slides&&T.slides.length&&T.slides.removeClass([T.params.slideVisibleClass,T.params.slideActiveClass,T.params.slideNextClass,T.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),T.paginationContainer&&T.paginationContainer.length&&T.paginationContainer.removeClass(T.params.paginationHiddenClass),T.bullets&&T.bullets.length&&T.bullets.removeClass(T.params.bulletActiveClass),T.params.prevButton&&e(T.params.prevButton).removeClass(T.params.buttonDisabledClass),T.params.nextButton&&e(T.params.nextButton).removeClass(T.params.buttonDisabledClass),T.params.scrollbar&&T.scrollbar&&(T.scrollbar.track&&T.scrollbar.track.length&&T.scrollbar.track.removeAttr("style"),T.scrollbar.drag&&T.scrollbar.drag.length&&T.scrollbar.drag.removeAttr("style"))},T.destroy=function(e,a){T.detachEvents(),T.stopAutoplay(),T.params.scrollbar&&T.scrollbar&&T.params.scrollbarDraggable&&T.scrollbar.disableDraggable(),T.params.loop&&T.destroyLoop(),a&&T.cleanupStyles(),T.disconnectObservers(),T.params.zoom&&T.zoom&&T.zoom.destroy(),T.params.keyboardControl&&T.disableKeyboardControl&&T.disableKeyboardControl(),T.params.mousewheelControl&&T.disableMousewheelControl&&T.disableMousewheelControl(),T.params.a11y&&T.a11y&&T.a11y.destroy(),T.params.history&&!T.params.replaceState&&window.removeEventListener("popstate",T.history.setHistoryPopState),T.params.hashnav&&T.hashnav&&T.hashnav.destroy(),T.emit("onDestroy"),e!==!1&&(T=null)},T.init(),T}};a.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!t&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:t||i||s,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var a=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,a)}catch(e){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var t=(function(){var e=function(e){var a=this,t=0;for(t=0;t<e.length;t++)a[t]=e[t];return a.length=e.length,this},a=function(a,t){var s=[],i=0;if(a&&!t&&a instanceof e)return a;if(a)if("string"==typeof a){var r,n,o=a.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),n=document.createElement(l),n.innerHTML=a,i=0;i<n.childNodes.length;i++)s.push(n.childNodes[i])}else for(r=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],i=0;i<r.length;i++)r[i]&&s.push(r[i])}else if(a.nodeType||a===window||a===document)s.push(a);else if(a.length>0&&a[0].nodeType)for(i=0;i<a.length;i++)s.push(a[i]);return new e(s)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var a=e.split(" "),t=0;t<a.length;t++)for(var s=0;s<this.length;s++)this[s].classList.add(a[t]);return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var s=0;s<this.length;s++)this[s].classList.remove(a[t]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var s=0;s<this.length;s++)this[s].classList.toggle(a[t]);return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t].setAttribute(e,a);else for(var s in e)this[t][s]=e[s],this[t].setAttribute(s,e[s]);return this},removeAttr:function(e){for(var a=0;a<this.length;a++)this[a].removeAttribute(e);return this},data:function(e,a){if(void 0!==a){for(var t=0;t<this.length;t++){var s=this[t];s.dom7ElementDataStorage||(s.dom7ElementDataStorage={}),s.dom7ElementDataStorage[e]=a}return this}if(this[0]){var i=this[0].getAttribute("data-"+e);return i?i:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,s,i){function r(e){var i=e.target;if(a(i).is(t))s.call(i,e);else for(var r=a(i).parents(),n=0;n<r.length;n++)a(r[n]).is(t)&&s.call(r[n],e)}var n,o,l=e.split(" ");for(n=0;n<this.length;n++)if("function"==typeof t||t===!1)for("function"==typeof t&&(s=arguments[1],i=arguments[2]||!1),o=0;o<l.length;o++)this[n].addEventListener(l[o],s,i);else for(o=0;o<l.length;o++)this[n].dom7LiveListeners||(this[n].dom7LiveListeners=[]),this[n].dom7LiveListeners.push({listener:s,liveListener:r}),this[n].addEventListener(l[o],r,i);return this},off:function(e,a,t,s){for(var i=e.split(" "),r=0;r<i.length;r++)for(var n=0;n<this.length;n++)if("function"==typeof a||a===!1)"function"==typeof a&&(t=arguments[1],s=arguments[2]||!1),this[n].removeEventListener(i[r],t,s);else if(this[n].dom7LiveListeners)for(var o=0;o<this[n].dom7LiveListeners.length;o++)this[n].dom7LiveListeners[o].listener===t&&this[n].removeEventListener(i[r],this[n].dom7LiveListeners[o].liveListener,s);return this},once:function(e,a,t,s){function i(n){t(n),r.off(e,a,i,s)}var r=this;"function"==typeof a&&(a=!1,t=arguments[1],s=arguments[2]),r.on(e,a,i,s)},trigger:function(e,a){for(var t=0;t<this.length;t++){var s;try{s=new window.CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(t){s=document.createEvent("Event"),s.initEvent(e,!0,!0),s.detail=a}this[t].dispatchEvent(s)}return this},transitionEnd:function(e){function a(r){if(r.target===this)for(e.call(this,r),t=0;t<s.length;t++)i.off(s[t],a)}var t,s=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(t=0;t<s.length;t++)i.on(s[t],a);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,s=e.clientTop||t.clientTop||0,i=e.clientLeft||t.clientLeft||0,r=window.pageYOffset||e.scrollTop,n=window.pageXOffset||e.scrollLeft;return{top:a.top+r-s,left:a.left+n-i}}return null},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++)for(var s in e)this[t].style[s]=e[s];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++)this[t].style[e]=a;return this}return this},each:function(e){for(var a=0;a<this.length;a++)e.call(this[a],a,this[a]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var a=0;a<this.length;a++)this[a].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var a=0;a<this.length;a++)this[a].textContent=e;return this},is:function(t){if(!this[0])return!1;var s,i;if("string"==typeof t){var r=this[0];if(r===document)return t===document;if(r===window)return t===window;if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector)return r.mozMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=a(t),i=0;i<s.length;i++)if(s[i]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof e){for(s=t.nodeType?[t]:t,i=0;i<s.length;i++)if(s[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);)1===e.nodeType&&a++;return a}},eq:function(a){if(void 0===a)return this;var t,s=this.length;return a>s-1?new e([]):a<0?(t=s+a,new e(t<0?[]:[this[t]])):new e([this[a]])},append:function(a){var t,s;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a;i.firstChild;)this[t].appendChild(i.firstChild)}else if(a instanceof e)for(s=0;s<a.length;s++)this[t].appendChild(a[s]);else this[t].appendChild(a);return this},prepend:function(a){var t,s;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a,s=i.childNodes.length-1;s>=0;s--)this[t].insertBefore(i.childNodes[s],this[t].childNodes[0])}else if(a instanceof e)for(s=0;s<a.length;s++)this[t].insertBefore(a[s],this[t].childNodes[0]);else this[t].insertBefore(a,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=a(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[s].cloneNode(!0),t[i])},insertAfter:function(e){for(var t=a(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[s].cloneNode(!0),t[i].nextSibling)},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var s=[],i=this[0];if(!i)return new e([]);for(;i.nextElementSibling;){var r=i.nextElementSibling;t?a(r).is(t)&&s.push(r):s.push(r),i=r}return new e(s)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var s=[],i=this[0];if(!i)return new e([]);for(;i.previousElementSibling;){var r=i.previousElementSibling;t?a(r).is(t)&&s.push(r):s.push(r),i=r}return new e(s)},parent:function(e){for(var t=[],s=0;s<this.length;s++)e?a(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode);return a(a.unique(t))},parents:function(e){for(var t=[],s=0;s<this.length;s++)for(var i=this[s].parentNode;i;)e?a(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return a(a.unique(t))},find:function(a){for(var t=[],s=0;s<this.length;s++)for(var i=this[s].querySelectorAll(a),r=0;r<i.length;r++)t.push(i[r]);return new e(t)},children:function(t){for(var s=[],i=0;i<this.length;i++)for(var r=this[i].childNodes,n=0;n<r.length;n++)t?1===r[n].nodeType&&a(r[n]).is(t)&&s.push(r[n]):1===r[n].nodeType&&s.push(r[n]);return new e(a.unique(s))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var i=a(arguments[e]);for(t=0;t<i.length;t++)s[s.length]=i[t],s.length++}return s}},a.fn=e.prototype,a.unique=function(e){for(var a=[],t=0;t<e.length;t++)a.indexOf(e[t])===-1&&a.push(e[t]);return a},a}()),s=["jQuery","Zepto","Dom7"],i=0;i<s.length;i++)window[s[i]]&&function(e){e.fn.swiper=function(t){var s;return e(this).each(function(){var e=new a(this,t);s||(s=e)}),s}}(window[s[i]]);var r;r=void 0===t?window.Dom7||window.Zepto||window.jQuery:t,r&&("transitionEnd"in r.fn||(r.fn.transitionEnd=function(e){function a(r){if(r.target===this)for(e.call(this,r),t=0;t<s.length;t++)i.off(s[t],a)}var t,s=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(t=0;t<s.length;t++)i.on(s[t],a);return this}),"transform"in r.fn||(r.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in r.fn||(r.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this}),"outerWidth"in r.fn||(r.fn.outerWidth=function(e){
return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=a}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper});
//# sourceMappingURL=maps/swiper.min.js.map
  /*
   * strTemp  : [필수] 크로스사이트 스크립팅을 검사할 문자열
   * level    : [옵션] 검사레벨
   *            0 (기본) -> XSS취약한 문자 제거
   *            1 (선택) -> 단순한 <, > 치환
   */
  function XSS_Check(strTemp, level) {     
    if ( level == undefined || level == 0 ) {
      strTemp = strTemp.replace(/\<|\>|\"|\'|\%|\;|\(|\)|\&|\+|/g,"");		
    }
    else if (level != undefined && level == 1 ) {
      strTemp = strTemp.replace(/\</g, "&lt;");
      strTemp = strTemp.replace(/\>/g, "&gt;");
    }
    return strTemp;
  }
var _dl = {};
var path = location.pathname;
var path2 = path.split('/');
var page = [];
var pageType;
var pageTemplate = "";
var pageUrl = location.href;

document.addEventListener("DOMContentLoaded", function(){
	if (path.indexOf('content/hyundai') > -1) {
		for (var i = 4; i < path2.length; i++) {
			if (i == 4) {
				page[0] = 'main';
			} else {
				page[i - 5] = path2[i].replace('.html', '');
			}
		}
	} else {
		for (var i = 2; i < path2.length; i++) {
			if (i == 2) {
				page[0] = 'main';
			} else {
				page[i - 3] = path2[i].replace('.html', '');
			}
		}
	}
	
//console.log("page : " + page);
	
	if ($('body').hasClass('pc')) {
		pageType = 'pc';
	} else if ($('body').hasClass('tablet')) {
		pageType = 'tablet';
	} else {
		pageType = 'mobile';
	}
	
//console.log("pageType : " + pageType);
//console.log("pageTemplate : " + pageTemplate);
//console.log("pageUrl : " + pageUrl);
	
	_trackEvent = function(obj) {
		console.log(JSON.stringify(obj));
	}
	
	_dl = {
			page_name : page,
			page_type : pageType,
			page_template : pageTemplate,
			page_url : pageUrl,
	}
	
	_trackEvent(
			$.extend({
				page_event : {
					tab_views : false,
				}
			},_dl)
	);
});
window.hmc = {
    COUNTRY: 'in',
    LANGUAGE: 'en',
    LOCATION: 'in-en',
    AEM_EDIT_MODE: false,
    AEM_PREVIEW_MODE: false,
    CURRENCY: '$',
    BROWSER_INCOMPATIBLE_PAGE: 'url'
    , I18N_LOCALE: 'en'
};
window.dtmDataLayer = {};

function addLoadEvent(func){
    var oldonload = window.onload;
    if(typeof window.onload != 'function'){
        window.onload = func;
    }else{
        window.onload = function(){
            oldonload();
            func();
        }
    }
}    
/*
 * libpannellum - A WebGL and CSS 3D transform based Panorama Renderer
 * Copyright (c) 2012-2016 Matthew Petroff
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

window.libpannellum = (function(window, document, undefined) {

'use strict';

/**
 * Creates a new panorama renderer.
 * @constructor
 * @param {HTMLElement} container - The container element for the renderer.
 */
function Renderer(container) {
    var canvas = document.createElement('canvas');
    canvas.style.width = canvas.style.height = '100%';
    container.appendChild(canvas);

    var program, gl, vs, fs;
    var fallbackImgSize;
    var world;
    var vtmps;
    var pose;
    var image, imageType, dynamic;
    var texCoordBuffer, cubeVertBuf, cubeVertTexCoordBuf, cubeVertIndBuf;

    /**
     * Initialize renderer.
     * @memberof Renderer
     * @instance
     * @param {Image|Array|Object} image - Input image; format varies based on
     *      `imageType`. For `equirectangular`, this is an image; for
     *      `cubemap`, this is an array of images for the cube faces in the
     *      order [+z, +x, -z, -x, +y, -y]; for `multires`, this is a
     *      configuration object.
     * @param {string} imageType - The type of the image: `equirectangular`,
     *      `cubemap`, or `multires`.
     * @param {boolean} dynamic - Whether or not the image is dynamic (e.g. video).
     * @param {number} haov - Initial horizontal angle of view.
     * @param {number} vaov - Initial vertical angle of view.
     * @param {number} voffset - Initial vertical offset angle.
     * @param {function} callback - Load callback function.
     * @param {Object} [params] - Other configuration parameters (`horizonPitch`, `horizonRoll`, `backgroundColor`).
     */
    this.init = function(_image, _imageType, _dynamic, haov, vaov, voffset, callback, params) {
        // Default argument for image type
        if (typeof _imageType === undefined)
            _imageType = 'equirectangular';
        imageType = _imageType;
        image = _image;
        dynamic = _dynamic;

        // Clear old data
        if (program) {
            if (vs) {
                gl.detachShader(program, vs);
                gl.deleteShader(vs);
            }
            if (fs) {
                gl.detachShader(program, fs);
                gl.deleteShader(fs);
            }
            gl.bindBuffer(gl.ARRAY_BUFFER, null);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
            if (program.texture)
                gl.deleteTexture(program.texture);
            if (program.nodeCache)
                for (var i = 0; i < program.nodeCache.length; i++)
                    gl.deleteTexture(program.nodeCache[i].texture);
            gl.deleteProgram(program);
            program = undefined;
        }
        pose = undefined;

        var s;
        
        // This awful browser specific test exists because iOS 8/9 and IE 11
        // don't display non-power-of-two cubemap textures but also don't
        // throw an error (tested on an iPhone 5c / iOS 8.1.3 / iOS 9.2).
        // Therefore, the WebGL context is never created for these browsers for
        // NPOT cubemaps, and the CSS 3D transform fallback renderer is used
        // instead.
        if (!(imageType == 'cubemap' &&
            (image[0].width & (image[0].width - 1)) !== 0 &&
            (navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/) ||
            navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/) ||
            navigator.userAgent.match(/Trident.*rv[ :]*11\./)))) {
            // Enable WebGL on canvas
            if (!gl)
                gl = canvas.getContext('experimental-webgl', {alpha: false, depth: false});
        }
        
        // If there is no WebGL, fall back to CSS 3D transform renderer.
        // While browser specific tests are usually frowned upon, the
        // fallback viewer only really works with WebKit/Blink and IE 10/11
        // (it doesn't work properly in Firefox).
        if (!gl && ((imageType == 'multires' && image.hasOwnProperty('fallbackPath')) ||
            imageType == 'cubemap') &&
            ('WebkitAppearance' in document.documentElement.style ||
            navigator.userAgent.match(/Trident.*rv[ :]*11\./) ||
            navigator.appVersion.indexOf('MSIE 10') !== -1)) {
            // Remove old world if it exists
            if (world) {
                container.removeChild(world);
            }
            
            // Initialize renderer
            world = document.createElement('div');
            world.className = 'pnlm-world';
            
            // Add images
            var path;
            if (image.basePath) {
                path = image.basePath + image.fallbackPath;
            } else {
                path = image.fallbackPath;
            }
            var sides = ['f', 'r', 'b', 'l', 'u', 'd'];
            var loaded = 0;
            var onLoad = function() {
                // Draw image on canvas
                var faceCanvas = document.createElement('canvas');
                faceCanvas.className = 'pnlm-face pnlm-' + sides[this.side] + 'face';
                world.appendChild(faceCanvas);
                var faceContext = faceCanvas.getContext('2d');
                faceCanvas.style.width = this.width + 4 + 'px';
                faceCanvas.style.height = this.height + 4 + 'px';
                faceCanvas.width = this.width + 4;
                faceCanvas.height = this.height + 4;
                faceContext.drawImage(this, 2, 2);
                var imgData = faceContext.getImageData(0, 0, faceCanvas.width, faceCanvas.height);
                var data = imgData.data;
                
                // Duplicate edge pixels
                var i;
                var j;
                for (i = 2; i < faceCanvas.width - 2; i++) {
                    for (j = 0; j < 4; j++) {
                        data[(i + faceCanvas.width) * 4 + j] = data[(i + faceCanvas.width * 2) * 4 + j];
                        data[(i + faceCanvas.width * (faceCanvas.height - 2)) * 4 + j] = data[(i + faceCanvas.width * (faceCanvas.height - 3)) * 4 + j];
                    }
                }
                for (i = 2; i < faceCanvas.height - 2; i++) {
                    for (j = 0; j < 4; j++) {
                        data[(i * faceCanvas.width + 1) * 4 + j] = data[(i * faceCanvas.width + 2) * 4 + j];
                        data[((i + 1) * faceCanvas.width - 2) * 4 + j] = data[((i + 1) * faceCanvas.width - 3) * 4 + j];
                    }
                }
                for (j = 0; j < 4; j++) {
                    data[(faceCanvas.width + 1) * 4 + j] = data[(faceCanvas.width * 2 + 2) * 4 + j];
                    data[(faceCanvas.width * 2 - 2) * 4 + j] = data[(faceCanvas.width * 3 - 3) * 4 + j];
                    data[(faceCanvas.width * (faceCanvas.height - 2) + 1) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 3) + 2) * 4 + j];
                    data[(faceCanvas.width * (faceCanvas.height - 1) - 2) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 2) - 3) * 4 + j];
                }
                for (i = 1; i < faceCanvas.width - 1; i++) {
                    for (j = 0; j < 4; j++) {
                        data[i * 4 + j] = data[(i + faceCanvas.width) * 4 + j];
                        data[(i + faceCanvas.width * (faceCanvas.height - 1)) * 4 + j] = data[(i + faceCanvas.width * (faceCanvas.height - 2)) * 4 + j];
                    }
                }
                for (i = 1; i < faceCanvas.height - 1; i++) {
                    for (j = 0; j < 4; j++) {
                        data[(i * faceCanvas.width) * 4 + j] = data[(i * faceCanvas.width + 1) * 4 + j];
                        data[((i + 1) * faceCanvas.width - 1) * 4 + j] = data[((i + 1) * faceCanvas.width - 2) * 4 + j];
                    }
                }
                for (j = 0; j < 4; j++) {
                    data[j] = data[(faceCanvas.width + 1) * 4 + j];
                    data[(faceCanvas.width - 1) * 4 + j] = data[(faceCanvas.width * 2 - 2) * 4 + j];
                    data[(faceCanvas.width * (faceCanvas.height - 1)) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 2) + 1) * 4 + j];
                    data[(faceCanvas.width * faceCanvas.height - 1) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 1) - 2) * 4 + j];
                }
                
                // Draw image width duplicated edge pixels on canvas
                faceContext.putImageData(imgData, 0, 0);
                
                loaded++;
                if (loaded == 6) {
                    fallbackImgSize = this.width;
                    container.appendChild(world);
                    callback();
                }
            };
            for (s = 0; s < 6; s++) {
                var faceImg = new Image();
                faceImg.crossOrigin = 'anonymous';
                faceImg.side = s;
                faceImg.onload = onLoad;
                if (imageType == 'multires') {
                    faceImg.src = encodeURI(path.replace('%s', sides[s]) + '.' + image.extension);
                } else {
                    faceImg.src = encodeURI(image[s].src);
                }
            }
            
            return;
        } else if (!gl) {
            console.log('Error: no WebGL support detected!');
            throw {type: 'no webgl'};
        }
        if (image.basePath) {
            image.fullpath = image.basePath + image.path;
        } else {
            image.fullpath = image.path;
        }
        image.invTileResolution = 1 / image.tileResolution;
        
        var vertices = createCube();
        vtmps = [];
        for (s = 0; s < 6; s++) {
            vtmps[s] = vertices.slice(s * 12, s * 12 + 12);
            vertices = createCube();
        }
        
        // Make sure image isn't too big
        var width, maxWidth;
        if (imageType == 'equirectangular') {
            width = Math.max(image.width, image.height);
            maxWidth = gl.getParameter(gl.MAX_TEXTURE_SIZE);
            if (width > maxWidth) {
                console.log('Error: The image is too big; it\'s ' + width + 'px wide, but this device\'s maximum supported width is ' + maxWidth + 'px.');
                throw {type: 'webgl size error', width: width, maxWidth: maxWidth};
            }
        } else if (imageType == 'cubemap') {
            width = image[0].width;
            maxWidth = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);
            if (width > maxWidth) {
                console.log('Error: The cube face image is too big; it\'s ' + width + 'px wide, but this device\'s maximum supported width is ' + maxWidth + 'px.');
                throw {type: 'webgl size error', width: width, maxWidth: maxWidth};
            }
        }

        // Store horizon pitch and roll if applicable
        if (params !== undefined && (params.horizonPitch !== undefined || params.horizonRoll !== undefined))
            pose = [params.horizonPitch == undefined ? 0 : params.horizonPitch,
                    params.horizonRoll == undefined ? 0 : params.horizonRoll];

        // Set 2d texture binding
        var glBindType = gl.TEXTURE_2D;

        // Create viewport for entire canvas
        gl.viewport(0, 0, canvas.width, canvas.height);

        // Create vertex shader
        vs = gl.createShader(gl.VERTEX_SHADER);
        var vertexSrc = v;
        if (imageType == 'multires') {
            vertexSrc = vMulti;
        }
        gl.shaderSource(vs, vertexSrc);
        gl.compileShader(vs);

        // Create fragment shader
        fs = gl.createShader(gl.FRAGMENT_SHADER);
        var fragmentSrc = fragEquirectangular;
        if (imageType == 'cubemap') {
            glBindType = gl.TEXTURE_CUBE_MAP;
            fragmentSrc = fragCube;
        } else if (imageType == 'multires') {
            fragmentSrc = fragMulti;
        }
        gl.shaderSource(fs, fragmentSrc);
        gl.compileShader(fs);

        // Link WebGL program
        program = gl.createProgram();
        gl.attachShader(program, vs);
        gl.attachShader(program, fs);
        gl.linkProgram(program);

        // Log errors
        if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS))
            console.log(gl.getShaderInfoLog(vs));
        if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS))
            console.log(gl.getShaderInfoLog(fs));
        if (!gl.getProgramParameter(program, gl.LINK_STATUS))
            console.log(gl.getProgramInfoLog(program));

        // Use WebGL program
        gl.useProgram(program);

        program.drawInProgress = false;

        // Look up texture coordinates location
        program.texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');
        gl.enableVertexAttribArray(program.texCoordLocation);

        if (imageType != 'multires') {
            // Provide texture coordinates for rectangle
            if (!texCoordBuffer)
                texCoordBuffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]), gl.STATIC_DRAW);
            gl.vertexAttribPointer(program.texCoordLocation, 2, gl.FLOAT, false, 0, 0);

            // Pass aspect ratio
            program.aspectRatio = gl.getUniformLocation(program, 'u_aspectRatio');
            gl.uniform1f(program.aspectRatio, canvas.width / canvas.height);

            // Locate psi, theta, focal length, horizontal extent, vertical extent, and vertical offset
            program.psi = gl.getUniformLocation(program, 'u_psi');
            program.theta = gl.getUniformLocation(program, 'u_theta');
            program.f = gl.getUniformLocation(program, 'u_f');
            program.h = gl.getUniformLocation(program, 'u_h');
            program.v = gl.getUniformLocation(program, 'u_v');
            program.vo = gl.getUniformLocation(program, 'u_vo');
            program.rot = gl.getUniformLocation(program, 'u_rot');

            // Pass horizontal extent, vertical extent, and vertical offset
            gl.uniform1f(program.h, haov / (Math.PI * 2.0));
            gl.uniform1f(program.v, vaov / Math.PI);
            gl.uniform1f(program.vo, voffset / Math.PI * 2);

            // Set background color
            if (imageType == 'equirectangular') {
                program.backgroundColor = gl.getUniformLocation(program, 'u_backgroundColor');
                var color = params.backgroundColor ? params.backgroundColor : [0, 0, 0];
                gl.uniform4fv(program.backgroundColor, color.concat([1]));
            }

            // Create texture
            program.texture = gl.createTexture();
            gl.bindTexture(glBindType, program.texture);

            // Upload images to texture depending on type
            if (imageType == 'cubemap') {
                // Load all six sides of the cube map
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[1]);
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_X, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[3]);
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_Y, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[4]);
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_Y, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[5]);
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_Z, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[0]);
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_Z, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[2]);
            } else {
                // Upload image to the texture
                gl.texImage2D(glBindType, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);
            }

            // Set parameters for rendering any size
            gl.texParameteri(glBindType, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.texParameteri(glBindType, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
            gl.texParameteri(glBindType, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
            gl.texParameteri(glBindType, gl.TEXTURE_MAG_FILTER, gl.LINEAR);

        } else {
            // Look up vertex coordinates location
            program.vertPosLocation = gl.getAttribLocation(program, 'a_vertCoord');
            gl.enableVertexAttribArray(program.vertPosLocation);

            // Create buffers
            if (!cubeVertBuf)
                cubeVertBuf = gl.createBuffer();
            if (!cubeVertTexCoordBuf)
                cubeVertTexCoordBuf = gl.createBuffer();
            if (!cubeVertIndBuf)
                cubeVertIndBuf = gl.createBuffer();

            // Bind texture coordinate buffer and pass coordinates to WebGL
            gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertTexCoordBuf);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0,0,1,0,1,1,0,1]), gl.STATIC_DRAW);

            // Bind square index buffer and pass indicies to WebGL
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, cubeVertIndBuf);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0,1,2,0,2,3]), gl.STATIC_DRAW);

            // Find uniforms
            program.perspUniform = gl.getUniformLocation(program, 'u_perspMatrix');
            program.cubeUniform = gl.getUniformLocation(program, 'u_cubeMatrix');
            //program.colorUniform = gl.getUniformLocation(program, 'u_color');

            program.level = -1;

            program.currentNodes = [];
            program.nodeCache = [];
            program.nodeCacheTimestamp = 0;
        }

        // Check if there was an error
        if (gl.getError() !== 0) {
            console.log('Error: Something went wrong with WebGL!');
            throw {type: 'webgl error'};
        }

        callback();
     };

    /**
     * Destroy renderer.
     * @memberof Renderer
     * @instance
     */
    this.destroy = function() {
        if (container !== undefined) {
            if (canvas !== undefined) {
                container.removeChild(canvas);
            }
            if (world !== undefined) {
                container.removeChild(world);
            }
        }
        if (gl) {
            // The spec says this is only supposed to simulate losing the WebGL
            // context, but in practice it tends to actually free the memory.
            var extension = gl.getExtension('WEBGL_lose_context');
            if (extension)
                extension.loseContext();
        }
    };

    /**
     * Resize renderer (call after resizing container).
     * @memberof Renderer
     * @instance
     */
    this.resize = function() {
        var pixelRatio = window.devicePixelRatio || 1;
        canvas.width = canvas.clientWidth * pixelRatio;
        canvas.height = canvas.clientHeight * pixelRatio;
        if (gl) {
            gl.viewport(0, 0, canvas.width, canvas.height);
            if (imageType != 'multires') {
                gl.uniform1f(program.aspectRatio, canvas.width / canvas.height);
            }
        }
    };
    // Initialize canvas size
    this.resize();

    /**
     * Render new view of panorama.
     * @memberof Renderer
     * @instance
     * @param {number} pitch - Pitch to render at (in radians).
     * @param {number} yaw - Yaw to render at (in radians).
     * @param {number} hfov - Horizontal field of view to render with (in radians).
     * @param {Object} [params] - Extra configuration parameters. 
     * @param {number} [params.roll] - Camera roll (in radians).
     * @param {boolean} [params.returnImage] - Return rendered image?
     */
    this.render = function(pitch, yaw, hfov, params) {
        var focal, i, s, roll = 0;
        if (params === undefined)
            params = {};
        if (params.roll)
            roll = params.roll;

        // Apply pitch and roll transformation if applicable
        if (pose !== undefined) {
            var horizonPitch = pose[0],
                horizonRoll = pose[1];

            // Calculate new pitch and yaw
            var orig_pitch = pitch,
                orig_yaw = yaw,
                x = Math.cos(horizonRoll) * Math.sin(pitch) * Math.sin(horizonPitch) +
                    Math.cos(pitch) * (Math.cos(horizonPitch) * Math.cos(yaw) +
                    Math.sin(horizonRoll) * Math.sin(horizonPitch) * Math.sin(yaw)),
                y = -Math.sin(pitch) * Math.sin(horizonRoll) +
                    Math.cos(pitch) * Math.cos(horizonRoll) * Math.sin(yaw),
                z = Math.cos(horizonRoll) * Math.cos(horizonPitch) * Math.sin(pitch) +
                    Math.cos(pitch) * (-Math.cos(yaw) * Math.sin(horizonPitch) +
                    Math.cos(horizonPitch) * Math.sin(horizonRoll) * Math.sin(yaw));
            pitch = Math.asin(Math.max(Math.min(z, 1), -1));
            yaw = Math.atan2(y, x);

            // Calculate roll
            var v = [Math.cos(orig_pitch) * (Math.sin(horizonRoll) * Math.sin(horizonPitch) * Math.cos(orig_yaw) -
                    Math.cos(horizonPitch) * Math.sin(orig_yaw)),
                    Math.cos(orig_pitch) * Math.cos(horizonRoll) * Math.cos(orig_yaw),
                    Math.cos(orig_pitch) * (Math.cos(horizonPitch) * Math.sin(horizonRoll) * Math.cos(orig_yaw) +
                    Math.sin(orig_yaw) * Math.sin(horizonPitch))],
                w = [-Math.cos(pitch) * Math.sin(yaw), Math.cos(pitch) * Math.cos(yaw)];
            var roll_adj = Math.acos(Math.max(Math.min((v[0]*w[0] + v[1]*w[1]) /
                (Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]) *
                Math.sqrt(w[0]*w[0]+w[1]*w[1])), 1), -1));
            if (v[2] < 0)
                roll_adj = 2 * Math.PI - roll_adj;
            roll += roll_adj;
        }

        // If no WebGL
        if (!gl && (imageType == 'multires' || imageType == 'cubemap')) {
            // Determine face transforms
            s = fallbackImgSize / 2;
            
            var transforms = {
                f: 'translate3d(-' + (s + 2) + 'px, -' + (s + 2) + 'px, -' + s + 'px)',
                b: 'translate3d(' + (s + 2) + 'px, -' + (s + 2) + 'px, ' + s + 'px) rotateX(180deg) rotateZ(180deg)',
                u: 'translate3d(-' + (s + 2) + 'px, -' + s + 'px, ' + (s + 2) + 'px) rotateX(270deg)',
                d: 'translate3d(-' + (s + 2) + 'px, ' + s + 'px, -' + (s + 2) + 'px) rotateX(90deg)',
                l: 'translate3d(-' + s + 'px, -' + (s + 2) + 'px, ' + (s + 2) + 'px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)',
                r: 'translate3d(' + s + 'px, -' + (s + 2) + 'px, -' + (s + 2) + 'px) rotateY(270deg)'
            };
            focal = 1 / Math.tan(hfov / 2);
            var zoom = focal * canvas.width / (window.devicePixelRatio || 1) / 2 + 'px';
            var transform = 'perspective(' + zoom + ') translateZ(' + zoom + ') rotateX(' + pitch + 'rad) rotateY(' + yaw + 'rad) ';
            
            // Apply face transforms
            var faces = Object.keys(transforms);
            for (i = 0; i < 6; i++) {
                var face = world.querySelector('.pnlm-' + faces[i] + 'face').style;
                face.webkitTransform = transform + transforms[faces[i]];
                face.transform = transform + transforms[faces[i]];
            }
            return;
        }
        
        if (imageType != 'multires') {
            // Calculate focal length from vertical field of view
            var vfov = 2 * Math.atan(Math.tan(hfov * 0.5) / (canvas.width / canvas.height));
            focal = 1 / Math.tan(vfov * 0.5);

            // Pass psi, theta, roll, and focal length
            gl.uniform1f(program.psi, yaw);
            gl.uniform1f(program.theta, pitch);
            gl.uniform1f(program.rot, roll);
            gl.uniform1f(program.f, focal);
            
            if (dynamic === true) {
                // Update texture if dynamic
                if (imageType == 'equirectangular') {
                    gl.bindTexture(gl.TEXTURE_2D, program.texture);
                    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);
                }
            }
            
            // Draw using current buffer
            gl.drawArrays(gl.TRIANGLES, 0, 6);
        
        } else {
            // Create perspective matrix
            var perspMatrix = makePersp(hfov, canvas.width / canvas.height, 0.1, 100.0);
            
            // Find correct zoom level
            checkZoom(hfov);
            
            // Create rotation matrix
            var matrix = identityMatrix3();
            matrix = rotateMatrix(matrix, -roll, 'z');
            matrix = rotateMatrix(matrix, -pitch, 'x');
            matrix = rotateMatrix(matrix, yaw, 'y');
            matrix = makeMatrix4(matrix);
            
            // Set matrix uniforms
            gl.uniformMatrix4fv(program.perspUniform, false, new Float32Array(transposeMatrix4(perspMatrix)));
            gl.uniformMatrix4fv(program.cubeUniform, false, new Float32Array(transposeMatrix4(matrix)));
            
            // Find current nodes
            var rotPersp = rotatePersp(perspMatrix, matrix);
            program.nodeCache.sort(multiresNodeSort);
            if (program.nodeCache.length > 200 &&
                program.nodeCache.length > program.currentNodes.length + 50) {
                // Remove older nodes from cache
                var removed = program.nodeCache.splice(200, program.nodeCache.length - 200);
                for (var i = 0; i < removed.length; i++) {
                    // Explicitly delete textures
                    gl.deleteTexture(removed[i].texture);
                }
            }
            program.currentNodes = [];
            
            var sides = ['f', 'b', 'u', 'd', 'l', 'r'];
            for (s = 0; s < 6; s++) {
                var ntmp = new MultiresNode(vtmps[s], sides[s], 1, 0, 0, image.fullpath);
                testMultiresNode(rotPersp, ntmp, pitch, yaw, hfov);
            }
            program.currentNodes.sort(multiresNodeRenderSort);
            // Only process one tile per frame to improve responsiveness
            for (i = 0; i < program.currentNodes.length; i++) {
                if (!program.currentNodes[i].texture) {
                    setTimeout(processNextTile(program.currentNodes[i]), 0);
                    break;
                }
            }
            
            // Draw tiles
            multiresDraw();
        }
        
        if (params.returnImage !== undefined) {
            return canvas.toDataURL('image/png');
        }
    };
    
    /**
     * Check if images are loading.
     * @memberof Renderer
     * @instance
     * @returns {boolean} Whether or not images are loading.
     */
    this.isLoading = function() {
        if (gl && imageType == 'multires') {
            for ( var i = 0; i < program.currentNodes.length; i++ ) {
                if (!program.currentNodes[i].textureLoaded) {
                    return true;
                }
            }
        }
        return false;
    };
    
    /**
     * Retrieve renderer's canvas.
     * @memberof Renderer
     * @instance
     * @returns {HTMLElement} Renderer's canvas.
     */
    this.getCanvas = function() {
        return canvas;
    };
    
    /**
     * Sorting method for multires nodes.
     * @private
     * @param {MultiresNode} a - First node.
     * @param {MultiresNode} b - Second node.
     * @returns {number} Base tiles first, then higher timestamp first.
     */
    function multiresNodeSort(a, b) {
        // Base tiles are always first
        if (a.level == 1 && b.level != 1) {
            return -1;
        }
        if (b. level == 1 && a.level != 1) {
            return 1;
        }
        
        // Higher timestamp first
        return b.timestamp - a.timestamp;
    }
    
    /**
     * Sorting method for multires node rendering.
     * @private
     * @param {MultiresNode} a - First node.
     * @param {MultiresNode} b - Second node.
     * @returns {number} Lower zoom levels first, then closest to center first.
     */
    function multiresNodeRenderSort(a, b) {
        // Lower zoom levels first
        if (a.level != b.level) {
            return a.level - b.level;
        }
        
        // Lower distance from center first
        return a.diff - b.diff;
    }
    
    /**
     * Draws multires nodes.
     * @private
     */
    function multiresDraw() {
        if (!program.drawInProgress) {
            program.drawInProgress = true;
            for ( var i = 0; i < program.currentNodes.length; i++ ) {
                if (program.currentNodes[i].textureLoaded) {
                    //var color = program.currentNodes[i].color;
                    //gl.uniform4f(program.colorUniform, color[0], color[1], color[2], 1.0);
                    
                    // Bind vertex buffer and pass vertices to WebGL
                    gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertBuf);
                    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(program.currentNodes[i].vertices), gl.STATIC_DRAW);
                    gl.vertexAttribPointer(program.vertPosLocation, 3, gl.FLOAT, false, 0, 0);
                    
                    // Prep for texture
                    gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertTexCoordBuf);
                    gl.vertexAttribPointer(program.texCoordLocation, 2, gl.FLOAT, false, 0, 0);
                    
                    // Bind texture and draw tile
                    gl.bindTexture(gl.TEXTURE_2D, program.currentNodes[i].texture); // Bind program.currentNodes[i].texture to TEXTURE0
                    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
                }
            }
            program.drawInProgress = false;
        }
    }

    /**
     * Creates new multires node.
     * @constructor
     * @private
     * @param {number[]} vertices - Node's verticies.
     * @param {string} side - Node's cube face.
     * @param {number} level - Node's zoom level.
     * @param {number} x - Node's x position.
     * @param {number} y - Node's y position.
     * @param {string} path - Node's path.
     */
    function MultiresNode(vertices, side, level, x, y, path) {
        this.vertices = vertices;
        this.side = side;
        this.level = level;
        this.x = x;
        this.y = y;
        this.path = path.replace('%s',side).replace('%l',level).replace('%x',x).replace('%y',y);
    }

    /**
     * Test if multires node is visible. If it is, add it to current nodes,
     * load its texture, and load appropriate child nodes.
     * @private
     * @param {number[]} rotPersp - Rotated perspective matrix.
     * @param {MultiresNode} node - Multires node to check.
     * @param {number} pitch - Pitch to check at.
     * @param {number} yaw - Yaw to check at.
     * @param {number} hfov - Horizontal field of view to check at.
     */
    function testMultiresNode(rotPersp, node, pitch, yaw, hfov) {
        if (checkSquareInView(rotPersp, node.vertices)) {
            // Calculate central angle between center of view and center of tile
            var v = node.vertices;
            var x = v[0] + v[3] + v[6] + v[ 9];
            var y = v[1] + v[4] + v[7] + v[10];
            var z = v[2] + v[5] + v[8] + v[11];
            var r = Math.sqrt(x*x + y*y + z*z);
            var theta = Math.asin(z / r);
            var phi = Math.atan2(y, x);
            var ydiff = phi - yaw;
            ydiff += (ydiff > Math.PI) ? -2 * Math.PI : (ydiff < -Math.PI) ? 2 * Math.PI : 0;
            ydiff = Math.abs(ydiff);
            node.diff = Math.acos(Math.sin(pitch) * Math.sin(theta) + Math.cos(pitch) * Math.cos(theta) * Math.cos(ydiff));
            
            // Add node to current nodes and load texture if needed
            var inCurrent = false;
            for (var k = 0; k < program.nodeCache.length; k++) {
                if (program.nodeCache[k].path == node.path) {
                    inCurrent = true;
                    program.nodeCache[k].timestamp = program.nodeCacheTimestamp++;
                    program.nodeCache[k].diff = node.diff;
                    program.currentNodes.push(program.nodeCache[k]);
                    break;
                }
            }
            if (!inCurrent) {
                //node.color = [Math.random(), Math.random(), Math.random()];
                node.timestamp = program.nodeCacheTimestamp++;
                program.currentNodes.push(node);
                program.nodeCache.push(node);
            }
            
            // TODO: Test error
            // Create child nodes
            if (node.level < program.level) {
                var cubeSize = image.cubeResolution * Math.pow(2, node.level - image.maxLevel);
                var numTiles = Math.ceil(cubeSize * image.invTileResolution) - 1;
                var doubleTileSize = cubeSize % image.tileResolution * 2;
                var lastTileSize = (cubeSize * 2) % image.tileResolution;
                if (lastTileSize === 0) {
                    lastTileSize = image.tileResolution;
                }
                if (doubleTileSize === 0) {
                    doubleTileSize = image.tileResolution * 2;
                }
                var f = 0.5;
                if (node.x == numTiles || node.y == numTiles) {
                    f = 1.0 - image.tileResolution / (image.tileResolution + lastTileSize);
                }
                var i = 1.0 - f;
                var children = [];
                var vtmp, ntmp;
                var f1 = f, f2 = f, f3 = f, i1 = i, i2 = i, i3 = i;
                // Handle non-symmetric tiles
                if (lastTileSize < image.tileResolution) {
                    if (node.x == numTiles && node.y != numTiles) {
                        f2 = 0.5;
                        i2 = 0.5;
                        if (node.side == 'd' || node.side == 'u') {
                            f3 = 0.5;
                            i3 = 0.5;
                        }
                    } else if (node.x != numTiles && node.y == numTiles) {
                        f1 = 0.5;
                        i1 = 0.5;
                        if (node.side == 'l' || node.side == 'r') {
                            f3 = 0.5;
                            i3 = 0.5;
                        }
                    }
                }
                // Handle small tiles that have fewer than four children
                if (doubleTileSize <= image.tileResolution) {
                    if (node.x == numTiles) {
                        f1 = 0;
                        i1 = 1;
                        if (node.side == 'l' || node.side == 'r') {
                            f3 = 0;
                            i3 = 1;
                        }
                    }
                    if (node.y == numTiles) {
                        f2 = 0;
                        i2 = 1;
                        if (node.side == 'd' || node.side == 'u') {
                            f3 = 0;
                            i3 = 1;
                        }
                    }
                }
                
                vtmp = [           v[0],             v[1],             v[2],
                        v[0]*f1+v[3]*i1,    v[1]*f+v[4]*i,  v[2]*f3+v[5]*i3,
                        v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3,
                          v[0]*f+v[9]*i, v[1]*f2+v[10]*i2, v[2]*f3+v[11]*i3
                ];
                ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2, node.y*2, image.fullpath);
                children.push(ntmp);
                if (!(node.x == numTiles && doubleTileSize <= image.tileResolution)) {
                    vtmp = [v[0]*f1+v[3]*i1,    v[1]*f+v[4]*i,  v[2]*f3+v[5]*i3,
                                       v[3],             v[4],             v[5],
                              v[3]*f+v[6]*i,  v[4]*f2+v[7]*i2,  v[5]*f3+v[8]*i3,
                            v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3
                    ];
                    ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2+1, node.y*2, image.fullpath);
                    children.push(ntmp);
                }
                if (!(node.x == numTiles && doubleTileSize <= image.tileResolution) &&
                    !(node.y == numTiles && doubleTileSize <= image.tileResolution)) {
                    vtmp = [v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3,
                              v[3]*f+v[6]*i,  v[4]*f2+v[7]*i2,  v[5]*f3+v[8]*i3,
                                       v[6],             v[7],             v[8],
                            v[9]*f1+v[6]*i1,   v[10]*f+v[7]*i, v[11]*f3+v[8]*i3
                    ];
                    ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2+1, node.y*2+1, image.fullpath);
                    children.push(ntmp);
                }
                if (!(node.y == numTiles && doubleTileSize <= image.tileResolution)) {
                    vtmp = [  v[0]*f+v[9]*i, v[1]*f2+v[10]*i2, v[2]*f3+v[11]*i3,
                            v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3,
                            v[9]*f1+v[6]*i1,   v[10]*f+v[7]*i, v[11]*f3+v[8]*i3,
                                       v[9],            v[10],            v[11]
                    ];
                    ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2, node.y*2+1, image.fullpath);
                    children.push(ntmp);
                }
                for (var j = 0; j < children.length; j++) {
                    testMultiresNode(rotPersp, children[j], pitch, yaw, hfov);
                }
            }
        }
    }
    
    /**
     * Creates cube vertex array.
     * @private
     * @returns {number[]} Cube vertex array.
     */
    function createCube() {
        return [-1,  1, -1,  1,  1, -1,  1, -1, -1, -1, -1, -1, // Front face
                 1,  1,  1, -1,  1,  1, -1, -1,  1,  1, -1,  1, // Back face
                -1,  1,  1,  1,  1,  1,  1,  1, -1, -1,  1, -1, // Up face
                -1, -1, -1,  1, -1, -1,  1, -1,  1, -1, -1,  1, // Down face
                -1,  1,  1, -1,  1, -1, -1, -1, -1, -1, -1,  1, // Left face
                 1,  1, -1,  1,  1,  1,  1, -1,  1,  1, -1, -1  // Right face
        ];
    }
    
    /**
     * Creates 3x3 identity matrix.
     * @private
     * @returns {number[]} Identity matrix.
     */
    function identityMatrix3() {
        return [
            1, 0, 0,
            0, 1, 0,
            0, 0, 1
        ];
    }
    
    /**
     * Rotates a 3x3 matrix.
     * @private
     * @param {number[]} m - Matrix to rotate.
     * @param {number[]} angle - Angle to rotate by in radians.
     * @param {string} axis - Axis to rotate about (`x`, `y`, or `z`).
     * @returns {number[]} Rotated matrix.
     */
    function rotateMatrix(m, angle, axis) {
        var s = Math.sin(angle);
        var c = Math.cos(angle);
        if (axis == 'x') {
            return [
                m[0], c*m[1] + s*m[2], c*m[2] - s*m[1],
                m[3], c*m[4] + s*m[5], c*m[5] - s*m[4],
                m[6], c*m[7] + s*m[8], c*m[8] - s*m[7]
            ];
        }
        if (axis == 'y') {
            return [
                c*m[0] - s*m[2], m[1], c*m[2] + s*m[0],
                c*m[3] - s*m[5], m[4], c*m[5] + s*m[3],
                c*m[6] - s*m[8], m[7], c*m[8] + s*m[6]
            ];
        }
        if (axis == 'z') {
            return [
                c*m[0] + s*m[1], c*m[1] - s*m[0], m[2],
                c*m[3] + s*m[4], c*m[4] - s*m[3], m[5],
                c*m[6] + s*m[7], c*m[7] - s*m[6], m[8]
            ];
        }
    }
    
    /**
     * Turns a 3x3 matrix into a 4x4 matrix.
     * @private
     * @param {number[]} m - Input matrix.
     * @returns {number[]} Expanded matrix.
     */
    function makeMatrix4(m) {
        return [
            m[0], m[1], m[2],    0,
            m[3], m[4], m[5],    0,
            m[6], m[7], m[8],    0,
               0,    0,    0,    1
        ];
    }
    
    /**
     * Transposes a 4x4 matrix.
     * @private
     * @param {number[]} m - Input matrix.
     * @returns {number[]} Transposed matrix.
     */
    function transposeMatrix4(m) {
        return [
            m[ 0], m[ 4], m[ 8], m[12],
            m[ 1], m[ 5], m[ 9], m[13],
            m[ 2], m[ 6], m[10], m[14],
            m[ 3], m[ 7], m[11], m[15]
        ];
    }
    
    /**
     * Creates a perspective matrix.
     * @private
     * @param {number} hfov - Desired horizontal field of view.
     * @param {number} aspect - Desired aspect ratio.
     * @param {number} znear - Near distance.
     * @param {number} zfar - Far distance.
     * @returns {number[]} Generated perspective matrix.
     */
    function makePersp(hfov, aspect, znear, zfar) {
        var fovy = 2 * Math.atan(Math.tan(hfov/2) * canvas.height / canvas.width);
        var f = 1 / Math.tan(fovy/2);
        return [
            f/aspect,   0,  0,  0,
                   0,   f,  0,  0,
                   0,   0,  (zfar+znear)/(znear-zfar), (2*zfar*znear)/(znear-zfar),
                   0,   0, -1,  0
        ];
    }
    
    /**
     * Processes a loaded texture image into a WebGL texture.
     * @private
     * @param {Image} img - Input image.
     * @param {WebGLTexture} tex - Texture to bind image to.
     */
    function processLoadedTexture(img, tex) {
        gl.bindTexture(gl.TEXTURE_2D, tex);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, img);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        gl.bindTexture(gl.TEXTURE_2D, null);
    }

    // Based on http://blog.tojicode.com/2012/03/javascript-memory-optimization-and.html
    var loadTexture = (function() {
        var cacheTop = 4;   // Maximum number of concurrents loads
        var textureImageCache = {};
        var pendingTextureRequests = [];

        function TextureImageLoader() {
            var self = this;
            this.texture = this.callback = null;
            this.image = new Image();
            this.image.crossOrigin = 'anonymous';
            this.image.addEventListener('load', function() {
                processLoadedTexture(self.image, self.texture);
                self.callback(self.texture);
                releaseTextureImageLoader(self);
            });
        };

        TextureImageLoader.prototype.loadTexture = function(src, texture, callback) {
            this.texture = texture;
            this.callback = callback;
            this.image.src = src;
        };

        function PendingTextureRequest(src, texture, callback) {
            this.src = src;
            this.texture = texture;
            this.callback = callback;
        };

        function releaseTextureImageLoader(til) {
            if (pendingTextureRequests.length) {
                var req = pendingTextureRequests.shift();
                til.loadTexture(req.src, req.texture, req.callback);
            } else
                textureImageCache[cacheTop++] = til;
        }

        for (var i = 0; i < cacheTop; i++)
            textureImageCache[i] = new TextureImageLoader();

        return function(src, callback) {
            var texture = gl.createTexture();
            if (cacheTop)
                textureImageCache[--cacheTop].loadTexture(src, texture, callback);
            else
                pendingTextureRequests.push(new PendingTextureRequest(src, texture, callback));
            return texture;
        };
    })();

    /**
     * Loads image and creates texture for a multires node / tile.
     * @private
     * @param {MultiresNode} node - Input node.
     */
    function processNextTile(node) {
        if (!node.textureLoad) {
            node.textureLoad = true;
            loadTexture(encodeURI(node.path + '.' + image.extension), function(texture) {
                node.texture = texture;
                node.textureLoaded = true;
            });
        }
    }
    
    /**
     * Finds and applies optimal multires zoom level.
     * @private
     * @param {number} hfov - Horizontal field of view to check at.
     */
    function checkZoom(hfov) {
        // Find optimal level
        var newLevel = 1;
        while ( newLevel < image.maxLevel &&
            canvas.width > image.tileResolution *
            Math.pow(2, newLevel - 1) * Math.tan(hfov / 2) * 0.707 ) {
            newLevel++;
        }
        
        // Apply change
        program.level = newLevel;
    }
    
    /**
     * Rotates perspective matrix.
     * @private
     * @param {number[]} p - Perspective matrix.
     * @param {number[]} r - Rotation matrix.
     * @returns {number[]} Rotated matrix.
     */
    function rotatePersp(p, r) {
        return [
            p[ 0]*r[0], p[ 0]*r[1], p[ 0]*r[ 2],     0,
            p[ 5]*r[4], p[ 5]*r[5], p[ 5]*r[ 6],     0,
            p[10]*r[8], p[10]*r[9], p[10]*r[10], p[11],
                 -r[8],      -r[9],      -r[10],     0
        ];
    }
    
    /**
     * Applies rotated perspective matrix to a 3-vector
     * (last element is inverted).
     * @private
     * @param {number[]} m - Rotated perspective matrix.
     * @param {number[]} v - Input 3-vector.
     * @returns {number[]} Resulting 4-vector.
     */
    function applyRotPerspToVec(m, v) {
        return [
                    m[ 0]*v[0] + m[ 1]*v[1] + m[ 2]*v[2],
                    m[ 4]*v[0] + m[ 5]*v[1] + m[ 6]*v[2],
            m[11] + m[ 8]*v[0] + m[ 9]*v[1] + m[10]*v[2],
                 1/(m[12]*v[0] + m[13]*v[1] + m[14]*v[2])
        ];
    }
    
    /**
     * Checks if a vertex is visible.
     * @private
     * @param {number[]} m - Rotated perspective matrix.
     * @param {number[]} v - Input vertex.
     * @returns {number} 1 or -1 if the vertex is or is not visible,
     *      respectively.
     */
    function checkInView(m, v) {
        var vpp = applyRotPerspToVec(m, v);
        var winX = vpp[0]*vpp[3];
        var winY = vpp[1]*vpp[3];
        var winZ = vpp[2]*vpp[3];
        var ret = [0, 0, 0];
        
        if ( winX < -1 )
            ret[0] = -1;
        if ( winX > 1 )
            ret[0] = 1;
        if ( winY < -1 )
            ret[1] = -1;
        if ( winY > 1 )
            ret[1] = 1;
        if ( winZ < -1 || winZ > 1 )
            ret[2] = 1;
        return ret;
    }
    
    /**
     * Checks if a square (tile) is visible.
     * @private
     * @param {number[]} m - Rotated perspective matrix.
     * @param {number[]} v - Square's vertex array.
     * @returns {boolean} Whether or not the square is visible.
     */
    function checkSquareInView(m, v) {
        var check1 = checkInView(m, v.slice(0, 3));
        var check2 = checkInView(m, v.slice(3, 6));
        var check3 = checkInView(m, v.slice(6, 9));
        var check4 = checkInView(m, v.slice(9, 12));
        var testX = check1[0] + check2[0] + check3[0] + check4[0];
        if ( testX == -4 || testX == 4 )
            return false;
        var testY = check1[1] + check2[1] + check3[1] + check4[1];
        if ( testY == -4 || testY == 4 )
            return false;
        var testZ = check1[2] + check2[2] + check3[2] + check4[2];
        return testZ != 4;
        

    }
}

// Vertex shader for equirectangular and cube
var v = [
'attribute vec2 a_texCoord;',
'varying vec2 v_texCoord;',

'void main() {',
    // Set position
    'gl_Position = vec4(a_texCoord, 0.0, 1.0);',
    
    // Pass the coordinates to the fragment shader
    'v_texCoord = a_texCoord;',
'}'
].join('');

// Vertex shader for multires
var vMulti = [
'attribute vec3 a_vertCoord;',
'attribute vec2 a_texCoord;',

'uniform mat4 u_cubeMatrix;',
'uniform mat4 u_perspMatrix;',

'varying mediump vec2 v_texCoord;',

'void main(void) {',
    // Set position
    'gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);',
    
    // Pass the coordinates to the fragment shader
    'v_texCoord = a_texCoord;',
'}'
].join('');

// Fragment shader
var fragEquiCubeBase = [
'precision mediump float;',

'uniform float u_aspectRatio;',
'uniform float u_psi;',
'uniform float u_theta;',
'uniform float u_f;',
'uniform float u_h;',
'uniform float u_v;',
'uniform float u_vo;',
'uniform float u_rot;',

'const float PI = 3.14159265358979323846264;',

// Texture
'uniform sampler2D u_image;',
'uniform samplerCube u_imageCube;',

// Coordinates passed in from vertex shader
'varying vec2 v_texCoord;',

// Background color (display for partial panoramas)
'uniform vec4 u_backgroundColor;',

'void main() {',
    // Map canvas/camera to sphere
    'float x = v_texCoord.x * u_aspectRatio;',
    'float y = v_texCoord.y;',
    'float sinrot = sin(u_rot);',
    'float cosrot = cos(u_rot);',
    'float rot_x = x * cosrot - y * sinrot;',
    'float rot_y = x * sinrot + y * cosrot;',
    'float sintheta = sin(u_theta);',
    'float costheta = cos(u_theta);',
    'float a = u_f * costheta - rot_y * sintheta;',
    'float root = sqrt(rot_x * rot_x + a * a);',
    'float lambda = atan(rot_x / root, a / root) + u_psi;',
    'float phi = atan((rot_y * costheta + u_f * sintheta) / root);',
].join('\n');

// Fragment shader
var fragCube = fragEquiCubeBase + [
    // Look up color from texture
    'float cosphi = cos(phi);',
    'gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));',
'}'
].join('\n');

// Fragment shader
var fragEquirectangular = fragEquiCubeBase + [
    // Wrap image
    'lambda = mod(lambda + PI, PI * 2.0) - PI;',

    // Map texture to sphere
    'vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));',

    // Look up color from texture
    // Map from [-1,1] to [0,1] and flip y-axis
    'if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)',
        'gl_FragColor = u_backgroundColor;',
    'else',
        'gl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));',
'}'
].join('\n');

// Fragment shader
var fragMulti = [
'varying mediump vec2 v_texCoord;',
'uniform sampler2D u_sampler;',
//'uniform mediump vec4 u_color;',

'void main(void) {',
    // Look up color from texture
    'gl_FragColor = texture2D(u_sampler, v_texCoord);',
//    'gl_FragColor = u_color;',
'}'
].join('');

return {
    renderer: function(container, image, imagetype, dynamic) {
        return new Renderer(container, image, imagetype, dynamic);
    }
};

})(window, document);

/**
 * Provides requestAnimationFrame in a cross browser way.
 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 */

if ( !window.requestAnimationFrame ) {

    window.requestAnimationFrame = ( function() {

        return window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element ) {

            window.setTimeout( callback, 1000 / 60 );

        };

    } )();

}

$(function() {
	"use strict";
    
	$(".carListWrap .tabArea .tab > .tabBtn").on("click", function(f) {
        if (!$(this).parent().hasClass("all")) {
            f.preventDefault();
            var d = $(this).attr("data-item");
            if ($("body").hasClass("pc")) {
				$(this).children(".carList").show();
				/*
                if (d) {
                    var c = Header.vehicleList.getProductList(d);
                    $(this).next(".carList").html(c);
                }
				*/
				
                $(".gnbWrapFull").css({
                    overflow: "hidden"
                });
                $(".carListWrap .tabArea .tab").removeClass("on");
            }
            if (!$("body").hasClass("mobile")) {
                $(".carListWrap .tabArea .tab").removeClass("on");
                $(this).parent().addClass("on");
                var b = $(".carListWrap .on .carList").height() + 180;
                $(".gnbWrapFull").addClass("findCar").css("min-height", b);
                setTimeout(function() {
                    $(".gnbWrapFull").css({
                        overflow: "visible"
                    });
                }, 500);
            }
			
            if ($("body").hasClass("mobile")) {
                if (!$(this).parent().hasClass("on")) {
                    /*
                    if (d) {
                        var c = Header.vehicleList.getProductList(d);
                        $(this).next(".carList").html(c);
                    } 
                    
                    2018.04.16 dropdown animation fix 
                    */
                    var g = $(this).parent();
                    g.find("> .carList").stop().slideDown(300); /* 2018.04.16 dropdown animation fix */
                    g.addClass("on"); /* 2018.04.16 dropdown animation fix */
                } else {
                    var g = $(this).parent();
                    g.find("> .carList").stop().slideUp(300, function() {
                        g.removeClass("on");
                    });
                }
            }
        }
	});
});
var Header = {};
// Publish
function GnbResponsiveImages() {
    "use strict";
    var a = window.innerWidth;
    
    var gnbScrollBox = $(".gnbWrap .scrollBox");
    if (a > 1120) {
        //pc 
        $("body").removeClass("mobile");
        $("body").removeClass("tablet");
        $("body").addClass("pc");
        $("meta[name='viewport']").remove();
        $("head").append('<meta name="viewport" content="width=1240, user-scalable=yes">');
        gnbScrollBox.show();
        gnbScrollBox.css("height", "auto");
        if($(".gnbArea .dep1Wrap .dep1_a.on").length > 0){
            $(".gnbGap").show();
            gnbGapAnimator();
        }
        $(".btnContentTop").show();
    } else if(a > 767) {
        // tablet
        $("body").removeClass("mobile");
        $("body").addClass("tablet");
        $("body").removeClass("pc");
        $("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">');
        gnbScrollBox.show();
        gnbScrollBox.css("height", "auto");
        if($(".gnbArea .dep1Wrap .dep1_a.on").length > 0){
            $(".gnbGap").show();
            gnbGapAnimator();
        }
        $(".btnContentTop").show();
    } else {
        // mobile
        $("body").addClass("mobile");
        $("body").removeClass("tablet");
        $("body").removeClass("pc");
        $("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">');
        gnbScrollBox.css("height", $(window).height() - 55);
        $(".gnbGap").hide();
        $(".btnContentTop").hide();

    }
    
    $("div, p, img, span").each(function() {
        if ($(this).is("[data-bgColor]")) {
            $(this).css("background-color", $(this).attr("data-bgColor"));
        }
        if ($(this).is("[data-color]")) {
            $(this).css("color", $(this).attr("data-color"));
        }
        if ($(this).is("[data-text-align]")) {
            $(this).css("text-align", $(this).attr("data-text-align"));
        }
        
        if ($(this).is("[data-bg]") && a > 767) {
            $(this).css({
                "background-image": "url('" + $(this).attr("data-bg") + "')"
            });
        } else {
            if ($(this).is("[data-mobile-bg]") && a < 767) {
                $(this).css({
                    "background-image": "url('" + $(this).attr("data-mobile-bg") + "')"
                });
            }
        }
    });
    
    $("img").each(function() {
        if (a > 767 && $(this).attr("data-media-pc") !== $(this).attr("src")) {
            $(this).attr("src", $(this).attr("data-media-pc"));
        }
        if (a <= 767 && $(this).attr("data-media-mobile") !== $(this).attr("src")) {
            $(this).attr("src", $(this).attr("data-media-mobile"));

        }
    });
    
    $(".gnbWrap .subMenu").css("max-height", $(window).height() - 55);
    
    if($("body").hasClass("topBanner")){
        if(a > 767) {
            $("body.topBanner .gnbWrapFull").css("top",$(".mainTopBanner").height());
        } else {
            $("body.topBanner .gnbWrapFull").css("top","0");
        }
    } else {
        $(".gnbWrapFull").css("top","0");
    }
}

function _isMobile() {
    "use strict";
    var a = (/iphone|ipod|android|blackberry|fennec/).test(navigator.userAgent.toLowerCase());
    return a;
}

var gnbTime;
var oldTop;

// gnb Gap animator
function gnbGapAnimator(){
        var to = $(".gnbArea .dep1Wrap .dep1_a.on");
        var n = to.position().left - 10;
        var m = to.width() + 20;
        $(".gnbGap").stop().fadeIn().css({
            left: n,
            width: m
        });
    // height

//        var q = $(".carListWrap .on .carList").height() + 180;
//      $(".gnbWrapFull").css("min-height", q);
}

function gnb(j, i, h, g, f) {
    "use strict";
    var a = $(".gnbDim");
    var d = $(".gnbWrap .scrollBox");
    var c = 0;

    $(".gnbArea .depSub_a").each(function() {
        if ($(this).closest(".depSub").find(".depSubWrap").length > 0 && $(this).next().find('li > a').length) {
            $(this).attr("href","");
            $(this).addClass("arr");

        }
        for(var m=0;m<$(this).context.classList.length;m++){
 		if($(this).context.classList[m]=='stcMenu' && $(window).width()>=700){
			$(this).removeClass("arr");
            $(this).removeAttr("href");
          
        }
        }
    });
    var b = null;

    function e() {
        if (j !== null) {
            $(".gnbArea .dep1Wrap .dep1_a").removeClass("on");

            $(".gnbArea .dep1Wrap .dep1_a").eq(j).addClass("on");
            $(".gnbArea .dep1Wrap .dep1_a").eq(j).addClass("first");
            $(".gnbArea .depSubWrap").hide();
            $(".gnbArea .depSubWrap .depSub_a").removeClass("on");

            setTimeout(function() {
                var l = $(".gnbArea .dep1Wrap .dep1_a").eq(j).position().left - 10;
                var k = $(".gnbArea .dep1Wrap .dep1_a").eq(j).width() + 20;
                $(".gnbGap").stop().show().css({
                    left: l,
                    width: k
                });
            }, 300);
        } else {
            $(".gnbGap").hide();
            $(".gnbArea .dep1Wrap .dep1_a").removeClass("on");
        }
        if (i !== null) {
            $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .depSub_a").addClass("on");
            $(".gnbArea .dep1Wrap .dep1").eq(j).find("> .dep2Wrap").show();
        }
        if (h !== null) {
            $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap").show();
            $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap > .depSub").eq(h).find(" > .depSub_a").addClass("on");
        }
        if (g !== null) {
            $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap > .depSub").eq(h).find(" > .dep4Wrap").show();
            $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap > .depSub").eq(h).find(" > .dep4Wrap > .depSub").eq(g).find(" > .depSub_a").addClass("on");
            b = $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap > .depSub").eq(h).find(" > .dep4Wrap").clone();
        }
        if (f !== null) {
            $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap > .depSub").eq(h).find(" > .dep4Wrap > .depSub").eq(g).find(" > .dep5Wrap").show();
            $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap > .depSub").eq(h).find(" > .dep4Wrap > .depSub").eq(g).find(" > .dep5Wrap > .depSub").eq(f).find(" > .depSub_a").addClass("on");
            b = $(".gnbArea .dep1Wrap .dep1").eq(j).find(".dep2Wrap > .depSub").eq(i).find(" > .dep3Wrap > .depSub").eq(h).find(" > .dep4Wrap > .depSub").eq(g).find(" > .dep5Wrap").clone();
        }
    }

    setTimeout(function() {
        e();
        if (b) {
            $(".gnbWrap .pageTitle .tit").addClass("arr");
            $(".gnbWrap .pageTitle .subMenu").append(b);
            $(".gnbWrap .pageTitle .subMenu .depSub_a").on("click", function(m) {
                var l = $(this).closest(".depSub");
                if ($(this).hasClass("arr")) {
                    m.preventDefault();
                    if (!$(this).hasClass("on")) {
                        var k = $(this).parent().parent().find("> .depSub");
                        k.find("> .depSub_a").removeClass("on");
                        k.find(".depSubWrap").stop().slideUp(300);
                        $(this).addClass("on");
                        l.find("> .depSubWrap").stop().slideDown(300);
                    } else {
                        $(this).parent().find(".depSub_a").removeClass("on");
                        $(this).parent().find(".depSubWrap").stop().slideUp(300);
                    }
                }
            });
            $(".gnbWrap .pageTitle .tit").on("click", function() {
                $(".btnMobileMenu.on").click();
                $(".gnbSearchMobile.on .btnGnbSearch").click();
                if (!$(this).hasClass("on")) {
                    $(this).addClass("on");
                    $(".gnbWrap .pageTitle").find("> .subMenu").stop().slideDown(300);
                    a.stop().fadeIn(300);
                } else {
                    $(this).removeClass("on");
                    $(".gnbWrap .pageTitle").find("> .subMenu").stop().slideUp(300);
                    a.stop().fadeOut(300);
                }
            });
        }
    }, 500);

    $(".gnbSearchMobile").append($(".gnbSearchBtn").html());
    $(".gnbArea .dep1Wrap .dep1_a").on("click", function(o) {
        o.preventDefault();
        if ($("body").hasClass("pc") || $("body").hasClass("tablet")) {
            var k = $(".gnbSubArea");
            var l = $(this).closest(".dep1");
            $(".gnbSearchBtn, .gnbSnsShareBtn").removeClass("on");
            $(".gnbSearchArea, .snsSlayer").hide();
            $(".gnbUtilWrap").attr("class", "gnbUtilWrap");
            if (!$(this).hasClass("on") || $(this).hasClass("first")) {
                $(".gnbWrapFull").css({
                    overflow: "hidden"
                });
                $(".dep1_a").removeClass("on");
                $(this).removeClass("first");
                $(this).addClass("on");
                
                gnbGapAnimator(this);
                
                k.hide();
                l.find(".gnbSubArea").show();
                clearTimeout(gnbTime);
                $(".gnbWrapFull").addClass("openSub");
                var q = 0;
                if ($(this).hasClass("findCar")) {
                    q = $(".carListWrap .on .carList").height() + 180;
                    $(".gnbWrapFull").addClass("findCar").css("min-height", q);
                } else {
                    //$(this).closest(".dep1").find(".depSubWrap, .dep2Wrap").each(function() {
                    $(this).closest(".dep1").find(".depSubWrap[style*='block'], .dep2Wrap").each(function() {
                        if (q < $(this).height() + 127) {
                            q = $(this).height() + 127;
                        }
                    });
                    $(".gnbWrapFull").removeClass("findCar").css("min-height", q);
                }
                gnbTime = setTimeout(function() {
                    $(".gnbWrapFull").css({
                        overflow: "visible"
                    });
                }, 500);
            } else {
                clearTimeout(gnbTime);
                $(this).removeClass("on");
                l.find(".gnbSubArea").hide();
                $(".gnbWrapFull").attr("class", "gnbWrapFull");
                $(".gnbWrapFull").removeAttr("style");
                GnbResponsiveImages();
                $(this).blur();
                e();
            }
        }
        if ($("body").hasClass("mobile")) {
            var p = $(this);
            if (!$(this).hasClass("on")) {
                var r = $(".gnbSubArea");
                r.stop().slideUp(300, function() {
                    $(".dep1_a").removeClass("on");
                });
                $(this).next().stop().slideDown(300, function() {
                    p.addClass("on");
                });
                $(".gnbWrapFull").addClass("openSub");
                if ($(this).hasClass("findCar")) {
                    $(".gnbWrapFull").addClass("findCar");
                } else {
                    $(".gnbWrapFull").removeClass("findCar");
                }
            } else {
                $(this).next().stop().slideUp(300, function() {
                    p.removeClass("on");
                });
                $(".gnbWrapFull").attr("class", "gnbWrapFull");
                $(".gnbWrapFull").removeAttr("style");
            }
        }
    });

    $(".gnbArea .depSub .depSub_a").on("click", function(m) {
        var l = $(this).closest(".depSub");
        var k;
        if ($("body").hasClass("pc") || $("body").hasClass("tablet")) {
            if ($(this).hasClass("arr")) {
                m.preventDefault();
                if (!$(this).hasClass("on")) {
                    k = $(this).parent().parent().find("> .depSub");
                    k.find("> .depSub_a").removeClass("on");
                    $(this).addClass("on");
                    k.find("> .depSubWrap").hide();
                    l.find("> .depSubWrap").show();
                    l.find("> .depSubWrap .depSub_a").removeClass("on");
                    l.find("> .depSubWrap .depSubWrap").hide();
                } else {
                    $(this).parent().find(".depSub_a").removeClass("on");
                    $(this).parent().find(".depSubWrap").hide();
                    $(this).blur();
                }
                var n = 0;
                //$(this).closest(".dep1").find(".depSubWrap, .dep2Wrap").each(function() {
                $(this).closest(".dep1").find(".depSubWrap[style*='block'], .dep2Wrap").each(function() {
                    if (n < $(this).height() + 127) {
                        n = $(this).height() + 127;
                    }
                });
                $(".gnbWrapFull").css("min-height", n);
            }
        }

        // if ($("body").hasClass("mobile") && !$(this).hasClass("dep3_a")) {
if ($("body").hasClass("mobile")) {

        if ($(this).hasClass("arr")) {
                m.preventDefault();
                if (!$(this).hasClass("on")) {
                    k = $(this).parent().parent().find("> .depSub");
                    k.find("> .depSub_a").removeClass("on");
                    k.find(".depSubWrap").stop().slideUp(300);
                    $(this).addClass("on");
                    l.find("> .depSubWrap").stop().slideDown(300);
                } else {
                    $(this).parent().find(".depSub_a").removeClass("on");
                    $(this).parent().find(".depSubWrap").stop().slideUp(300);
                }
            }
        }
    });
    
    $(".gnbSnsShareBtn a[href='#']").on("click", function(k) {
        k.preventDefault();
        if ($("body").hasClass("pc") || $("body").hasClass("tablet")) { /* 2018.04.16 top button position fix */
            $(".dep1_a").removeClass("on");
            e();
            $(".gnbArea").find(".depSub_a").removeClass("on");
            $(".gnbSubArea").hide();
            $(".gnbWrapFull").attr("class", "gnbWrapFull").removeAttr("style");
            
            if (!$(this).hasClass("on")) {
                $(this).addClass("on");
                setTimeout(function() {
                    $(".gnbRight .snsSlayer").show();
                }, 150);
            } else {
                $(this).removeClass("on");
                $(".gnbRight .snsSlayer").hide();
            }
        }
        if ($("body").hasClass("mobile")) {
            $(".gnbGap").hide();
            $(".gnbWrapFull").attr("class", "gnbWrapFull").removeAttr("style");
            
            $(".btnMobileMenu.on").click();
            $(".gnbWrap .pageTitle .tit.on").click();
            if (!$(this).parent().hasClass("on")) {
                $(".btnMobileMenu.on").click();
                a.stop().fadeIn(300);
                $(this).parent().addClass("on");
            } else {
                a.stop().fadeOut(300);
                $(this).parent().removeClass("on");
            }
        }
        GnbResponsiveImages();
    });
    
    // 180625 add
     $('.gnbLanguageBtn > a').click(function(e){
        e.preventDefault();
        var this_ = $(this).parent(),
        lBtn = $(this_).find('.languageLayer ul');
        if ($('.gnbSnsShareBtn a').hasClass('on')) {
            $(".gnbSnsShareBtn a[href='#']").removeClass('on');
            $('.snsSlayer').hide();
        }
        if ($(this_).hasClass('on')) {
            $(this_).removeClass('on');
        } else {
            $(this_).addClass('on');
        }
        lBtn.find('li').click(function(e){
            e.preventDefault();
            $(this).addClass('on').siblings().removeClass('on');
        });
     });
     // 180625 add
    
    $(".gnbWrapFull .btnGnbClose").on("click", function(k) {
        k.preventDefault();
        if ($("body").hasClass("pc") || $("body").hasClass("tablet")) {
            $(".gnbSubArea").hide();
            e();
            $(".gnbWrapFull").attr("class", "gnbWrapFull").removeAttr("style");
            
            $(".gnbLanguageBtn").removeClass("on");
            $(".gnbSearchBtn").removeClass("on");
            $(".gnbSearchArea, .gnbLanguageArea").hide();
            $(".gnbUtilWrap").attr("class", "gnbUtilWrap");
        }
        GnbResponsiveImages();
    });
        
    $(".btnMobileMenu").on("click", function(l) {
        l.preventDefault();
        var k = 0;
        $(".gnbSearchMobile.on .btnGnbSearch").click();
        $(".gnbWrap .pageTitle .tit.on").click();
        a.stop().fadeOut(300);
        if (!$(this).hasClass("on")) {
            $(this).addClass("on");
            d.show();
            setTimeout(function() {
                d.css("right", 0);
            }, 10);
            a.stop().fadeIn(300);
            if ($(".dep1_a.on").length > 0) {
                k = $(".dep1_a.on").position().top + d.scrollTop();
                d.scrollTop(k);
            }
        } else {
            $(this).removeClass("on");
            d.css("right", "-100%");
            setTimeout(function() {
                d.hide();
            }, 300);
            a.stop().fadeOut(300);
        }
    });
    
    $(window).scroll(function() {
        $(".psnoStickyNavigationWrap").addClass('fixed'); /* 2018.04.16 top button position fix */
        var k = $(window).scrollTop();
        if (!$(".quickArea").hasClass("popup")) {
            if (k > oldTop) {
                $(".quickArea").removeClass("open");
            }
            if (k < oldTop || k > $(document).height() - $(window).height() - 55) {
                $(".quickArea").addClass("open");
            }
        }
        oldTop = k;
        if (k > $(document).height() - $(window).height() - $(".footerWrap").outerHeight()) { /* 2018.04.16 top button position fix */
            $(".btnContentTop").addClass("ab").css("top", $(document).height() - $(".footerWrap").outerHeight() - 60);  /* 2018.04.16 top button position fix */
        } else {
            $(".btnContentTop").removeClass("ab").css("top", "auto");
        }
        
        if($("body").hasClass("pc") || $("body").hasClass("tablet")){
            if (k == 0) {
                $(".btnContentTop").hide();
            } else {
                $(".btnContentTop").show();
            }

            if ($(window).scrollTop() == 0) {
                $(".btnContentTop").hide();
            } else {
                $(".btnContentTop").show();
            }

        } else {
            $(".btnContentTop").hide();
        }
    });
    
    if ($(window).scrollTop() == 0) {
        $(".btnContentTop").hide();
    } else {
        $(".btnContentTop").show();
    }
    
    $(".btnContentTop").bind("click", function() {
        $("body,html").animate({
            scrollTop: 0
        }, 300);
    });

//s: 190812 add
  //검색 버튼 눌렀을 때, gnb sub 하단메뉴 끄기 -추가 190422 -190424
  $(".btnGnbSearch").on("click", function(k) {
    k.preventDefault();
    if ($("body").hasClass("pc") || $("body").hasClass("tablet")) {
        $(".gnbSubArea").hide(); //추가 190425
        e();//추가 190425

        if($(".gnbUtilWrap").hasClass("search")){
            $(".gnbSubArea").hide();

            $(".gnbWrapFull").attr("class", "gnbWrapFull").removeAttr("style");
            $(".gnbLanguageBtn").removeClass("on");
            $(".gnbSearchBtn").removeClass("on");
            $(".gnbSearchArea, .gnbLanguageArea").hide();
            $(".gnbUtilWrap").attr("class", "gnbUtilWrap");
            $(".gnbSearchArea, .gnbLanguageArea").hide();

            $(".gnbautoSearchList.recentSearch").removeClass("on");//추가 190422

        } else {
            $(".gnbUtilWrap").addClass("search");
            $(".gnbSearchArea, .gnbLanguageArea").slideDown(300);
            $(".btnMobileSearch").hasClass("close");
            $(".gnbDim").css("display","none");
            $(".gnbWrapFull").attr("class", "gnbWrapFull").removeAttr("style"); //추가 190422
            
        }        
    }
    GnbResponsiveImages();
    $('.gnbSearchArea .searchInput .inputText').focus(); //추가 190422
});
//e: 190812 add

}

$(function() {
    "use strict";
    
    $("body").addClass("pc");
    
    $(window).resize(function() {
        GnbResponsiveImages();
    });
    
    $("label").on("keypress", function(s) {
        if (s.keyCode == 32 || s.keyCode == 13) {
            s.preventDefault();
            $(this).click();
        }
    });
    
    $("label").each(function() {
        if ($(this).prev().attr("type") == "radio" || $(this).prev().attr("type") == "checkbox") {
            $(this).attr("tabindex", "0");
        }
    });
    
    if ($(".voteMenu").length > 0) {
        var i = $(".voteMenu");
        i.each(function() {
            var s = $(this);
            var t = new Swiper(s.find(".voteMenuSlide"), {
                nextButton: s.find(".btn_next"),
                prevButton: s.find(".btn_prev"),
                pagination: s.find(".swiper-pagination"),
                paginationElement: "button",
                paginationClickable: true,
                breakpoints: {
                    20000: {
                        slidesPerView: 4,
                        slidesPerGroup: 4,
                        spaceBetween: 32,
                        onProgress: function(u) {
                            if (u.slides.length <= 4) {
                                s.addClass("hideBtn");
                            } else {
                                s.removeClass("hideBtn");
                            }
                        }
                    },
                    767: {
                        slidesPerGroup: 2,
                        slidesPerView: 2,
                        spaceBetween: 10,
                        onProgress: function(u) {
                            if (u.slides.length <= 2) {
                                s.addClass("hideBtn");
                            } else {
                                s.removeClass("hideBtn");
                            }
                        }
                    }
                }
            });
        });
    }
    if ($(".imgView4.slideType.slideWrap").length > 0) {
        var q = $(".imgView4.slideType.slideWrap");
        q.each(function() {
            var s = $(this);
            setTimeout(function() {
                var t = new Swiper(s, {
                    nextButton: s.find(".btn_next"),
                    prevButton: s.find(".btn_prev"),
                    pagination: s.find(".swiper-pagination"),
                    paginationElement: "button",
                    paginationClickable: true,
                    slidesPerGroup: 1,
                    slidesPerView: 1,
                    spaceBetween: 0,
                    breakpoints: {
                        20000: {
                            slidesPerView: 4,
                            slidesPerGroup: 4,
                            spaceBetween: 32,
                            onProgress: function(u) {
                                if (u.slides.length == 4) {
                                    u.container.addClass("hideBtn");
                                } else {
                                    u.container.removeClass("hideBtn");
                                }
                            }
                        },
                        767: {
                            slidesPerGroup: 1,
                            slidesPerView: 1,
                            spaceBetween: 0,
                            onProgress: function(u) {
                                if (u.slides.length == 1) {
                                    u.container.addClass("hideBtn");
                                } else {
                                    u.container.removeClass("hideBtn");
                                }
                            }
                        }
                    }
                });
            }, 500);
        });
    }
    function f() {
        var t;
        var s;
        if ($("body").hasClass("pc") || $("body").hasClass("tablet")) {
            t = 70;
        } else {
            t = 55;
        }
        s = $(".contTop").outerHeight() + t;
        if (s < 200) {
            f();
        } else {
            if ($(".topVisualArea").length) {
                h.css({
                    top: s,
                    position: "absolute",
                    left: 0
                });
                $(".contTop").css({
                    "margin-bottom": h.height()
                });
            }
        }
    }
    function d() {
        $(".navigationTabWrap.openClose .tab").show();
        var s = true;
        $(".navigationTabWrap.openClose .tab").each(function(u) {
            var t = $(this).closest(".navigationTabWrap");
            if (s) {
                if ($(this).position().top > 0) {
                    $(this).hide();
                    s = false;
                } else {
                    $(this).show();
                }
            } else {
                s = false;
                $(this).hide();
            }
        });
    }
    if ($(".navigationTabWrap").length > 0) {
        var h = $(".navigationTabWrap");
        var r = $(".gnbWrapFull");
        var e = setTimeout(function() {

            f();
            $(".topVisual .visual img").load(function() {
                f();
            });
        }, 500);

        $(window).resize(function() {
            clearTimeout(e);
            e = setTimeout(function() {
                f();
            }, 100);
        });
        $(window).scroll(function() {
            var s = $(window).scrollTop();
            var u = $(".contTop").outerHeight();
            var t = h.find(".tabBtn");
            if ($(".topVisualArea").length) {
                if (s >= u) {
                    h.addClass("fixed");
                    r.addClass("ab");
                } else {
                    h.removeClass("fixed");
                    r.removeClass("ab");
                }
            } else {
                if (s >= u + $(".contWrap").outerHeight()) {
                    h.addClass("fixed");
                    r.addClass("ab");
                } else {
                    h.removeClass("fixed");
                    r.removeClass("ab");
                }
            }
            if (h.length > 0 && t.length > 0) {
                if (s >= u) {
                    t.each(function(v) {
                        if (s >= $("#" + $(this).attr("data-focus")).offset().top - h.height()) {
                            h.find(".tab").removeClass("on").eq(v).addClass("on");
                        }
                    });
                } else {
                    h.find(".tab").removeClass("on");
                }
            }
        });
        $(document).on("click", ".navigationTabWrap .tab button", function(t) {
            var s = $(this).attr("data-focus");
            if (s) {
                t.preventDefault();
                var u = $("#" + s).offset().top - h.height() + 1;
                $("body,html").animate({
                    scrollTop: u
                }, 300);
            }
        });

        setTimeout(function() {
            d();
            if ($(".navigationTabWrap .tabListArea .tab.on").length > 0) {
                $(".navigationTabWrap").scrollLeft($(".navigationTabWrap .tabListArea .tab.on").offset().left - 15);
            }
        }, 100);
        $(window).resize(function() {
            d();
        });
        $(".navigationTabWrap .btnRight.openClose").on("click", function(u) {
            u.preventDefault();
            var s = $(this).closest(".navigationTabWrap");
            var t = 0;
            if (!$(this).hasClass("on")) {
                s.addClass("open");
                s.find(".tab").show();
                $(this).addClass("on");
                t = s.find(".tabList").outerHeight();
                s.find(".tabListArea").attr("tabindex", 0).focus();
            } else {
                s.removeClass("open");
                d();
                $(this).removeClass("on");
                t = 70;
            }
            s.animate({
                height: t
            }, 300);
        });
    }
    
    $(document).on("click", ".togListWrap .btnOpenClose, .togListWrap .togBtn", function(t) {
        t.preventDefault();
        var s = $(this).closest(".togListWrap");
        var w = $(this).closest(".togList");
        var u = $(".navigationTabWrap");
        var v = $(this);
        if (!s.hasClass("small")) {
            if (!w.hasClass("on")) {
                s.find(".togList").removeClass("on");
                s.find(".togCont").slideUp(300);
                w.addClass("on");
                w.find(".togCont").slideDown(300, function() {
                    var x = v.closest(".togList").offset().top - u.height();
                    $("body,html").delay(200).animate({
                        scrollTop: x
                    }, 300);
                });
            } else {
                s.find(".togList").removeClass("on");
                s.find(".togCont").slideUp(300);
                s.find(".btnWrap").removeClass("on");
                s.find(".btnWrap").find(".btn").removeClass("gray").text("Expand all");
            }
        } else {
            if (!w.hasClass("on")) {
                w.addClass("on");
                w.find(".togCont").slideDown(300);
            } else {
                w.removeClass("on");
                w.find(".togCont").slideUp(300);
            }
        }
    });
    
    $(document).on("click", ".togListWrap .btnWrap .btn", function(s) {
        s.preventDefault();
        if (!$(this).closest(".btnWrap").hasClass("on")) {
            $(".togListWrap .btnWrap").addClass("on");
            $(".togListWrap .btnWrap").find(".btn").addClass("gray").text("Collapse all");
            $(".togList").addClass("on");
            $(".togList").find(".togCont").slideDown(300);
        } else {
            $(".togListWrap .btnWrap").removeClass("on");
            $(".togListWrap .btnWrap").find(".btn").removeClass("gray").text("Expand all");
            $(".togList").removeClass("on");
            $(".togList").find(".togCont").slideUp(300);
        }
    });
    
    if ($(".bottomSlideMenu .btnOpenClose").length > 0) {
        $(".bottomSlideMenu .btnOpenClose").on("click", function(s) {
            s.preventDefault();
            if (!$(this).hasClass("on")) {
                $(this).addClass("on");
                $(this).closest(".grid").find(".bottomMenuArea").slideDown(300);
            } else {
                $(this).removeClass("on");
                $(this).closest(".grid").find(".bottomMenuArea").slideUp(300);
            }
        });
    }
    if ($(".tabWrap .tabArea button").length > 0) {
        $(document).on("click", ".tabWrap .tabArea button", function(y) {
            y.preventDefault();
            var t = $(this).closest(".tabWrap");
            var s = $(this).closest(".tab").index();
            var x = $(this).text();
            t.find(".tabActive span").text(x);
            t.find(".tabArea .tab").removeClass("on").eq(s).addClass("on");
            t.find(".tabArea").removeClass("open");
            var v = false;
            t.find("li").each(function() {
                var z = $(this).attr("data-parsys-id");
                if ($("#" + z).find(".slideWrap").length > 0) {
                    v = true;
                }
            });
            
            var w = $(this).parent().attr("data-parsys-id");
            t.find("li").each(function() {
                if (v) {
                    $("#" + $(this).attr("data-parsys-id")).css({
                        visibility: "hidden",
                        overflow: "hidden",
                        height: "0",
                        display: "block"
                    });
                    $("#" + w).css({
                        visibility: "visible",
                        overflow: "visible",
                        height: "auto",
                        display: "block"
                    });
                } else {
                    $("#" + $(this).attr("data-parsys-id")).hide();
                    $("#" + w).show();
                }
            });
            t.find(".tabArea .tab button").removeAttr("title");
            $(this).attr("title", "now page");
            var u = $("#" + w);
            setTimeout(function() {
                u.find(".swiper-pagination").css("top", u.find(".swiper-slide-active img").height() - 25);
                if (u.find(".gridRow .grid").length >= 2) {
                    u.find(".swiper-pagination").css("top", (u.find(".swiper-slide-active img").height() * 2) - 25);
                }
            }, 100);
        });
        setTimeout(function() {
            $(".tabWrap .tabArea .on").find("button").trigger("click");
        }, 500);
    }
    $(document).on("click", ".tabWrap .tabActive", function(t) {
        t.preventDefault();
        var s = $(this).closest(".tabWrap");
        if (!s.find(".tabArea").hasClass("open")) {
            s.find(".tabArea").addClass("open");
        } else {
            s.find(".tabArea").removeClass("open");
        }
    });
    if ($(".galleryTabWrap").length > 0) {
        setTimeout(function() {
            $(".galleryTabWrap").each(function() {
                $(this).find(".tabWrap .tabArea button").eq(0).click();
            });
        }, 500);
    }
    if ($(".searchWrap .inputText").length > 0) {
        $(document).on("keydown", ".autoSearchList .link", function(t) {
            var s;
            if (t.keyCode == 40) {
                t.preventDefault();
                s = $(this).closest(".searchWrap").find(".autoSearchList .link.on").parent().index() + 1;
                if (s < $(this).closest(".searchWrap").find(".autoSearchList .link").length) {
                    $(this).closest(".searchWrap").find(".autoSearchList .link").eq(s).focus();
                } else {
                    $(this).closest(".searchWrap").find(".autoSearchList").hide();
                    $(".searchWrap .inputText").focus();
                }
            }
            if (t.keyCode == 38) {
                t.preventDefault();
                s = $(this).closest(".searchWrap").find(".autoSearchList .link.on").parent().index() - 1;
                if (s >= 0) {
                    $(this).closest(".searchWrap").find(".autoSearchList .link").eq(s).focus();
                } else {
                    $(this).closest(".searchWrap").find(".autoSearchList").hide();
                    $(".searchWrap .inputText").focus();
                }
            }
        });
        $(document).on("focus", ".autoSearchList .link", function() {
            $(this).closest(".searchWrap").find(".autoSearchList").addClass("on");
            $(this).addClass("on");
        });
        $(document).on("blur", ".autoSearchList .link", function() {
            $(this).closest(".searchWrap").find(".autoSearchList").removeClass("on");
            $(this).removeClass("on");
        });
        $(".searchWrap").focusout(function() {
            var t = $(this);
            setTimeout(function() {
                if (!t.find(".autoSearchList").hasClass("on")) {
                    t.find(".autoSearchList").hide();
                }
            }, 100);
        });
    }
    if ($(".slideArea1").length > 0) {
        var n = $(".slideArea1");
        var t;
        n.each(function() {
            var s = $(this);
            if (!s.hasClass("numbering")) {
                t = new Swiper(s, {
                    nextButton: s.find(".btn_next"),
                    prevButton: s.find(".btn_prev"),
                    pagination: s.find(".swiper-pagination"),
                    paginationElement: "button",
                    paginationClickable: true,
                    loop: true,
                    onProgress: function(u) {
                        setTimeout(function() {
                            s.find(u.paginationContainer).css("top", s.find(".swiper-slide-active img").height() - 25);
                            if (s.find(".gridRow .grid").length >= 2) {
                                s.find(u.paginationContainer).css("top", (s.find(".swiper-slide-active img").height() * 2) - 25);
                            }
                        }, 100);
                    }
                });
            } else {
                    t = new Swiper(s, {
                    nextButton: s.find(".btn_next"),
                    prevButton: s.find(".btn_prev"),
                    pagination: s.find(".swiper-pagination"),
                    paginationElement: "button",
                    paginationType: "bullets",
                    paginationClickable: true,
                    loop: true,
                    onProgress: function(u) {
                        setTimeout(function() {
                            s.find(u.paginationContainer).css("top", s.find(".swiper-slide-active img").height() - 25);
                        }, 100);
                    },
                    paginationBulletRender: function(w, x, y) {
                        var v = x + 1;
                        var u = (v < 10 ? "0" : "") + v;
                        return '<span class="' + y + ' swiper-number"><em>' + u + "</em></span>";
                    }
                });
            }
        });
    }
    if ($(".slideInfo").length > 0) {
        var l = $(".slideInfo");
        var p = new Swiper(".slideInfo", {
            nextButton: l.find(".btn_next"),
            prevButton: l.find(".btn_prev"),
            pagination: l.find(".swiper-pagination"),
            paginationElement: "button",
            paginationClickable: true,
            loop: true,
            onProgress: function(s) {
                setTimeout(function() {
                    l.css("height", $(s.container).find(".swiper-slide-active .info").outerHeight());
                }, 100);
            }
        });
    }
    if ($(".slideAuto").length > 0) {
        var m = $(".slideAuto");
        var o = null;
        m.each(function() {
            var s = $(this);
            var u = new Swiper(s, {
                nextButton: s.find(".btn_next"),
                prevButton: s.find(".btn_prev"),
                pagination: s.find(".swiper-pagination"),
                paginationElement: "button",
                paginationClickable: true,
                autoplay: 6000,
                loop: true,
                onProgress: function() {}
            });
            setTimeout(function() {
                t();
            }, 1000);
            $(window).resize(function() {
                clearTimeout(o);
                o = setTimeout(function() {
                    t();
                }, 100);
            });

            function t() {
                var v = $(".topVisualArea .topVisual").width();
                if (v <= 1180) {
                    v = 1180;
                }
                $(".mainTopVisualArea .btn_prev").css({
                    "margin-left": -(v / 2)
                });
                $(".mainTopVisualArea .btn_next").css({
                    "margin-right": -(v / 2)
                });
                if (s.find(".btnPlayStop").length < 1) {
                    s.find(".swiper-pagination").append('<button class="btnPlayStop">stop</button>');
                }
                s.find(".btnPlayStop").off("click");
                s.find(".btnPlayStop").on("click", function() {
                    if (!$(this).hasClass("play")) {
                        $(this).addClass("play");
                        u.stopAutoplay();
                    } else {
                        $(this).removeClass("play");
                        u.startAutoplay();
                    }
                });
            }
        });
    }
    if ($(".slideInfo2").length > 0) {
        var k = $(".slideInfo2");
        k.each(function() {
            var s = $(this);
            var t = new Swiper(s, {
                nextButton: s.find(".btn_next"),
                prevButton: s.find(".btn_prev"),
                pagination: s.find(".swiper-pagination"),
                paginationElement: "button",
                paginationClickable: true,
                loop: true
            });
        });
    }
    if ($(".slideInfoFixText").length > 0) {
        var j = $(".slideInfoFixText");
        var g = new Swiper(j, {
            nextButton: j.find(".btn_next"),
            prevButton: j.find(".btn_prev"),
            pagination: j.find(".swiper-pagination"),
            paginationElement: "button",
            paginationClickable: true,
            loop: true,
            onInit: function() {
                if ($(window).width() < 767) {
                    j.height(j.find(".info").outerHeight());
                }
            }
        });
        $(window).resize(function() {
            if ($(window).width() < 767) {
                j.height(j.find(".info").outerHeight());
            }
        });
    }
    if ($(".galleryTy2").length > 0) {
        var c = $(".galleryTy2");
        c.each(function() {
            var t = $(this);
            var s = new Swiper(t.find(".galleryTy2-slide"), {
                nextButton: t.find(".btn_next"),
                prevButton: t.find(".btn_prev"),
                pagination: t.find(".swiper-pagination"),
                paginationElement: "button",
                paginationClickable: true,
                loop: true
            });
        });
    }
    if (browser.name == "msie" && Number(browser.version) <= 10) {
        $("body").addClass("msie9");
    }
    if ($(".btnHelp").length > 0) {
        $(".btnHelp").on("click", function(t) {
            t.preventDefault();
            var s = $(this).closest(".filterItem");
            if (!$(this).hasClass("on")) {
                $(".btnHelp").removeClass("on");
                $(".helpBox").hide();
                $(this).addClass("on");
                s.find(".helpBox").show();
            } else {
                $(".btnHelp").removeClass("on");
                $(".helpBox").hide();
                $(".btnHelp").blur();
                $(".btnHelp").mouseleave();
            }
        });
        $(".btnHelpClose").on("click", function(s) {
            s.preventDefault();
            $(".btnHelp").removeClass("on");
            $(".helpBox").hide();
            $(".btnHelp").blur();
        });
    }
    if ($(".btnMachFilter").length > 0) {
        $(".btnMachFilter").on("click", function(t) {
            t.preventDefault();
            if (!$(this).hasClass("on")) {
                $(this).addClass("on");
                $(".machFilterArea").stop().slideDown(200);
            } else {
                $(this).removeClass("on");
                $(".machFilterArea").stop().slideUp(200);
            }
            var s = 0;
            $(".filterItem.line1").each(function() {
                if ($(this).height() > s) {
                    s = $(this).outerHeight();
                }
            });
            $(".filterItem.line1").css({
                height: s
            });
        });
        $(".machFilterArea .btn.search").on("keydown", function(s) {
            if (s.keyCode == 9 && $("body").hasClass("pc")) {
                $(".btnMachFilter").click();
            }
        });
        $(".btnMachFilterClose").on("click", function(s) {
            s.preventDefault();
            $(".btnMachFilter").focus().removeClass("on");
            $(".machFilterArea").stop().slideUp(200);
        });
    }
    $(".datepickerItem .inputText").each(function() {
        $(this).datepicker({
            showOn: "button",
            buttonImage: "/content/dam/hyundai/ww/en/images/common/static/btn_cal.png",
            buttonImageOnly: true,
            buttonText: "Select date",
            dateFormat: "yy-mm-dd"
        });
    });
    if ($(".lineChk").length > 0) {
        $(".lineChk").each(function() {
            if ($(this).height() > 30) {
                $(this).height(56);
            }
        });
    }
    if ($(".listViewType").length > 0) {
        if ($(".listViewType .grid").hasClass("on")) {
            $(".brdList").removeClass("gridMode");
        } else {
            $(".brdList").addClass("gridMode");
        }
        $(".listViewType button").on("click", function(s) {
            s.preventDefault();
            if ($(this).hasClass("grid")) {
                $(".brdList").removeClass("gridMode");
                $(".listViewType .list").removeClass("on");
                $(this).addClass("on");
            } else {
                $(".brdList").addClass("gridMode");
                $(".listViewType .grid").removeClass("on");
                $(this).addClass("on");
            }
        });
    }
    $(document).on("click", ".calendarWrap .calendarControl .date", function(s) {
        s.preventDefault();
        if (!$(this).hasClass("open")) {
            $(this).addClass("open");
            $(this).closest(".calendarControl").find(".calOption").stop().fadeIn(300);
        } else {
            $(this).removeClass("open");
            $(this).closest(".calendarControl").find(".calOption").stop().fadeOut(300);
        }
    });
    $(document).on("click", ".calendarWrap .btnOptionClose", function(s) {
        s.preventDefault();
        $(".calendarWrap .calendarControl .date").removeClass("open");
        $(".calendarControl").find(".calOption").stop().fadeOut(300);
    });
    $(document).on("click", ".calendarWrap .calToday", function(s) {
        s.preventDefault();
        $(".calendarWrap .today .btnCalMore").trigger("click");
    });
    $(document).on("click", ".calendarWrap .btnCalMore", function(u) {
        u.preventDefault();
        var t = $(this).closest(".calBodyArea");
        var s = $(this).closest("li").find(".calMoreContent");
        if (!$(this).closest("li").hasClass("on")) {
            $(".calendarWrap .calBodyArea > li").removeClass("on");
            $(this).closest("li").addClass("on");
            $(".calendarWrap .calMoreContent").hide();
            s.show();
            $(".calendarWrap .calBodyArea").css({
                height: t.find(" > li").outerHeight()
            });
            t.css({
                height: t.find(" > li").outerHeight() + s.outerHeight()
            });
            s.css({
                top: $(this).closest("li").outerHeight()
            });
        } else {
            $(this).closest("li").removeClass("on");
            t.css({
                height: t.find(" > li").outerHeight()
            });
            setTimeout(function() {
                s.hide();
            }, 200);
        }
    });
    $(window).resize(function(v) {
        v.preventDefault();
        var s = window.innerWidth;
        var u = $(".calendarWrap .calBodyArea > li");
        var t = $(".btnCalMore").closest("li").find(".calMoreContent");
        u.css({
            height: u.outerWidth()
        });
        t.css({
            top: u.outerWidth()
        });
        if (s > 767) {
            $(".calendarWrap .calBodyArea").each(function() {
                var w = $(this);
                if (w.find("li").hasClass("on")) {
                    w.css({
                        height: u.outerHeight() + t.outerHeight()
                    });
                } else {
                    w.css({
                        height: u.outerHeight()
                    });
                }
            });
        } else {
            $(".calendarWrap .calBodyArea").each(function() {
                var w = $(this);
                if (w.find("li").hasClass("on")) {
                    w.css({
                        height: u.outerWidth() + t.outerHeight()
                    });
                } else {
                    w.css({
                        height: u.outerWidth()
                    });
                }
            });
        }
    }).resize();
    $(".calendarWrap .btnMoreClose").on("click", function(u) {
        u.preventDefault();
        var t = $(this).closest(".calBodyArea");
        var s = $(this).closest("li").find(".calMoreContent");
        $(".calendarWrap .calBodyArea > li").removeClass("on");
        t.css({
            height: t.find(" > li").not(".on").outerHeight()
        });
        setTimeout(function() {
            s.hide();
        }, 200);
    });
    if ($(".tableType").length == 0) {
        $(".utillFont").hide();
    }
    if ($(".utillFont").length > 0) {
        var b = 0;
        var a = $(".utillFont");
        a.find(".fsBig").bind("click", function(s) {
            s.preventDefault();
            if (b < 3) {
                b = b + 1;
            } else {
                b = 3;
            }
            $(".tableType").attr("class", "tableType fzbig" + b);
        });
        a.find(".fsSmall").bind("click", function(s) {
            s.preventDefault();
            if (b > 0) {
                b = b - 1;
            } else {
                b = 0;
            }
            $(".tableType").attr("class", "tableType fzbig" + b);
        });
    }
    if ($(".mainTopBanner").length > 0) {
        $(".mainTopBanner .btnBannerClose").on("click", function(s) {
            s.preventDefault();
            if (!$(this).hasClass("on")) {
                $(this).addClass("on");
                $(".bannerArea").slideDown(200,function(){
                    GnbResponsiveImages();
                });
                $(".visitcountry").hide();
            } else {
                $(this).removeClass("on");
                $(".bannerArea").slideUp(200,function(){
                    //GnbResponsiveImages();
                    $(".gnbWrapFull").css("top","0");
                });
                
                $(".visitcountry").show();
                $("body").removeClass("topBanner");
            }
        });
        $(".visitcountry").on("click", function(s) {
            s.preventDefault();
            $(".mainTopBanner .btnBannerClose").addClass("on");
            $(".bannerArea").slideDown(200,function(){
                GnbResponsiveImages();
            });
            $(".visitcountry").hide();
        });
    }
});
var browser = (function() {
    "use strict";
    var b = navigator.userAgent.toLowerCase();
    var a = /(webkit)[ \/](\w.]+)/.exec(b) || /(opera)(?:.*version)?[ \/](\w.]+)/.exec(b) || /(msie) ([\w.]+)/.exec(b) || !/compatible/.test(b) && /(mozilla)(?:.*? rv:([\w.]+))?/.exec(b) || [];
    return {
        name: a[1] || "",
        version: a[2] || "0"
    };
}());

/*
function gfnOpenLayer(a, d) {
    "use strict";
    d.preventDefault();
    window.focusBtn = d.currentTarget;
    var b = {
        opacity: 0
    };
    
    //var c = d.pageY;
    
    a = $(a);
    a.css(b);
    a.show();
    a.stop().animate({
        opacity: 1
    }, {
        duration: 400,
        complete: function() {
            a.css({
                transform: "initial"
            });
        }
    });
    a.attr("tabIndex", -1).focus();
    a.find(".btnLayerClose").off("click.closeEvent").on("click.closeEvent", function(f) {
        f.preventDefault();
        $(this).closest(a).hide();
        if (window.focusBtn) {
            window.focusBtn.focus();
        }
    });
}
*/

$(document).on("click",".btnLayerClose", function(f) {
    f.preventDefault();
    $(this).closest(".layerPop").hide();
});

$(document).on("click",".utilWrap .util.share", function(f){
    $(".layerPop.share").css("opacity","0");
    $(".layerPop.share").show();
    $(".layerPop.share").stop().animate({
        opacity: 1
    }, {
        duration: 400
    });
});

var dep1 = null;
var dep2 = null;
var dep3 = null;
var dep4 = null;
var dep5 = null;

$(document).ready(function(){
    "use strict";
    gnb(dep1,dep2,dep3,dep4,dep5);
}); 

/*
SEARCH(header) - 190812
*/
//============================================
var SEARCH_AUTO_COMPLETE_MIN_COUNT = 3;

$(document).ready(function(){

 //GnB input 클릭 시, search btn 클릭 시
   $(".gnbSearchArea .gnbSearch .searchInput .inputText").on("click", function(){
       
       if($(this).val().length < SEARCH_AUTO_COMPLETE_MIN_COUNT){
           
           if($(".gnbautoSearchList.recentSearch").css("display") == "block" ) {
               $(".gnbautoSearchList.recentSearch").css("display","none");
               /*$(".gnbDim").css("display","block");*/

               var gnbTop=$(".gnbWrapFull").offset().top;
               if($("body").hasClass("mobile")){
                  /*$(".gnbDim").css("display","none");*/
               }

           } else{
               $(".gnbautoSearchList.recentSearch").css("display","block");
               var gnbTop=$(".gnbWrapFull").offset().top;
               
               Header.recentSearch.getCookie($('.gnbautoSearchList.recentSearch .autoSearch'));
               
      /*            if($("body").hasClass("mobile")){
                  $(".gnbDim").css({"display":"block"},{"top":gnbTop});

               }*/

           }
       }
       // search Input 외 클릭 시 최근 검색어 닫기 (추가 190416)
       $('html').click(function(e) { 
       if(!$(e.target).hasClass("gnbSearchActive")) {
           $(".gnbautoSearchList.recentSearch").hide()
       }
   });
       
   });

 //background(gnbDim #000) 클릭 시 창닫기 -추가 190422
   $(".gnbDim").on("click",function(){
       $(this).css("display","none");
       $(".gnbSearchArea").hide();
       $(".btnMobileSearch").removeClass("close");
       $(".scrollBox").css({"display":"none","right":"-100%"});
       $(".btnMobileMenu").attr("class", "btnMobileMenu").removeAttr("style");
   });
   
   //* 모바일 일 때, GNB Search BTN
   $(".btnMobileSearch").on("click",function(){
       if($(".btnMobileSearch").hasClass("close")){
           $(".btnMobileSearch").removeClass("close");
           $(".gnbSearchArea").hide(); //- hide로 변경 190422
           $(".gnbSearchArea").slideUp(300);
           $(".gnbUtilWrap").attr("class", "gnbUtilWrap");
           $(".gnbDim").css("display","none");
           $(".btnMobileMenu").attr("class", "btnMobileMenu").removeAttr("style"); //-추가 190422

       }else{
            $(".btnMobileSearch").addClass("close");
           $(".gnbSearchArea").slideDown(300);
           $(".gnbUtilWrap").addClass("search");
           $(".btnMobileMenu").attr("class", "btnMobileMenu").removeAttr("style"); //-추가 190422
           $(".scrollBox").css({"display":"none","right":"-100%"}); //-추가 190422 
       }
       
       // 모바일에서 검색창 클릭 시 background(#000) 보이기
       if($("body").hasClass("mobile")){
          var gnbTop=$(".gnbWrapFull").offset().top;
           if($(".gnbUtilWrap").hasClass("search")){
               $(".gnbDim").css({"display":"block","top":0}) /*190418*/
           } else{
               $(".gnbDim").css("display","none");
               $(".gnbautoSearchList.recentSearch").removeClass("on");
           }
       }
       
    // 검색창 클릭 시 input에 포커스 -추가 190422
       $('.gnbSearchArea .searchInput .inputText').focus();
   });

 //모바일 menu (bar) 누를 때 검색창 끄기 -추가 190422
   $(".btnMobileMenu").on("click",function(){
       $(".gnbSearchArea").css("display","none");
       $(".btnMobileSearch").attr("class", "btnMobileSearch gnbSearchBtn")
   });
   
   // Gnb Button reset 클릭 시, 리셋
   $(".gnbSearchArea .btnReset").on("click",function(){
        $(".gnbautoSearchList").hide();
        $(".gnbautoSearchList.recentSearch").show();  //동작확인
    });


   // 검색 버튼클릭
    $(".gnbSearchArea .btnSearch").on("click",function(){
        var $target = $(this).closest(".gnbSearchArea");
        Header.recentSearch.setCookie($(this).val());
        var txtGnbSearchKey = $.trim($target.find(".gnbSearch .inputText").val());
        Header.search.moveSearchResult(txtGnbSearchKey);
   });
   
   /* ====================================*/
    // btnGnbClose 클릭 시 창닫기
   $(".gnbWrapFull .btnGnbClose").on("click", function(k) {
       k.preventDefault();
       if ($("body").hasClass("pc") || $("body").hasClass("tablet")) {
           $(".btnMobileSearch").attr("class", "btnMobileSearch"); //* GT디자인가이드_20 190228 추가됨
           $(".gnbSearchArea").hide(); //* GT디자인가이드_20 190228 추가됨
           $(".gnbDim").css("display","none"); //* GT디자인가이드_20 190228 추가됨
       }
       GnbResponsiveImages();
   });
   
 //모바일에서 tab 클릭 시 tabArea 접히기 - 추가 190422
   $("#searchTabWrap .tabArea .tab a").on("click",function(){
       $(".tabArea").removeClass("open");
   });

});
//최근 검색어 삭제 (delete)
$(document).on("click", ".list .btn-delete", function(){
  $(this).parent(".list.con").hide();
  Header.recentSearch.deleteCookie( $(this).parent(".list.con"));
  Header.recentSearch.getCookie($(this).closest('.autoSearch'));
});

//layerPop .btn 클릭 시 창 닫기 추가
$(document).on("click",".btnLayerClose,.layerPop .popCont .btnWrap .btn", function(f) { 
   f.preventDefault();
   $(this).closest(".layerPop").hide();
});

//최근 검색어 모두 삭제 (all-delete)
$(document).on("click",".all_delete .btn_all_delete", function(){
   $(this).closest(".recentSearch").hide();
   Header.recentSearch.deleteAllCookie($(this));
});

//최근검색어 누르면 이동
$(document).on("click",".gnbautoSearchList .historyLi a", function(){
   Header.search.moveSearchResult($(this).text()); 
}); 

//자동완성 리스트누르면 이동
$(document).on("click",".autoSearch .autoComp", function(){
   Header.recentSearch.setCookie($(this).attr("key-item"));
   Header.search.moveSearchResult($(this).attr("key-item"));
});

var Header = {};

//Search
Header.search = (function(){
this.moveSearchResult = function(query){
    var searchUrl = $('#btnGNBSearch').attr('search-url'); //'.gnbSearchArea .btnSearch'
    query = query.replace(/[^\w\s]/gi, '');
    if(!query){
       $(".layerPop.alert").css("display","block");
       $(".layerPop .dim").css("display","block");
    }else{
        location.href = searchUrl + '?query=' + encodeURIComponent(query)+'&_charset=utf-8';
    }
};

return this;

})();

//자동완성기능
function fn_search_auto_complete(vKeyword, targetEL, listCnt){  
  if(listCnt == undefined || !listCnt) listCnt = 5;  
  $.ajax({
      type: "POST",
      url: "/wsvc/in/spa/common/search.autocomplete.html",
      data : {"query" : vKeyword},
      dataType : 'json',              
      success: function(resData) {
          var html = "";
          if(resData && resData.result[0] && resData.result[0].totalcount > 0){
              var recommend = resData.result[0].items;            
              for(var i=0; i<recommend.length; i++){
                  var recommendText = recommend[i].keyword;
                  recommendText = recommendText.replace(/\%20/ig, ' ');
                  recommendText = recommendText.replace(/[^\w\s]/gi, '');
                  if(i>=listCnt){
                      break;
                  }
                  var recommendTextCh = recommendText.replace(vKeyword,'<mark class="keyword">'+vKeyword+'</mark>');
                  html += '<li class="list autoComp" key-item="'+recommendText+'"><button class="link">'+recommendTextCh+'</button></li>';
              }  
          }          
          $(targetEL).html(html); //없으면 기존 data 삭제
          if(html){
              $(targetEL).show();    
          }else{
              $(targetEL).hide();
          }
          return true;            
      }
      
  });
  
}

Header.recentSearch = (function(){
  
  this.setCookie = function(value) {
      if(value == '' || value.length == 0){return;}
      if (localStorage.getItem(Granite.I18n.getLocale() +"_historySearch") != null)
      {
          var historyTmp = localStorage.getItem(Granite.I18n.getLocale() +"_historySearch");
          var oldhistoryarray = historyTmp.split('|');
          historyTmp = value + '|';
          var leng = oldhistoryarray.length < 7 ? oldhistoryarray.length : 6;  //빈공백때문에 +1
          for(var i =0; i<leng-1; i++)
          {
              if(value.toUpperCase() != oldhistoryarray[i].toUpperCase()){
                  oldhistoryarray[i] = oldhistoryarray[i].replace(/[^\w\s]/gi, '');
                  historyTmp += oldhistoryarray[i] + '|';
              }
          }
      }else{
          historyTmp = value + '|';
      }
      
      localStorage.setItem(Granite.I18n.getLocale() +"_historySearch", historyTmp);
      
  };

  this.getCookie = function(obj) {
      var htmlTxt = '<li class="list title"><div class="link searchActive gnbSearchActive" alt="recent-search-title"><mark class="keyword">'+Granite.I18n.get("Search History")+'</mark></div></li>';
      
      if (localStorage.getItem(Granite.I18n.getLocale() +"_historySearch") == null || localStorage.getItem(Granite.I18n.getLocale() +"_historySearch").length == 0)
      {
          htmlTxt = '';
          $(obj).parent().hide();
          $(obj).parent().find('.all_delete').hide();
      }else{
          var historyTmp = localStorage.getItem(Granite.I18n.getLocale() +"_historySearch");
          var oldhistoryarray = historyTmp.split('|');
          var leng = oldhistoryarray.length < 6 ? oldhistoryarray.length-1 : 5;
          
          for(var i =0; i<leng; i++)
          {
              var val = oldhistoryarray[i];
              val = val.replace(/[^\w\s]/gi, '');

              htmlTxt += '<li class="list con historyLi"><a href="#" class="link searchActive gnbSearchActive" alt="recent-search">'+val+'</a> <button class="btn-delete gnbSearchActive searchActive">delete</button></li>';
          }
          $(obj).parent().find('.all_delete').show();
      }
      $(obj).html(htmlTxt);
      
  };
  
  this.deleteCookie = function(obj) {
      
      var delVal = $(obj).find('a').html();
      var historyVal ='';
      
      if (localStorage.getItem(Granite.I18n.getLocale() +"_historySearch") != null)
      {
          var historyTmp = localStorage.getItem(Granite.I18n.getLocale() +"_historySearch");
          var oldhistoryarray = historyTmp.split('|');
          
          for(var i =0; i<oldhistoryarray.length-1; i++)
          {
              if(delVal.toUpperCase() != oldhistoryarray[i].toUpperCase()){
                  historyVal += oldhistoryarray[i] + '|';
              }
          }
      }
      
      localStorage.setItem(Granite.I18n.getLocale() +"_historySearch", historyVal);
      
  }
  
  this.deleteAllCookie = function(obj) {
      localStorage.removeItem(Granite.I18n.getLocale() +"_historySearch");
      $('.gnbautoSearchList.recentSearch .autoSearch').html("");
      $('.autoSearchList.recentSearch .autoSearch').html("");
  }
  
  return this;
})();

//배장환 추가
$(document).on("click", '.gnbSearch .btnReset', function(e){
  e.preventDefault();
  $(".gnbSearch .btnReset").hide();
  $(".gnbSearch .inputText").val("").focus();
  
});

$(document).on("keyup", '.gnbSearchArea .inputText', function(e){
  var linkLen = $(this).closest(".gnbSearch").find(".autoSearch .link").length;
  
  if($(this).val()){
      $(".gnbSearch .btnReset").show();
      var word = chkword($(this).val(), 50);
      if(word != ""){
          $(this).val(word);
      } 
  }else{
      $(".gnbSearch .btnReset").hide();            
  }
  if(e.keyCode == 13 || e.which == 13){
      Header.recentSearch.setCookie($(this).val());
      Header.search.moveSearchResult($.trim($(this).val()));
  }else if(e.keyCode == 40 && linkLen > 1){
      e.preventDefault();
      $(this).closest(".gnbSearch").find(".gnbautoSearchList.recentSearch").show();
      $(this).closest(".gnbSearch").find(".gnbautoSearchList .link").eq(0).focus();
  }else if(e.keyCode != 38 && $(this).val().length >= SEARCH_AUTO_COMPLETE_MIN_COUNT){
      $(".gnbautoSearchList.auto").show();
      fn_search_auto_complete($(this).val(), ".gnbautoSearchList.auto .autoSearch");
      
     $(".gnbSearch .gnbautoSearchList.auto").show();
  }else {
      $(".gnbSearch .gnbautoSearchList").hide();
  }
});
// 배장환 추가
function chkword(strValue, maxByte) {
  var strLen = strValue.length;
  var totalByte = 0;
  var len = 0;
  var oneChar = "";
  var str2 = "";

  for (var i = 0; i < strLen; i++) {
      oneChar = strValue.charAt(i);
      if (escape(oneChar).length > 4) {
          totalByte += 2;
      } else {
          totalByte++;
      }
      if (totalByte <= maxByte) {
          len = i + 1;
      }
  }
  if (totalByte > maxByte) {
      //alert( Granite.I18n.get('msg_cannot_enter_more_than')+" "+ maxByte +" "+Granite.I18n.get('msg_bytes')+".") ; 
      str2 = strValue.substr(0, len);
  }
  return str2;
}
//end : SEARCH
/******************************************************************************
 * Description 항목의 Enter 키, Alt + Enbter 키 제어
 */
function keyEventHandler(textfield, event){
    var elm = document.getElementById(textfield.getId());
    console.log("== Key Event =================================");
    altKeyEnterKeyHandler(elm, event);
}

function altKeyEnterKeyHandler(elm, evt){
    if(evt.altKey && evt.keyCode == 13){
		altEnterKeyHandler(elm);
        console.log("== alt + enter =================================");
        return false;
    }else if(evt.keyCode == 13){
    	enterKeyHandler(elm);
        console.log("== enter =======================================");
        return false;
    }
}

function enterKeyHandler(elm){
	insertToCaret(elm, "↵");
}

function altEnterKeyHandler(elm){
	insertToCaret(elm, "\n");
}

function insertToCaret(el, str){

    var val = el.value; 
    var endIndex;
    var range;
    var doc = el.ownerDocument;

    if (typeof el.selectionStart == "number" && typeof el.selectionEnd == "number") {
        endIndex = el.selectionEnd;
        el.value = val.slice(0, endIndex) + str + val.slice(endIndex);
        el.selectionStart = el.selectionEnd = endIndex + str.length;
    } else if (doc.selection != "undefined" && doc.selection.createRange) {
        el.focus();
        range = doc.selection.createRange();
        range.collapse(false);
        range.text = text;
        range.select();
    }
}

$(document).ready(function(){

$.ajaxPrefilter(function (options, originalOptions, jqXHR) {
	
    // do not send data for POST/PUT/DELETE
    //if (originalOptions.type !== 'GET' || options.type !== 'GET') {return;}
	
	var pathnm = $(location).attr('pathname');
	var startidx = pathnm.indexOf('/content/hyundai/');
	if(startidx < 0){ 
		startidx = 1; // -1
	} else {
		startidx = 17; // /content/hyundai/
	}
	var tmp_path = pathnm.substr(startidx, pathnm.length);
	
	var patharr = tmp_path.split("/");
//	var loc = patharr[0];
//	var lang = patharr[1];
	var loc = "IN";
	var lang = "en";
	// console.log(loc);
	// console.log(lang);
	//var loc = pathnm.substr(startidx, 2);
	//var gtIdx = pathnm.indexOf('/'+loc+'/');
	//var lang = pathnm.substr(gtIdx+4,2);

    var data = originalOptions.data;
    if (originalOptions.data !== undefined) {
        
        if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
           // data = $.deparam(originalOptions.data); // see http://benalman.com/code/projects/jquery-bbq/examples/deparam/
        }
    } else {
        data = {};
    }
    options.data = $.param($.extend(data, { loc:loc.toUpperCase(), lan:lang }));
});
});
/**************************************************************
설 명 : PIP 공통 - Dialog 의 Car Info 탭의 차종 선택 이벤트 핸들링  
수정일       수정자  수정내용 
---------- ------ -----------
2017.9.20  허윤성  최초작성
***********************************************************************************/

carCategoryChanged = function(selection, value, isChecked){

    console.log("carCategoryChanged ==>> Saved Value : " + selection.value + "\t Seleted Value : " + selection.getValue() + "\t isChecked : " + isChecked);
    var url = "/wsvc/in/pip/common/product/list.html?codeType="+value ;
    var panel = selection.findParentByType('panel');
    var selectBox = panel.findByType('selection')[1];
    selectBox.reset();
    $.getJSON(url, function(jsonData){ 
    	for(var i = 0 ; i < jsonData.length ; i++) 
    		jsonData[i].text = jsonData[i].text + ' (' + jsonData[i].value + ')';
        selectBox.setOptions(jsonData); 
    });
}

loadSelectedCarInfo = function(field, record, path){

	var panel = field.findParentByType('panel');
	console.log("carCategory :: "+record.json.carCategory);
	// model
    var selectBox1 = panel.findByType('selection')[1];
    var url = "/wsvc/in/pip/common/product/list.html?codeType="+record.json.carCategory ;
    
    $.getJSON(url, function(jsonData){
    	for(var i = 0 ; i < jsonData.length ; i++) 
    		jsonData[i].text = jsonData[i].text + ' (' + jsonData[i].value + ')';
        selectBox1.setOptions(jsonData);
        selectBox1.setValue(record.json.carProduct);
    });
}

/**
 * ixBand - Javascript Library
 * @version v1.1 (1706261340)
 * The MIT License (MIT), http://ixband.com
 */
;(function () {
    'use strict';

    var MSG_NOT_STRING = '의 대상이 문자열이 아닙니다.',
        MSG_NOT_ARRAY = '의 대상이 배열이 아닙니다.',
        MSG_NOT_COLOR = '는 Color Type이 아니거나 지원하지 않는 형식입니다.',
        MSG_OVERLAP_VARIABLE = '는 이미 선언 되어있어 다시 선언할 수 없습니다.';
    
    if ( window.ixBand ) {
        warning( '"ixBand"' + MSG_OVERLAP_VARIABLE, true );
        return;
    }
    
    var $B = window.ixBand = function ( target ) {
        _dom.target = ( target )? target : null;
        return _dom;
    };
    
    var document = window.document;
    var __swfCount = 0,
        __classCount = 0,
        __keyCount = 0,
        __debugMode = false;
    
    // ===============	Public Properties =============== //
    $B.VERSION = '1.1';
    
    
    //ixBand 이외의 변수를 사용할때
    //<script src="js/ixBand.js?ixBand=$B"></script>
    (function () {
        var jsTags = document.getElementsByTagName( 'script' ),
            jsTag = jsTags[jsTags.length-1];
    
        if ( jsTag && /[\?&]ixBand=([^&]+)/.test(jsTag.src) ) {
            if ( window[RegExp.$1] ) {
                warning( '"' + RegExp.$1 + '"' + MSG_OVERLAP_VARIABLE, true );
            } else {
                window[RegExp.$1] = ixBand;
            }
        } else {
            if ( window.$B ) {
                warning( '"$B"' + MSG_OVERLAP_VARIABLE, true );
            } else {
                window.$B = ixBand;
            }
        }
    }());


    // ############################################################################ //
    // ############################################################################ //
    // 								ua (userAgent)									//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.ua = (function () {
        var nua = navigator.userAgent.toLowerCase(),
            docMode = document.documentMode,
            isWindows = nua.indexOf('windows') > -1,
            isLinuxPlatform = ( '' + navigator.platform ).toLowerCase().indexOf( 'linux' ) > -1,
            //IE11부터는 appName이 Netscape로 나오기때문에 docMode도 체크
            isIE = navigator.appName == 'Microsoft Internet Explorer' || docMode > 10;
    
        /**
         * 브라우져, OS 체크
         * @type	{ua}
         */
        var ua = {
            IE_VERSION: 0,
            DOC_MODE: docMode || 0,
            MSIE: isIE,
            EDGE: nua.indexOf( 'edge' ) > -1,
            IE7_LT: false,//ie7미만 (~6)
            IE8_LT: false,//ie8미만 (~7)
            IE9_LT: false,//ie9미만 (~8)
            IE10_LT: false,//ie10미만 (~9)
            IE11_LT: false,//ie10미만 (~10)
            DOC_MODE_IE8_LT: false,//문서모드 8미만
            DOC_MODE_IE9_LT: false,//문서모드 9미만
            DOC_MODE_IE10_LT: false,//문서모드 10미만
            DOC_MODE_IE11_LT: false,//문서모드 11미만
            DOC_MODE_IE12_LT: false,//문서모드 12미만
            IE_COMPATIBLE: false,//호환성모드
            SAFARI: nua.indexOf( 'safari' ) > -1 && nua.indexOf( 'chrome' ) == -1 && !isLinuxPlatform && !isIE,
            FIREFOX: nua.indexOf( 'firefox' ) > -1 && !/compatible|webkit/.test( nua ),
            OPERA: /\b(opera|opr)/.test( nua ),
            OPERA_MINI: /\b(opera mini)/.test( nua ),//이슈가 너무 많아 구분만 한다.
            CHROME: nua.indexOf( 'chrome' ) > -1,
            MOBILE_IOS: /ipod|iphone|ipad/.test( nua ) && !isWindows && !isLinuxPlatform,
            IPHONE: nua.indexOf( 'iphone' ) > -1 && !isWindows && !isLinuxPlatform,
            IPAD: nua.indexOf( 'ipad' ) > -1 && !isWindows && !isLinuxPlatform,
            ANDROID: nua.indexOf( 'android' ) > -1 && !isWindows,
            MAC: nua.indexOf( 'mac' ) > -1 && !isWindows && !isLinuxPlatform,
            WINDOWS: isWindows,
            WINDOWS_PHONE: nua.indexOf( 'windows phone' ) > -1 && isWindows,
            LINUX: nua.indexOf( 'linux' ) > -1,
            WEBKIT: nua.indexOf( 'webkit' ) > -1,
            MOZILLA: nua.indexOf( 'mozilla' ) > -1,
            TOUCH_DEVICE: ( 'ontouchstart' in window ) || nua.indexOf( 'touch' ) > -1,
            MOBILE: nua.indexOf( 'mobile' ) > -1,
            ANDROID_TABLET: false,
            WINDOWS_TABLET: false,
            TABLET: false,
            SMART_PHONE: false,
            SAMSUNG: nua.indexOf( 'samsung' ) > -1,
            SAMSUNG_VERSION: 0,
            VERSION: 0,//브리우저 버전 (IE의 경우 8~는 DOC_MODE를 참조한다.)
            OS_VERSION: 0,
            WEBKIT_VERSION: 0,
            CHROME_VERSION: 0 //크롬엔진 버전
        };
    
        ua.CHROME = ua.CHROME && !ua.SAFARI && !ua.OPERA && !ua.EDGE;
    
        if ( ua.MSIE ) {
            var re = new RegExp( 'msie ([0-9]{1,}[\.0-9]{0,})' );
            if ( re.exec(nua) ) {
                ua.IE_VERSION = parseFloat(RegExp.$1);
                if ( ua.IE_VERSION < 7 ) ua.IE7_LT = true;
                if ( ua.IE_VERSION < 8 ) ua.IE8_LT = true;
                if ( ua.IE_VERSION < 9 ) ua.IE9_LT = true;
                if ( ua.IE_VERSION < 10 ) ua.IE10_LT = true;
                if ( ua.IE_VERSION < 11 ) ua.IE11_LT = true;
            }
    
            if ( docMode ) {
                if ( docMode < 8 ) ua.DOC_MODE_IE8_LT = true;
                if ( docMode < 9 ) ua.DOC_MODE_IE9_LT = true;
                if ( docMode < 10 ) ua.DOC_MODE_IE10_LT = true;
                if ( docMode < 11 ) ua.DOC_MODE_IE11_LT = true;
                if ( docMode < 12 ) ua.DOC_MODE_IE12_LT = true;
            } else {
                ua.DOC_MODE_IE8_LT = true;
                ua.DOC_MODE_IE9_LT = true;
                ua.DOC_MODE_IE10_LT = true;
                ua.DOC_MODE_IE11_LT = true;
                ua.DOC_MODE_IE12_LT = true;
            }
    
            ua.IE_COMPATIBLE = /msie 7.*trident/.test(nua);
        }
    
        if ( ua.EDGE ) {
            ua.TOUCH_DEVICE = ( navigator.pointerEnabled || navigator.msPointerEnabled ) && navigator.maxTouchPoints > 0;
        }
    
        ua.ANDROID_TABLET = ua.ANDROID && !ua.MOBILE;
        ua.WINDOWS_TABLET = ua.WINDOWS && /tablet/.test(nua) && !ua.IE_COMPATIBLE;
        ua.TABLET = ua.IPAD || ua.ANDROID_TABLET || ua.WINDOWS_TABLET;
        ua.SMART_PHONE = ( ua.MOBILE && !ua.TABLET ) || ua.WINDOWS_PHONE;
    
        var osMatch = nua.match( /(mac os x|os|windows phone|windows nt|android)\s([0-9\._]+)/i );
        if ( osMatch && osMatch.length > 2 ) ua.OS_VERSION = String( osMatch[2] ).replace( '_', '.' );
    
        if ( ua.WEBKIT ) ua.WEBKIT_VERSION = getVersion( 'webkit' );
    
        if ( ua.MSIE ) {
            ua.VERSION = ua.DOC_MODE || ua.IE_VERSION;
        } else if ( ua.CHROME ) {
            ua.VERSION = getVersion( 'chrome' );
        } else if ( ua.FIREFOX ) {
            ua.VERSION = getVersion( 'firefox' );
        } else if ( ua.SAFARI ) {
            ua.VERSION = getVersion();
        } else if ( ua.OPERA ) {
            if ( ua.OPERA_MINI ) {
                ua.VERSION = getVersion( 'opera mini' );
            } else {
                ua.VERSION = getVersion( 'opr' ) || getVersion();
            }
        } else if ( ua.EDGE ) {
            ua.VERSION = getVersion( 'edge' );
        } else {
            ua.VERSION = getVersion();
        }
    
        if ( ua.SAMSUNG ) {
            ua.SAMSUNG_VERSION = getVersion( 'samsungbrowser' ) || getVersion();
        }
    
        if ( ua.SAMSUNG_VERSION ) ua.SAMSUNG_VERSION += '';
        if ( ua.VERSION ) ua.VERSION += '';
    
        ua.CHROME_VERSION = getVersion( 'chrome' );
    
        // 버전이 없으면 '0'을 반환
        function getVersion ( browserName ) {
            var matchs = nua.match( /version\/([\d.]*)/ );
    
            if ( browserName ) {
                var reg = new RegExp( browserName + '/([\\d.]*)' );
                matchs = nua.match( reg );
            }
    
            if ( matchs && matchs.length > 1 ) {
                return matchs[1];
            } else {
                return 0;
            }
        }
    
        return ua;
    }());


    var PX_RATIO = window.devicePixelRatio || 1,
        MS_POINTER = true,
        TOUCH_ACTION = 'msTouchAction';
    
    //EventType의 크로스부라우징 처리
    var CrossTouchEvent = {};
    
    //WindowsPhone IE 11에서는 touchstart event를 지원하지만 touchend 시점에 touche pointer가 있는데도 e.touches.length가 0으로 나오는 문제가 있다.
    if ( 'ontouchstart' in window && !$B.ua.MSIE ) {
        CrossTouchEvent = {touchstart: 'touchstart', touchmove: 'touchmove', touchend: 'touchend', touchcancel: 'touchcancel'};
        MS_POINTER = false;
        TOUCH_ACTION = 'touchAction';
        //IE11~
    } else if ( navigator.pointerEnabled ) {
        CrossTouchEvent = {touchstart: 'pointerdown', touchmove: 'pointermove', touchend: 'pointerup', touchcancel: 'pointercancel'};
        TOUCH_ACTION = 'touchAction';
        //IE10
    } else if ( navigator.msPointerEnabled ) {
        CrossTouchEvent = {touchstart: 'MSPointerDown', touchmove: 'MSPointerMove', touchend: 'MSPointerUp', touchcancel: 'MSPointerCancel'};
    }
    //e.pointerType = (mouse==4, pen==3, touch==2)
    
    
    var TRANSITION_NAME = 'transition:';
    
    //Android2.* 버젼에서 크로스브라우징을 위해서 -webkit-transition 이외의 transition Style 속성을 같이 작성하면 동작하지 않는다.
    if ( $B.ua.WEBKIT ) {
        TRANSITION_NAME = '-webkit-transition:';
    } else if ( $B.ua.MSIE ) {
        if ( $B.ua.DOC_MODE_IE11_LT ) TRANSITION_NAME = '-ms-transition:';
    } else if ( $B.ua.MOZILLA ) {
        TRANSITION_NAME = '-moz-transition:';
    } else if ( $B.ua.OPERA ) {
        TRANSITION_NAME = '-o-transition:';
    }
    
    
    // ============================================================== //
    // =====================	trace		========================= //
    // ============================================================== //
    
    ixBand.trace = (function () {
        var _logfiled, _btn;
    
        var trace = {
            init: function () {
                setLog( arguments );
                return this;
            }
        };
    
        function setLog ( array, add ) {
            var num = array.length, i, result = '';
            for ( i = 0; i < num; ++i ) {
                result += array[i] + ' ';
            }
            _logfiled.value = ( add )? add + '\n' + result : '\n' + result;
            if ( $B.ua.DOC_MODE_IE8_LT  && $B.ua.IE_VERSION == 7 ) _logfiled.createTextRange().scrollIntoView( false );
            _logfiled.scrollTop = _logfiled.scrollHeight;
        }
    
        function createLog () {
            var doc = document,
                body = doc.body;
    
            _logfiled = doc.createElement( 'textarea' );
            _logfiled.readOnly = true;
    
            var tfBoxH = $B.ua.IE7_LT ? '150px' : '20%',
                width = $B.ua.DOC_MODE_IE8_LT ? '97%' : '100%',
                bgColor = $B.ua.DOC_MODE_IE9_LT ? '#ffffe1' : 'rgba(255,255,225,0.95)';
    
            _logfiled.style.cssText = 'box-sizing:border-box; left: 0px; bottom: 0px; position: fixed; width: ' + width + '; height: ' + tfBoxH + '; z-index: 100000; font-face: dotum; font-size: 11px; background-color:' + bgColor + '; border:#000 solid 1px;';
            body.appendChild( _logfiled );
    
            //Header
            _btn = doc.createElement( 'input' );
            _btn.type = 'button';
            _btn.value = 'trace X';
    
            var btnX = $B.ua.IE7_LT ? '150px' : '20%';
            _btn.style.cssText = 'left: 0px; width: 100px; bottom: ' + btnX + '; position: fixed; z-index: 100000; background-color: #000; color:#fff;';
            body.appendChild( _btn );
    
            _btn.style.cursor = 'pointer';
            _btn.onclick = function (e) {
                _btn.onclick = null;
                _logfiled.value = '';
                body.removeChild( _logfiled );
                body.removeChild( _btn );
                _logfiled = null;
                _btn = null;
            };
        }
    
        return function () {
            if ( !_logfiled ) createLog();
            setLog( arguments, _logfiled.value );
            return trace;
        };
    }());
    
    
    // ============================================================== //
    // =====================		log		========================= //
    // ============================================================== //
    
    ixBand.log = function () {
        if ( window.console ) console.log( Array.prototype.slice.call(arguments) );
    };
    
    
    // ===============	Private Methods =============== //
    
    function warning ( msg, absolute ) {
        if ( absolute || __debugMode ) {
            if ( window.console && console.warn ) {
                console.warn( '[ixBand] ' + msg );
            } else if ( window.console && console.log ) {
                console.log( '[ixBand] ' + msg );
            }
        }
    }
    
    //extend (object, array)
    function extend ( fromObj, toObj ) {
        for ( var key in toObj ) {
            fromObj[key] = toObj[key];
        }
    
        return fromObj;
    }
    
    //deep clone (object, array)
    function deepClone ( value ) {
        var result;
    
        if ( $B.isObject(value) || $B.isArray(value) ) {
            result = ( $B.isArray(value) )? [] : {};
    
            for ( var key in value ) {
                result[key] = deepClone( value[key] );
            }
        } else {
            result = value;
        }
    
        return result;
    }
    
    // ============================================================== //
    // =====================	etc 			===================== //
    // ============================================================== //
    
    extend( $B, {
        /**
         * ixBand()의 Method로 상속해 사용할 수 있도록 등록.
         * @param	{Object}	methods		상속할 methods
         */
        extend: function ( obj ) {
            var n;
            for ( n in obj ) {
                if ( _dom[n] ) {
                    throw new Error( '[ixBand] Extend Error : ixBand에 "' + n + '" Method가 이미 존재합니다.' );
                } else {
                    _dom[n] = obj[n];
                }
            }
        },
        /**
         * ixBand에서 발생하는 각종 에로 로그를 콘솔에 표시하고 싶으면 true를 설정
         * @param	{Boolean}	state
         */
        debugMode: function ( state ) {
            __debugMode = state;
        },
    
        /**
         * 호출될 때 그 this 키워드를 제공된 값으로 설정하고 새로운 함수가 호출될 때 제공되는 주어진 순서의 선행 인수가 있는 새로운 함수를 생성.
         * @return	{Function}
         */
        bind: function ( fnc, oThis ) {
            if ( Function.prototype.bind ) {
                ixBand.bind = function ( fnc, oThis ) {
                    return fnc.bind( oThis );
                };
            } else {
                ixBand.bind = function( fnc, oThis ) {
                    var fToBind = fnc,
                        fNOP    = function () {},
                        fBound  = function () {
                            return fToBind.apply( fnc instanceof fNOP ? fnc : oThis, Array.prototype.slice.call(arguments) );
                        };
    
                    if ( fnc.prototype ) {
                        fNOP.prototype = fnc.prototype;
                    }
                    fBound.prototype = new fNOP();
                    return fBound;
                };
            }
    
            return ixBand.bind( fnc, oThis );
        },
    
        /**
         * Data Type 반환 (Object, Array, String, Number, NaN, Null, Function, Date, Boolean, RegExp, Error, Element, Undefined, Color)
         * @param value
         * @returns {String}
         */
        type: function ( value ) {
            var result = Object.prototype.toString.call( value );
            result = result.match( /^\[\W*object\W+([a-zA-Z]+)\W*\]$/ );
    
            if ( result && result.length > 1 ) {
                result = result[1];
            }
    
            if ( result === 'String' ) {
                if ( $B.color.is(value) ) {
                    result = 'Color';
                }
            } else if ( result === 'Number' ) {
                if ( isNaN(value) ) {
                    result = 'NaN';
                }
            } else if ( result === 'Object' ) {
                if ( this.isUndefined(value) ) {
                    result = 'Undefined';
                } else if ( this.isNull(value) ) {
                    result = 'Null';
                } else if ( this.isElement(value) ) {
                    result = 'Element';
                }
            } else {
                if ( this.isElement(value) ) {
                    result = 'Element';
                }
            }
    
            return result;
        },
    
        //Array check
        isArray: function ( value ) {
            return Object.prototype.toString.call( value ) === '[object Array]';
        },
    
        //Boolean check
        isBoolean: function ( value ) {
            return Object.prototype.toString.call( value ) === '[object Boolean]';
        },
    
        //Color check
        isColor: function ( value ) {
            return $B.color.is( value );
        },
    
        //Date check
        isDate: function ( value ) {
            return Object.prototype.toString.call( value ) === '[object Date]';
        },
    
        //Element, HTMLElement, NodeElement check
        isElement: function ( value ) {
            if ( this.isObject(value) ) {
                //$('.touch_area').get(0).constructor.toString()
                return !!( value && value.nodeType === 1 && value.nodeName );
            } else {
                return /HTML(?:.*)Element/.test( Object.prototype.toString.call(value) );
            }
        },
    
        //Empty check (Object, Array, Null, Undefined, String)
        isEmpty: function ( value ) {
            var result = false;
    
            switch ( this.type(value) ) {
                case 'Object':
                    result = true;
                    for ( var key in value ) {
                        result = false;
                        break;
                    }
                    break;
                case 'Array':
                    result = value.length === 0;
                    break;
                case 'Null':
                    result = true;
                    break;
                case 'Undefined':
                    result = true;
                    break;
                case 'String':
                    result = '' === value;
                    break;
            }
    
            return result;
        },
    
        //Error check
        isError: function ( value ) {
            return Object.prototype.toString.call( value ) === '[object Error]';
        },
    
        //data 비교, Object, Array는 깊은 비교 (type까지 같아야 true)
        isEqual: function ( val1, val2 ) {
            var result = false, isSame = true, val1Length, val2Length;
    
            if ( this.isArray(val1) && this.isArray(val2) ) {
                val1Length = val1.length;
                val2Length = val2.length;
    
                if ( val1Length === val2Length && val1Length ) {
                    for ( var i = 0; i < val1Length; ++i ) {
                        if ( !this.isEqual(val1[i], val2[i]) ) {
                            isSame = false;
                            break;
                        }
                    }
                    result = isSame;
                } else {
                    result = ( val1 === val2 );
                }
            } else if ( this.isObject(val1) && this.isObject(val2) ) {
                val1Length = $B.object.length( val1 );
                val2Length = $B.object.length( val2 );
    
                if ( val1Length === val2Length && val1Length ) {
                    for ( var key in val1 ) {
                        if ( !this.isEqual(val1[key], val2[key]) ) {
                            isSame = false;
                            break;
                        }
                    }
                    result = isSame;
                } else {
                    result = ( val1 === val2 );
                }
            } else {
                result = ( val1 === val2 );
            }
    
            return result;
        },
    
        //유한수인지 체크
        isFinite: function ( value ) {
            return this.isNumber( value ) && isFinite( value );
        },
    
        //Function check
        isFunction: function ( value ) {
            return Object.prototype.toString.call( value ) === '[object Function]';
        },
    
        //Not-A-Number(숫자가 아님)을 체크
        isNaN: function ( value ) {
            return this.isNumber( value ) && isNaN( value );
        },
    
        //null check
        isNull: function ( value ) {
            return null === value;
        },
    
        //숫자 체크 (숫자 NaN, Infinity)
        isNumber: function ( value ) {
            return typeof value === 'number';
        },
    
        //Object check
        isObject: function ( value ) {
            return Object.prototype.toString.call( value ) === '[object Object]';
        },
    
        //RegExp check
        isRegExp: function ( value ) {
            return Object.prototype.toString.call( value ) === '[object RegExp]';
        },
    
        //String check
        isString: function ( value ) {
            return ( typeof value === 'string' );
        },
    
        //Undefined check
        isUndefined: function ( value ) {
            return undefined === value;
        }
    });


    // ===============	Public Methods =============== //
    
    var _dom = {
        ixband: true,
        target: null,
        length: 0,
        // ========================== < Object > ========================== //
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 내장함수 querySelector 일부 기능들을 구현, 단일객체 선택
         * 지원형식: .className, .className.className, #id, node.className, node.className.className, node#id, ">" 직계 하위객체,  Space 방계 하위객체 모두, 다중 객체선택 구분자 ","
         * (","를 사용하여 다중 selector를 입력하면 나중에 작성된 selector를 기준으로 단일 element를 검출한다.)<br>
         * <b>주의:</b><br>
         * <li>최신 querySelector를 지원하는 브라우저에서는 내장 함수를 활용해서 구현되었고, IE6~7에서는 별도로 작성한 로직으로 동작한다.</li>
         * <li>IE6~7에서는 id난 className으로 검출할때 nodeName을 넣지않으면 타겟 문서 전체를 검색하기때문에 퍼포먼스가 떨어진다. 되도록이면 타겟과 nodeName을 넣고 검색을 해야한다.</li>
         * <li>*:first-child와 같은 Filter형식의 Selector는 지원하지 않는다.</li>
         * @param	{String}	str
         * @return	{Element}
         */
        selector: function ( str ) {
            if ( document.querySelector ) {
                this.selector = function ( str ) {
                    var el = this.target? this.element() : document,
                        strAry = str.split( ',' );
                    return el.querySelector( strAry[strAry.length - 1] );
                };
            } else {
                this.selector = function ( str ) {
                    var el = this.target? this.element() : document,
                        strAry = str.split( ',' );//여러객체 선택자 분리
                    return $B.selector.one( el, strAry[strAry.length - 1] );
                };
            }
            return this.selector( str );
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 내장함수 querySelectorAll 일부 기능들을 구현
         * 지원형식: .className, .className.className, #id, node.className, node.className.className, node#id, ">" 직계 하위객체,  Space 방계 하위객체 모두, 다중 객체선택 구분자 ","<br>
         * <b>주의:</b><br>
         * <li>최신 querySelectorAll를 지원하는 브라우저에서는 내장 함수를 활용해서 구현되었고, IE6~7에서는 별도로 작성한 로직으로 동작한다.</li>
         * <li>IE6~7에서는 id난 className으로 검출할때 nodeName을 넣지않으면 타겟 문서 전체를 검색하기때문에 퍼포먼스가 떨어진다. 되도록이면 타겟과 nodeName을 넣고 검색을 해야한다.</li>
         * <li>여기서 ID는 유일값이 아니다, 동일한 ID를 가지는 객체 모두 검출된다.</li>
         * <li>*:first-child와 같은 Filter형식의 Selector는 지원하지 않는다.</li>
         * @param	{String}	str
         * @return	{Array}
         */
        selectorAll: function ( str ) {
            if ( document.querySelectorAll ) {
                this.selectorAll = function ( str ) {
                    var el = this.target? this.element() : document,
                        strAry = str.split( ',' ), num = strAry.length, result = [], i, els;
    
                    for ( i = 0; i < num; ++i ) {
                        els = el.querySelectorAll( strAry[i] );
                        result = result.concat( $B(els).toArray() );
                    }
                    return result;
                };
            } else {
                this.selectorAll = function ( str ) {
                    var el = this.target? this.element() : document,
                        strAry = str.split( ',' ), num = strAry.length, result = [], i, els;
    
                    for ( i = 0; i < num; ++i ) {
                        els = $B.selector.all( el, strAry[i] );
                        result = result.concat( els );
                    }
                    return result;
                };
            }
            return this.selectorAll( str );
        },
    
        /**
         * <b>읽기전용</b>
         * 타겟타입:(Selector, Element, jQuery)
         * 단일 Element 반환, 찾는 대상이 없으면 "ixError" 발생
         * @param   {Boolean}   silent  설정시 Error처리를 하지 않는다.
         * @return	{Element}
         */
        element: function ( silent ) {
            var target = this.target, el;
    
            if ( typeof target === 'string' ) {
                el = $B( document ).selector( target );
            } else {
                if ( target ) {
                    //jQuery Object
                    if ( typeof target.get === 'function' ) {
                        el = target.get(0);
                    } else {
                        el = target;
                    }
                }
            }
    
            if ( el ) {
                this.target = el;
            } else {
                //warning( '"' + target + '" 와 일치하는 대상이 없습니다.' );
                if ( !silent ) throw new Error( '[ixBand] "' + target + '" 와 일치하는 대상이 없습니다.' );
            }
            return el;
        },
    
        /**
         * 타겟타입:(Selector, Element)
         * target의 appendChild(child);
         * @param	{Node}		child
         * @param	{Int}		index	배치할 index 0~ (선택사항) 수치가 자식수보다 크거나 작으면 맨뒤나 맨앞에 알아서 넣어준다.
         */
        addChild: function ( child, index ) {
            var el = this.element();
            if ( typeof index === 'number' ) {
                var children = el.children,
                    childNum = children.length;
    
                if ( childNum > 0 && index < childNum ) {
                    el.insertBefore( child, children[index] );
                    return;
                }
            }
            el.appendChild( child );
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * target의 해당자식 노드 삭제
         * @param	{Selector, Element, Int}		child	node나 index:0~ 수치가 자식수보다 크거나 작으면 에러발생
         */
        removeChild: function ( child ) {
            var el = this.element();
    
            if ( typeof child === 'number' ) {
                var children = el.children,
                    childNum = children.length;
    
                if ( childNum > 0 && childNum > child  ) {
                    child = children[child];
                } else {
                    warning('.removeChild()에 지정한 수치가 자식수보다 크거나 작습니다!');
                    return;
                }
            } else {
                child = $B( child ).element( true );
            }
    
            el.removeChild( child );
        },
    
        /**
         * 대상 삭제
         */
        remove: function () {
            var el = this.element();
            if ( el && el.parentNode ) el.parentNode.removeChild( el );
        },
    
        /**
         * 대상을 교체
         * @param	{Selector, Element}   selector
         * @return  {Element}
         */
        replaceWith: function ( selector ) {
            var el = this.element(),
                node = $B( selector ).element( true );
    
            if ( el && el.parentNode ) el.parentNode.replaceChild( el, node );
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 노드 복사<br>
         * ie6~8에서 addEvent로 등록된 이벤트를 제거하고 복사하기 위해서 사용한다.
         * @param	{Boolean}	childCopy	자식요소까지 복사할지 설정, 기본 false
         * @return	{Element}
         */
        clone: function ( childCopy ) {
            if ( $B.ua.DOC_MODE_IE9_LT ) {
                this.clone = function ( childCopy ) {
                    var clone = this.element().cloneNode( childCopy );
                    //이벤트삭제
                    $B( clone ).removeAllEvent( childCopy, true );
                    return clone;
                };
            } else {
                this.clone = function ( childCopy ) {
                    return this.element().cloneNode( childCopy );
                };
            }
            return this.clone( childCopy );
        },
    
        /**
         * 타겟타입:(HTMLCollection)<br>
         * HTMLCollection을 배열로 바꿔서 반환한다.<br>
         * HTMLCollection을 자주 사용할때 배열로 반환하여 사용하는것이 속도향상에 도움이 된다.<br>
         * @return	{Array}
         */
        toArray: function () {
            //return Array.prototype.slice.call( this.target );
            var coll = this.target,
                num = coll.length,
                i, result = [];
    
            for ( i = 0; i < num; ++i ) {
                result[i] = coll[i];
            }
            return result;
        },
    
        /**
         * 타겟타입:(Selector, Element)
         * Element 속성을 설정하거나 반환한다.
         * @param	{String}	attr	IE6,7에서도 공통으로 'class'로 표기해서 사용할 수 있다.
         * @param	{String}	value
         */
        attr: function ( attr, value ) {
            var el = this.element();
            if ( attr == 'class' && $B.ua.DOC_MODE_IE8_LT ) attr = 'className';
    
            //setter
            if ( value || value == 0 ) {
                value = $B.string.trim( String(value) );
                el.setAttribute( attr, value );
                //getter
            } else {
                return el.getAttribute( attr );
            }
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * Element 속성 삭제<br>
         * @param	{String}	attribute	IE6,7에서도 공통으로 'class'로 표기해서 사용할 수 있다.
         */
        removeAttr: function ( attr ) {
            var el = this.element();
            if ( attr == 'class' && $B.ua.DOC_MODE_IE8_LT ) attr = 'className';
            el.removeAttribute( attr );
        },
    
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * target의 자식노드들;
         * @return	{Array}
         */
        children: function ( selector ) {
            var el = this.element(),
                children = el.children;
    
            if ( typeof selector === 'string' ) {
                var elNum = children.length, result = [], i;
    
                for ( i = 0; i < elNum; ++i ) {
                    var child = children[i],
                        match = $B.selector.match( child, selector );
    
                    if ( match ) result.push( child );
                }
                return result;
            } else {
                //this.element().childNodes;
                return $B( children ).toArray();
            }
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 대상노드의 다음 노드를 반환 (대상노드와 같은 레벨), 빈 TextNode나 CommentNode는 무시.
         * @param	{String}	selector	매치시킬 Selector, "> or Space" 직계, 방계 검색은 지원하지 않는다, 설정하게되면 Selector와 일치해야 개체 반환.
         * @return	{Element}
         */
        next: function ( selector ) {
            var node = this.element().nextSibling;
            if ( !node ) return;
    
            //comment, text
            if ( node.nodeType == 8 || node.nodeType == 3 && !$B.string.trim(node.data) ) {
                return $B( node ).next( selector );
            } else {
                if ( typeof selector === 'string' ) node = $B.selector.match( node, selector )? node : undefined;
                return node;
            }
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 대상노드의 이전 노드를 반환 (대상노드와 같은 레벨), 빈 TextNode나 CommentNode는 무시.
         * @param	{String}	selector	매치시킬 Selector, "> or Space" 직계, 방계 검색은 지원하지 않는다, 설정하게되면 Selector와 일치해야 개체 반환.
         * @return	{Element}
         */
        prev: function ( selector ) {
            var node = this.element().previousSibling;
            if ( !node ) return;
    
            //comment, text
            if ( node.nodeType == 8 || node.nodeType == 3 && !$B.string.trim(node.data) ) {
                return $B( node ).prev( selector );
            } else {
                if ( typeof selector === 'string' ) node = $B.selector.match( node, selector )? node : undefined;
                return node;
            }
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 해당 Selector조건과 일치하는 대상객체의 가장 가까운 조상 개체 반환.
         * @param	{String}	selector	매치시킬 Selector, "> or Space" 직계, 방계 검색은 지원하지 않는다, 설정하게되면 Selector와 일치해야 개체 반환.
         * @return	{Element}
         */
        closest: function ( selector ) {
            var el = this.element();
            return $B.selector.closest( el, selector );
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 대상개체의 부모 노드를 반환.
         * @param	{String}	selector	매치시킬 Selector, "> or Space" 직계, 방계 검색은 지원하지 않는다, 설정하게되면 Selector와 일치해야 개체 반환.
         * @return	{Element}
         */
        parent: function ( selector ) {
            var el = this.element();
            return $B.selector.parent( el, selector );
        },
    
        /**
         * 타겟타입:(Selector, Element)<br>
         * 대상객체가 해당 selector조건과 일치하면 true반환.
         * @param	{String}	selector	매치시킬 Selector, "> or Space" 직계, 방계 검색은 지원하지 않는다.
         * @return	{Boolean}
         */
        match: function ( selector ) {
            var el = this.element();
            return $B.selector.match( el, selector );
        },
    
        /**
         * 타겟타입:(Selector, Array, jQuery)<br>
         * 대상객체들의 갯수만큼 callback 반복 호출 후 결과 반환, 반복문보다 느리다.
         * @param	{Function}	callback	function callback(el:Element, index:Int, array:Array):void
         * @return	{Boolean}	return된 값들의 배열
         */
        each: function ( callback ) {
            if ( typeof callback !== 'function' ) return;
    
            var target = this.target,
                els, elNum, i, result = [];
    
            if ( typeof target.get === 'function' ) {
                els = target.get();
            } else if ( $B.array.is(target) ) {
                els = target.concat( [] );
            } else if ( typeof target === 'string' ) {
                els = $B.selector.all( document, target );
            } else {
                els = [target];
            }
    
            elNum = els.length;
    
            for ( i = 0; i < elNum; ++i ) {
                var el = els[i], data;
                //this.target = el;
                data = callback.call( el, el, i, els );
    
                if ( data ) result.push( data );
            }
    
            return result;
        },
    
    
        // ========================== < Style > ========================== //
    
        /**
         * 타겟타입:(Selector, Element), 대상노드의 className 추가<br>
         * 여러개의 className을 추가할 수 있다. 예) addClass( 'a', 'b' );
         * 해당 classNam이 이미 설정되어 있으면 다시 설정하지 않는다.
         * @param	{String...}	className
         */
        addClass: function () {
            var el = this.element(),
                cName = $B( el ).attr( 'class' ),
                args = arguments;
    
            if ( cName ) {
                var argNum = args.length, selector = '', i;
    
                for ( i = 0; i < argNum; ++i ) {
                    var arg = args[i];
                    if ( !$B.string.isWholeWord( cName, arg ) ) selector += ( ' ' + arg );
                }
    
                $B( el ).attr( 'class', cName + selector );
            } else {
                $B( el ).attr( 'class', Array.prototype.slice.call(args).join(' ') );
            }
        },
    
        /**
         * 타겟타입:(Selector, Element), 대상노드의 해당 className 삭제<br>
         * 해당 classNam이 없으면 삭제하지 않는다.
         * @param	{String...}	className
         */
        removeClass: function () {
            var el = this.element(),
                cName = $B( el ).attr( 'class' );
    
            if ( cName ) {
                var args = arguments,
                    argNum = args.length, i;
    
                for ( i = 0; i < argNum; ++i ) {
                    cName = cName.replace( args[i], '' );
                }
    
                $B( el ).attr( 'class', cName );
            }
        },
    
        /**
         * 타겟타입:(Selector, Element), 대상노드의 해당 className의 존재여부 반환<br>
         * 여러개의 className을 비교할 수 있다. 예) hasClass( 'a', 'b' ); 이럴경우 두개의 className이 모두 일치해야 true를 반환.
         * @param	{String... || Array}	className	여러개의 className을 비교할 수 있다.
         * @return	{Boolean}	해당 className이 존재하면 true반환
         */
        hasClass: function ( className ) {
            var el = this.element(),
                cName = $B( el ).attr( 'class' ),
                find = $B.array.is(className)? className : Array.prototype.slice.call(arguments);
    
            return cName? $B.string.isWholeWord( cName, find ) : false;
        },
    
        /**
         * 타겟타입:(Selector, Element)
         * Inline Style설정, ComputedStyle을 반환
         * @param	{String}	propStr		"width:100px; z-index:2" 표기법, 입력하지 않으면 all (property를 입력하여 값을 구하는것이 정확하다)
         * @return	{String}
         */
        css: function ( propStr ) {
            if ( window.getComputedStyle ) {
                this.css = function ( propStr ) {
                    var el = this.element();
    
                    //setter
                    if ( propStr && propStr.indexOf(':') > -1 ) {
                        $B.style.inline( el, propStr );
                        //getter
                    } else {
                        return $B.style.current( el, propStr );
                    }
                };
    
                //IE6~8
            } else if ( document.documentElement.currentStyle ) {
                this.css = function ( propStr ) {
                    var el = this.element();
    
                    //setter
                    if ( propStr && propStr.indexOf(':') > -1 ) {
                        //opacity
                        if ( propStr.indexOf('opacity') > -1 ) {
                            $B.style.opacity( el, $B.style.parse( propStr ).opacity.value );
                        } else {
                            $B.style.inline( el, propStr );
                        }
    
                        //getter
                    } else {
                        return ( propStr && propStr.indexOf('opacity') > -1 )? $B.style.opacity( el ) : $B.style.computed( el, propStr );
                    }
                };
            }
    
            return this.css( propStr );
        },
    
        /**
         * 타겟타입:(Style, cssRule.style등등..)
         * Style Property를 설정하거나 반환.
         * @param	{String}	property	'z-index'표기방법
         * @return	{Property Value}
         */
        prop: function ( property, value ) {
            var el = this.element();
            //setter
            if ( value || value == 0 ) {
                el.setProperty( property, String(value), null );
                //getter
            } else {
                return el.getPropertyValue( property );
            }
        },
    
        /**
         * 타겟타입:(Style, cssRule.style등등..)<br>
         * Style Property 삭제
         * @param	{String}	property	'z-index'표기방법
         */
        removeProp: function ( property ) {
            this.element().removeProperty( property );
        },
    
        // ========================== < Measure > ========================== //
        /**
         * <b>읽기전용</b><br>
         * 타겟타입:(Element, ID)<br>
         * 대상의 Rectangle 반환, padding과 border포함된 수치<br>
         * @param	{Boolean}	relative	기본값false, false면 document 기준, true면 vieport 기준으로 계산
         * @return	{Object}	left, top, width, height
         */
        rect: function ( relative ) {
            var el = this.element(),
                result = {},
                rect = el.getBoundingClientRect();
    
            if ( relative ) {
                result.left = rect.left;
                result.top = rect.top;
    
                var docEl = document.documentElement;
                var vWidth = docEl.clientWidth,
                    vHeight = docEl.clientHeight,
                    elWidth = ( rect.left < 0 )? rect.right : rect.right - rect.left,
                    elHeight = ( rect.top < 0 )? rect.bottom : rect.bottom - rect.top;
    
                result.width = ( rect.right > vWidth )? elWidth - (rect.right - vWidth) : elWidth;
                result.height = ( rect.bottom > vHeight )? elHeight - (rect.bottom - vHeight) : elHeight;
            } else {
                result.left = rect.left + $B(window).scrollLeft();
                result.top = rect.top + $B(window).scrollTop();
                result.width = rect.right - rect.left;
                result.height = rect.bottom - rect.top;
            }
            return result;
        },
        /**
         * <b>읽기전용</b>
         * 타겟타입:(Selector, Element)
         * Border, 스크롤바가 제외되고 Padding이 포함된 가로사이즈 반환, window, document, screen지원
         * @return	{Number}
         */
        width: function () {
            var el = this.element();
    
            if ( el === document ) {
                return $B.measure.documentWidth();
            } else if ( el === window ) {
                return $B.measure.windowWidth();
            } else if ( el === screen ) {
                return screen.width;// (작업표시줄 포함)
            } else {
                return el.clientWidth;
            }
        },
        /**
         * <b>읽기전용</b>
         * 타겟타입:(Selector, Element)
         * Border, 스크롤바가 제외되고 Padding이 포함된 세로사이즈 반환, window, document, screen지원
         * @return	{Number}
         */
        height: function () {
            var el = this.element();
    
            if ( el === document ) {
                return $B.measure.documentHeight();
            } else if ( el === window ) {
                return $B.measure.windowHeight();
            } else if ( el === screen ) {
                return screen.height;// (작업표시줄 포함)
            } else {
                return el.clientHeight;
            }
        },
        /**
         * <b>읽기전용</b>
         * 타겟타입:(Selector, Element)
         * Border, 스크롤바, Padding이 제외된 가로사이즈 반환, screen 지원
         * @return	{Number}
         */
        innerWidth: function () {
            var el = this.element();
            if ( el === document || el === window ) {
                return $B.measure.windowWidth();
            } else if ( el === screen ) {
                return screen.availWidth;
            } else {
                var pl, pr, value = this.width();
    
                pl = parseFloat( this.css('padding-left') );
                pr = parseFloat( this.css('padding-right') );
                return value - (( pl > 0 ? pl : 0 ) + ( pr > 0 ? pr : 0 ));
            }
        },
        /**
         * <b>읽기전용</b>
         * 타겟타입:(Selector, Element)
         * Border, 스크롤바, Padding이 제외된 세로사이즈 반환, screen 지원
         * @return	{Number}
         */
        innerHeight: function () {
            var el = this.element();
            if ( el === document || el === window ) {
                return $B.measure.windowHeight();
            } else if ( el === screen ) {
                return screen.availHeight;
            } else {
                var pt, pb, value = this.height();
    
                pt = parseFloat( this.css('padding-top') );
                pb = parseFloat( this.css('padding-bottom') );
                return value - (( pt > 0 ? pt : 0 ) + ( pb > 0 ? pb : 0 ));
            }
        },
        /**
         * <b>읽기전용</b>
         * 타겟타입:(Selector, Element)
         * Padding, Border, 스크롤바가 포함된 가로사이즈 반환
         * @param   {Boolean}   includeMargin   margin 포함여부
         * @return	{Number}
         */
        outerWidth: function ( includeMargin ) {
            var el = this.element(),
                margin = 0;
    
            if ( el === window ) {
                if ( window.outerWidth ) {
                    return window.outerWidth;
                } else {
                    return $B.measure.windowWidth();
                }
            } else if ( el === document ) {
                return $B.measure.documentWidth();
            } else if ( el === screen ) {
                return screen.width;
            } else {
                if ( includeMargin === true ) {
                    var marginL = parseFloat( $B(el).css('margin-left') ),
                        marginR = parseFloat( $B(el).css('margin-right') );
    
                    if ( marginL ) margin += marginL;
                    if ( marginR ) margin += marginR;
                }
    
                return el.offsetWidth + margin;
            }
        },
        /**
         * <b>읽기전용</b>
         * 타겟타입:(Selector, Element)
         * Padding, Border, 스크롤바 포함된 세로사이즈 반환
         * @param   {Boolean}   includeMargin   margin 포함여부
         * @return	{Number}
         */
        outerHeight: function ( includeMargin ) {
            var el = this.element(),
                margin = 0;
    
            if ( el === window ) {
                if ( window.outerHeight ) {
                    return window.outerHeight;
                } else {
                    return $B.measure.windowHeight();
                }
            } else if ( el === document ) {
                return $B.measure.documentHeight();
            } else if ( el === screen ) {
                return screen.height;
            } else {
                if ( includeMargin === true ) {
                    var marginT = parseFloat( $B( el ).css( 'margin-top' ) ),
                        marginB = parseFloat( $B( el ).css( 'margin-bottom' ) );
    
                    if ( marginT ) margin += marginT;
                    if ( marginB ) margin += marginB;
                }
    
                return el.offsetHeight + margin;
            }
        },
        /**
         * <b>읽기전용</b><br>
         * 타겟타입:(Selector, Element), iframe<br>
         * iframe에 컨텐츠가 로드된후 컨텐츠 가로사이즈 반환<br>
         * <b>주의사항:</b>같은 도메인에서만 동작한다. 도메인이 다르면 0 반환
         * @return	{int}
         */
        contentWidth: function () {
            try {
                return this.element().contentWindow.document.documentElement.scrollWidth;
            } catch (e) {
                return 0;
            }
        },
    
        /**
         * <b>읽기전용</b><br>
         * 타겟타입:(Selector, Element), iframe<br>
         * iframe에 컨텐츠가 로드된후 컨텐츠 세로사이즈 반환<br>
         * <b>주의사항:</b>같은 도메인에서만 동작한다. 도메인이 다르면 0 반환
         * @return	{int}
         */
        contentHeight: function () {
            try {
                return this.element().contentWindow.document.documentElement.scrollHeight;
            } catch (e) {
                return 0;
            }
        },
    
        /**
         * 타겟타입:(Selector, Element)
         * 대상의 스크롤된 X좌표 설정하거나 반환, window 지원
         * @param	{Number}	value
         * @return	{Number}
         */
        scrollLeft: function ( value ) {
            //ie9, 크롬, 사파리, 파폭
            if ( typeof window.pageXOffset === 'number' ) {
                this.scrollLeft = function ( value ) {
                    var el = this.element();
    
                    if ( el === window || el === document ) {
                        //setter
                        if ( typeof value === 'number' ) {
                            window.scrollTo( value, window.pageYOffset );
                            //getter
                        } else {
                            return window.pageXOffset;
                        }
                    } else {
                        //setter
                        if ( typeof value === 'number' ) {
                            el.scrollLeft = value;
                            //getter
                        } else {
                            return el.scrollLeft;
                        }
                    }
                };
            } else {
                this.scrollLeft = function ( value ) {
                    var el = this.element();
    
                    if ( el === window || el === document ) el = document.documentElement;
                    //setter
                    if ( typeof value === 'number' ) {
                        el.scrollLeft = value;
                        //getter
                    } else {
                        return el.scrollLeft;
                    }
                };
            }
            return this.scrollLeft( value );
        },
        /**
         * 타겟타입:(Selector, Element)
         * 대상의 스크롤된 Y좌표 설정하거나 반환, window 지원
         * @param	{Number}	value
         * @return	{Number}
         */
        scrollTop: function ( value ) {
            //ie9, 크롬, 사파리, 파폭
            if ( typeof window.pageYOffset === 'number' ) {
                this.scrollTop = function ( value ) {
                    var el = this.element();
    
                    if ( el === window || el === document ) {
                        //setter
                        if ( typeof value === 'number' ) {
                            window.scrollTo( window.pageXOffset, value );
                            //getter
                        } else {
                            return window.pageYOffset;
                        }
                    } else {
                        //setter
                        if ( typeof value === 'number' ) {
                            el.scrollTop = value;
                            //getter
                        } else {
                            return el.scrollTop;
                        }
                    }
                };
            } else {
                this.scrollTop = function ( value ) {
                    var el = this.element();
    
                    if ( el === window || el === document ) el = document.documentElement;
                    //setter
                    if ( typeof value === 'number' ) {
                        el.scrollTop = value;
                        //getter
                    } else {
                        return el.scrollTop;
                    }
                };
            }
            return this.scrollTop( value );
        },
    
    
        // ========================== < Utilis > ========================== //
    
        /**
         * 타겟타입:(Element, Selector)<br>
         * SWF 삽입<br>
         * onReady 이벤트를 발생시키기 위해서는 flash에서 ExternalInterface.call( _onSwfEvent, { type: 'ready', id: _myID, value: 'test_value'} ); 형식으로 호출해줘야 한다.<br>
         * 타겟을 주지않으면 화면에 addChild를 할수없기때문에 ExternalInterface로 연결할수 없고, 때문에 onReady를 받을수 없다.<br>
         * Event Properties : id, target, value
         * @param	{String}	path		SWF경로
         * @param	{String}	width		가로폭
         * @param	{String}	height		세로폭
         * @param	{Object}	params		SWF에 넘길 params
         * @param	{Object}	dispatch	dispatch.onReady이벤트 전달, {type, id, target, value}
         * @param	{Object}	attributes	id, wmode, version 설정, 기본값 {id: '없으면 자동생성', wmode: 'opaque', version: '10,0,0,0', info: 'Adobe Flash Player를 설치해야 이용가능한 콘텐츠 입니다.'}
         * @return	{HTMLObjectElement}	SWF Object 노드
         */
        insertSWF: function ( path, width, height, params, dispatch, attributes ) {
            var el = ( this.target )? this.element() : null,
                wmode = ( attributes && attributes.wmode )? attributes.wmode : 'opaque',
                version = ( attributes && attributes.version )? attributes.version : '10,0,0,0',
                info = ( attributes && attributes.info )? attributes.info : 'Adobe Flash Player ' + version + ' 이상을 설치해야 이용가능한 콘텐츠 입니다.',
                id = ( attributes && attributes.id )? attributes.id : 'SWF_ID_' + __swfCount,
                htmlText = '',
                div = document.createElement( 'div' ),
                obj = null;
    
            if ( $B.ua.MSIE ) {
                htmlText += '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=' + version + '" width="' + width + '" height="' + height + '"  id="' + id + '">';
                htmlText += '<param name="movie" value="' + path + '" />';
            } else {
                htmlText += '<object type="application/x-shockwave-flash" data="' + path + '" width="' + width + '" height="' + height + '" id="' + id + '" name="' + id + '">';
            }
    
            var n, valueStr = '';
            if ( params ) {
                for ( n in params ) {
                    valueStr += ('&' + n + '=' + encodeURIComponent( params[n] ));
                }
            }
    
            htmlText += '<param name="wmode" value="' + wmode + '" />';
            htmlText += '<param name="allowScriptAccess" value="always" />';
            htmlText += '<param name="FlashVars" value="id=' + id + '&width=' + encodeURIComponent( width ) + '&height=' + encodeURIComponent( height ) + '&onSwfEvent=ixBand._private.SWFManager.onSwfEvent' + valueStr + '" />';
            htmlText += '<p>' + info + '</p>';
    
            div.innerHTML = htmlText;
            obj = div.children[0];
            if ( el ) el.appendChild( obj );
            div = null;
    
            //dispatch 등록
            var data = { onReady: ( dispatch && dispatch.onReady )? dispatch.onReady : null, target: obj };
            $B._private.SWFManager.addSWFData( id, data );
    
            __swfCount++;
    
            return obj;
        },
    
        /**
         * 대상개체의 Text를 설정하거나 반환.
         * @param	{String}	str		설정할 문자열
         * @return	{String}
         */
        text: function ( str ) {
            if ( $B.ua.DOC_MODE_IE9_LT ) {
                this.text = function ( str ) {
                    var el = this.element();
    
                    //setter
                    if ( str || str == 0) {
                        el.innerText = String(str);
                        //getter
                    } else {
                        var getStr = el.innerText;
                        return getStr.replace( /[\n\r]+/g, '' );
                    }
                };
            } else {
                this.text = function ( str ) {
                    var el = this.element();
    
                    //setter
                    if ( str || str == 0) {
                        el.textContent = String(str);
                        //getter
                    } else {
                        return el.textContent;
                    }
                };
            }
            return this.text( str );
        },
    
        /**
         * 대상개체의 Html를 설정하거나 반환.
         * @param	{String}	html		설정할 Html문자열
         * @return	{String}	Html문자열
         */
        html: function ( html ) {
            var el = this.element();
    
            //setter
            if ( html || html == 0 ) {
                el.innerHTML = String(html);
                //getter
            } else {
                return el.innerHTML;
            }
        },
    
        /**
         * 대상개체의 CSS3 transition을 적용한다.
         * $B(selector).transition( 'none' ); transition을 중지하고 리셋 되어진다.
         * $B(selector).transition( 'left:200px', 'none' ); 스타일은 적용이 되고, transition은 중지 된다.
         * IE와 iOS에서는 해당노드가 화면에서 사라지면(display:none;) transition을 pause시키고 transitionend 이벤트도 보류된다.
         * @param	{String}	tStyle		taransition style, ex) left:220px
         * @param	{String}	tValue		taransition value, ex) left 0.6s ease
         * @param	{Object} 	dispatch	transition 이벤트, ex) {onTransitonEnd: handler}, (Event Properties : type, target, data)
         * @param	{*} 		data		transitionend 이벤트 핸들러에서 전달받을 data, ex) e.data
         */
        transition: function ( tStyle, tValue, dispatch, data ) {
            var _el = this.element(),
                _css = TRANSITION_NAME + ( tStyle == 'none'? 'none' : tValue ) + ';',
                _onTransitionEnd = ( dispatch && dispatch.onTransitionEnd )? dispatch.onTransitionEnd : null;
    
            //Transition
            if ( _onTransitionEnd ) {
                this.removeEvent( 'transitionend' );
                this.addEvent( 'transitionend', function (e) {
                    $B( this ).removeEvent( 'transitionend' );
    
                    //이벤트 전달
                    _onTransitionEnd.call( this, {type: 'transitionend', target: this, data: data} );
                });
            }
    
            $B.style.inline( _el, tStyle == 'none'? _css : tStyle + '; ' + _css );
        },
    
        // ========================== < Event > ========================== //
        /**
         * 타겟타입:(Element, ID)<br>
         * 이벤트 추가, style, script같은 특정 노드에서는 사용할수 없다.<br>
         * Event Properties : type, target, currentTarget, relatedTarget, eventPhase, clientX, clientY, screenX, screenY, shiftKey, charCode, delta:마우스휠이벤트에서 발생, stopPropagation(), preventDefault()<br>
         * offsetX는 크로스브라우저 지원이 안되기 때문에 구현하지 않았다<br>
         * @param	{String}	type			"on"빼고, "click"
         * @param	{Function}	handler			Event Handler
         * @param	{*}			data			Event Handler 에서 전달받을 데이타
         */
        addEvent: function ( type, handler, data ) {
            var el = this.element();
            $B.event.add( el, type, handler, data );
        },
    
        /**
         * 타겟타입:(Element, ID)<br>
         * 이벤트 삭제
         * @param	{String}	type	"on"빼고, "click"
         * @param	{Function}	handler		Event Handler
         */
        removeEvent: function ( type, handler ) {
            var el = this.element();
    
            if ( typeof type === 'string' ) {
                if ( typeof handler === 'function' ) {
                    $B.event.remove( el, type, handler );
                } else {
                    $B.event.removeTypeAll( el, type );
                }
            } else {
                $B.event.removeAll( [el] );
            }
        },
    
        /**
         * 타겟타입:(Element, ID)<br>
         * 대상의 모든 이벤트 삭제, removeEvent()와 다른점은 자식요소의 이벤트도 삭제할 수 있다.
         * @param	{Boolean}	childRemove	자식의 이벤트를 삭제할지 설정
         * @param	{Boolean}	clone		cloneNode()로 복사된 대상인지 설정
         */
        removeAllEvent: function ( childRemove, clone ) {
            //clone: clone된 대상인지.
            var el = this.element();
            $B.event.removeAll( [el], childRemove, clone );
        },
    
        /**
         * 타겟타입:(Element, ID)<br>
         * 이벤트 실행
         * @param	{String}	type	"on"빼고, "click"
         * @param	{*}			data	Event Handler 에서 전달받을 데이타
         */
        trigger: function ( type, data ) {
            var el = this.element();
    
            if ( typeof type === 'string' ) {
                $B.event.trigger( el, type, data );
            }
        },
    
        /**
         * 타겟타입:(Element, ID)<br>
         * 등록된 이벤트가 있는지 확인
         * @param	{String}	type	"on"빼고, "click"
         * @param	{Function}	handler		Event Handler
         * @return	{Boolean}
         */
        hasEvent: function ( type, handler ) {
            var el = this.element(),
                idx = $B.event.find( el, type, handler );
            return ( idx == -1 )? false : true;
        },
    
        /**
         * 타겟타입:(String) Event Type, on은 빼고 넣는다. 'onclick' - 'click'<br>
         * 해당이벤트를 지원하면 true를 반환.
         * @return	{Boolean}
         */
        hasEventType: function () {
            return ('on' + this.target in window);
        },
    
        /**
         * 타겟타입:(Element, ID)<br>
         * 마우스 커서를 pointer로 설정, 해지 한다.
         * @param	{Boolean}	state
         */
        buttonMode: function ( state ) {
            this.css( 'cursor:' + (state? 'pointer' : 'auto') );
        },
    
        /**
         * 타겟타입:(Element, ID)<br>
         * 객체 드래그 구현시 ondragstart의 동작을 막아, 드래그 구현시 방해되지 않게 하기 위해서 설정<br>
         * (false를 설정해야 제대로 드래그를 구현할수 있다.)
         * @param	{Boolean}	state	기본설정 true
         */
        dragEnable: function ( state ) {
            this.element().ondragstart = (state)? null : function (e) { return false; };
        },
    
        /**
         * 타겟타입:(Element, ID)<br>
         * 객체를 드래그 했을시 선택되는 설정<br>
         * FF는 타겟의 onmousemove, 기타 브라우저는 타겟의 onselectstart를 막아 구현하였다.
         * @param	{Boolean}	state	기본설정 true
         */
        selectEnable: function ( state ) {
            if ( typeof document.documentElement.onselectstart === 'undefined' ) {
                //FF
                this.selectEnable = function ( state ) {
                    //this.element().style.MozUserSelect = (state)? 'text' : 'none';
                    this.element().onmousedown = (state)? null : function (e) { return false; };
                };
            } else {
                this.selectEnable = function ( state ) {
                    this.element().onselectstart = (state)? null : function (e) { return false; };
                };
            }
            this.selectEnable( state );
        }
    };
    
    
    // ############################################################################ //
    // ############################################################################ //
    // 						_private : ixBand Private Class							//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand._private = {};
    
    
    // ============================================================== //
    // =====================	SWFManager	========================= //
    // ============================================================== //
    /**
     * <b>Static Class : </b>SWF Data 관리<br>
     * SWF에서 onReady를 dispatch할때 onSwfEvent를 호출한다.
     */
    ixBand._private.SWFManager = (function () {
        var _swfs = {};
    
        return {
            // ---------- Private Methods ---------- //
            //swf 데이타 등록
            addSWFData: function ( id, data ) {
                _swfs[id] = data;
            },
    
            //swf 데이타 삭제
            removeSWFData: function ( id ) {
                delete _swfs[id];
            },
    
            //swf에서 전달받은 event (메세지를 받는통로로 수정해보기...)
            onSwfEvent: function ( e ) {
                if ( e.type != 'ready' ) return;
                var data = _swfs[e.id];
                if ( data && data.onReady ) {
                    var value = ( e.value || e.value == 0 )? e.value : null;
                    data.onReady.call( this, {type: e.type, id: e.id, target: data.target, value: value} );
                    delete _swfs[e.id];
                }
            }
        };
    }());


    // ############################################################################ //
    // ############################################################################ //
    // 									selector									//
    // ############################################################################ //
    // ############################################################################ //
    
    /**
     * 내장함수 querySelectorAll 과 querySelector 일부 기능들을 구현
     * nodeName, .className, .className.className, #id, nodeName.className, nodeName.className.className, nodeName#id
     * [attr] 해당속성이 있을때, [attr=value] 값이 같을때, [attr^=value] 시작값이 같을때, [attr$=value] 끝값이 같을때, [attr*=value] 일부문자가 같을때, [attr~=value] 완전체단어일치, 띄워쓰기 가능
     * :first 같은 Filter형식 지원하지 않는다.
     */
    ixBand.selector = {
        //단일검색, parent는 반드시 입력해야 한다. 없으면 document라도 입력.
        one: function ( parent, selector ) {
            var selectList = this.selectorList( selector ),
                selNum = selectList.length,
                finishObj = this.parse( selectList[0].selector ),
                matchEl;
    
            //조건이 ID만 있을때
            if ( selNum == 1 && finishObj.length == 1 && finishObj.id ) {
                return document.getElementById( finishObj.id.replace('#', '') );
                //조건 검색
            } else {
                //모든태그 검색
                var allTag = parent.getElementsByTagName( finishObj.node || '*' ),
                    i, tagNum = allTag.length;
    
                for ( i = 0; i < tagNum; ++i ) {
                    var tag = allTag[i];
                    //첫번째 조건 검사
                    if ( this.match( tag, finishObj ) ) {
                        if ( selNum > 1 ) {
                            if ( this.depthMatch( parent, tag, selectList, 0 ) ) {
                                matchEl = tag;
                                break;
                            }
                        } else {
                            matchEl = tag;
                            break;
                        }
                    }
                }
            }
            return matchEl;
        },
    
        //조건에 부합하는 모든 개체 반환. parent는 반드시 입력해야 한다. 없으면 document라도 입력.
        all: function ( parent, selector ) {
            var selectList = this.selectorList( selector ),
                selNum = selectList.length,
                finishObj = this.parse( selectList[0].selector ),
                allTag = parent.getElementsByTagName( finishObj.node || '*' ),
                i, tagNum = allTag.length, matchEls = [];
    
            for ( i = 0; i < tagNum; ++i ) {
                var tag = allTag[i];
    
                //첫번째 조건 검사
                if ( this.match(tag, finishObj) ) {
                    if ( selNum > 1 ) {
                        if ( this.depthMatch(parent, tag, selectList, 0) ) matchEls.push( tag );
                    } else {
                        matchEls.push( tag );
                    }
                }
            }
            return matchEls;
        },
    
        /**
         * 해당 Selector조건과 일치하는 대상객체의 가장 가까운 조상 개체 반환.
         * @param	{Element}	el			대상개체
         * @param	{String}	selector	"> or Space" 직계, 방계 검색은 지원하지 않는다.
         * @param	{Element}	rootEl		검색할 최상위 개체
         * @return	{Element}	검색하는 대상이 없으면 undefined 반환.
         */
        closest: function ( el, selector, rootEl ) {
            var root = rootEl || document,
                parent = el.parentNode;
    
            if ( parent && parent != root ) {
                var match = this.match( parent, selector );
                return match? parent : this.closest( parent, selector );
            } else {
                return;
            }
        },
    
        /**
         * 해당 Selector조건과 일치하는 대상객체의 부모 개체 반환.
         * @param	{Element}	el			대상개체
         * @param	{String}	selector	"> or Space" 직계, 방계 검색은 지원하지 않는다.
         * @param	{Element}	rootEl		검색할 최상위 개체
         * @return	{Element}	검색하는 대상이 없으면 undefined 반환.
         */
        parent: function ( el, selector, rootEl ) {
            var root = rootEl || document,
                parent = el.parentNode;
    
            if ( selector ) {
                if ( parent && parent != root ) {
                    return this.match( parent, selector )? parent : undefined;
                } else {
                    return undefined;
                }
            } else {
                return parent;
            }
        },
    
        /**
         * 대상객체가 해당 selector조건과 일치하면 true반환.
         * @param	{Element}			el			대상개체
         * @param	{String || Object}	selector
         * @return	{Boolean}
         */
        match: function ( el, selector ) {
            //el = $B( el ).element();
            //이미 파싱된 Object면 다시 파싱하지 않는다.
            var matchList = (typeof selector === 'string')? this.parse( selector ) : selector,
                result = false, n;
    
            for ( n in matchList ) {
                switch ( n ) {
                    case 'node':
                        var node = el.nodeName;
    
                        if ( node ) {
                            node = node.toLowerCase();
                            result = ( node == matchList[n] );
                        } else {
                            result = false;
                        }
                        break;
                    case 'id':
                        result = ( $B(el).attr('id') == matchList[n] );
                        break;
                    case 'className':
                        result = $B( el ).hasClass( matchList[n] );
                        break;
                    case 'attr':
                        result = this.matchAttr( el, matchList[n] );
                        break;
                }
                //하나라도 false가 나오면 더이상 체크하지 않는다.
                if ( !result ) return result;
            }
    
            return result;
        },
    
        // ====================	Private Methods	==================== //
        //대상조건에 부합되는 개체가 있는지 직계, 방계 검색 하여 일치하는 값이 있으면 true반환.
        depthMatch: function ( root, el, selectList, idx ) {
            var currentSel = selectList[idx],//맨아래 조건
                nextIdx = idx + 1,
                nextSel = selectList[nextIdx],
                matchEl;
    
            if ( currentSel.type == 'parent' ) {
                matchEl = this.parent( el, nextSel.selector, root );
                //closest
            } else {
                matchEl = this.closest( el, nextSel.selector, root );
            }
    
            //검색결과가 있으면, 다음 조건 검색
            if ( matchEl ) {
                return (nextSel.type == 'first')? true : this.depthMatch( root, matchEl, selectList, nextIdx );
            } else {
                return false;
            }
        },
    
        //대상들중 조건에 일치하는 개체리스트 배열로 반환.
        matchList: function ( els, selector ) {
            var i, elNum = els.length, result = [];
    
            for ( i = 0; i < elNum; ++i ) {
                var el = els[i];
                if ( this.match(el, selector) ) result.push( el );
            }
            return result;
        },
    
        //Full Selector를 직계 방계 형태로 분리, [{type:'parent', value:''}, {type:'closest', value:''}]
        //순서를 뒤집어서 반환.
        selectorList: function ( selector ) {
            var result = [];
    
            selector = $B.string.trim( selector );
            //공백제거
            selector.replace( /(\[[^\[\]]+\])/g, function ( str ) {
                return str.replace( /\s/g, '' );
                //분리
            }).replace( /([\s\>]+)?([^\s\>]+)/g, function ( str, bullet, value ) {
                var type;
    
                if ( !bullet ) {
                    type = 'first';
                } else if ( bullet.indexOf('>') > -1 ) {
                    type = 'parent';
                } else {
                    type = 'closest';
                }
                result.push( {type: type, selector: value} );
            });
            return result.reverse();
        },
    
        //selector에서 attr을 분류, {length:조건의 갯수, node, id, className:Array, attr:Array}, 예) img[src*=gif].list[alt*=img]
        parse: function ( selector ) {
            var result = {}, index = 0;
    
            selector.replace( /([a-z]+)?(\#\w+)?(\.\w+)?(\[[^\[\]]+\])?/ig, function ( str, node, id, className, attr ) {
                if ( node ) result.node = node.toLowerCase(), index++;
                if ( id ) result.id = id.replace(/^\#/, ''), index++;
    
                //class 복수조건 가능
                if ( className ) {
                    var reClass = className.replace(/^\./, '');
                    if ( result.className ) {
                        result.className.push( reClass );
                    } else {
                        result.className = [reClass];
                    }
                    index++;
                }
                //attr 복수조건 가능
                if ( attr ) {
                    var reAttr = attr.replace(/[\s\"\'\[\]]/g, '');
                    if ( result.attr ) {
                        result.attr.push( reAttr );
                    } else {
                        result.attr = [reAttr];
                    }
                    index++;
                }
            });
    
            result.length = index;
            return result;
        },
    
        //attr들과 일치하면 true반환.
        matchAttr: function ( el, attrs ) {
            var i, attrNum = attrs.length, result = false;
    
            for ( i = 0; i < attrNum; ++i ) {
                //parseAttr
                //attrs[i].replace( /(^\w+)([\=\$\*\~\^]{1,2})?([\w\W]+)?|(^\w+)([^\=\$\*\~\^]+)/, function ( str, name, operator, value ) {
                attrs[i].replace( /(^\w+)([=$*~\^]{1,2})?([\w\W]+)?|(^\w+)([^=$*~\^]+)/, function ( str, name, operator, value ) {
                    if ( name ) {
                        var elValue = $B( el ).attr( name ),
                            reValue;
    
                        if ( operator ) {
                            if ( !elValue ) return;
    
                            //연산자
                            switch ( operator ) {
                                case '=':
                                    result = ( elValue == value );
                                    break;
                                case '*=':
                                    result = ( elValue.indexOf(value) > -1 );
                                    break;
                                case '~=':
                                    result = $B.string.isWholeWord( elValue, value );
                                    break;
                                case '^=':
                                    reValue = value.replace( /[(){}[\]*+?.\\^$|,\-]/g, '\\$&' );
                                    result = new RegExp( '^' + reValue ).test( elValue );
                                    break;
                                case '$=':
                                    reValue = value.replace( /[(){}[\]*+?.\\^$|,\-]/g, '\\$&' );
                                    result = new RegExp( reValue + '$' ).test( elValue );
                                    break;
                            }
                            //attr이 있는지 비교만 할때
                        } else {
                            result = ( !elValue )? false : true;
                        }
                    } else {
                        return false;
                    }
                });
    
                //하나라도 false가 나오면 더이상 체크하지 않는다.
                if ( !result ) return result;
            }
    
            return result;
        }
    };


    // ============================================================== //
    // =====================	CustomEvents	===================== //
    // ============================================================== //
    
    /**
     * CustomEvents 객체
     * 기본 Event Property : e.type
     * @param   {Boolean}   optionCheck (default:false)
     * @return	{Function}
     */
    var CustomEvents = function ( optionCheck ) {
        this.__eventPool__ = {};
        this.__uId__ = $B.string.unique();
        this.__eventOptionCheck__ = optionCheck || false;
    };
    
    CustomEvents.prototype = {
        /**
         * @param {String}          type      event type
         * @param {Function}        listener
         * @param {Object|Boolean}  options   useCapture, passive 등의 설정 용도
         */
        addListener: function ( type, listener, options ) {
            if ( ($B.isString(type) && type) && $B.isFunction(listener) && !this.hasListener(type, listener, options) ) {
                var events = this.__eventPool__[type];
                if ( !events ) events = this.__eventPool__[type] = [];
                events.push({
                    listener: listener,
                    options: options
                });
            }
    
            return this;
        },
    
        /**
         * @param {String}          type      event type
         * @param {Function}        listener
         * @param {Object|Boolean}  options   useCapture, passive 등
         */
        removeListener: function ( type, listener, options ) {
            var events = this.__eventPool__[type];
    
            if ( events ) {
                if ( $B.isFunction(listener) ) {
                    var evtLength = events.length, i;
    
                    if ( !$B.isEmpty(options) && this.__eventOptionCheck__ ) {
                        for ( i = 0; i < evtLength; ++i ) {
                            var eData = events[i];
                            if ( listener === eData.listener && $B.isEqual(eData.options, options) ) {
                                events.splice( $B.array.indexOf(events, events[i]), 1 );
                                break;
                            }
                        }
                    } else {
                        for ( i = 0; i < evtLength; ++i ) {
                            if ( listener === events[i].listener ) {
                                events.splice( $B.array.indexOf(events, events[i]), 1 );
                                break;
                            }
                        }
                    }
                } else {
                    delete this.__eventPool__[type];
                }
            } else {
                this.__eventPool__ = {};
            }
    
            return this;
        },
    
        /**
         * @param   {String}            type      event type
         * @param   {Function}          listener
         * @param   {Object|Boolean}    options   useCapture, passive 등
         * @return  {Boolean}
         */
        hasListener: function ( type, listener, options ) {
            var result = false,
                events = this.__eventPool__[type];
    
            if ( events ) {
                if ( $B.isFunction(listener) ) {
                    var evtLength = events.length, i;
    
                    if ( !$B.isEmpty(options) && this.__eventOptionCheck__ ) {
                        for ( i = 0; i < evtLength; ++i ) {
                            var eData = events[i];
                            if ( listener === eData.listener && $B.isEqual(eData.options, options) ) {
                                result = true;
                                break;
                            }
                        }
                    } else {
                        for ( i = 0; i < evtLength; ++i ) {
                            if ( listener === events[i].listener ) {
                                result = true;
                                break;
                            }
                        }
                    }
                } else {
                    result = true;
                }
            }
    
            return result;
        },
    
        /**
         * @param {String}  type     event type
         * @param {Object}  datas
         */
        dispatch: function ( type, datas ) {
            var _this = this,
                events = this.__eventPool__[type];
    
            if ( events ) {
                var evtLength = events.length;
                for ( var i = 0; i < evtLength; ++i ) {
                    var evt = {type: type};
    
                    if ( typeof datas === 'object' ) {
                        for ( var key in datas ) {
                            if ( key !== 'type' ) evt[key] = datas[key];
                        }
                    }
    
                    events[i].listener.call( _this, evt );
                }
            }
    
            return this;
        }
    };


    // ============================================================== //
    // =====================	Class			===================== //
    // ============================================================== //
    
    /**
     * Class 객체
     * extend, addListener, removeListener, hasListener, dispatch, getEventData methods 기본 제공 (extend시 override 주의)
     * initialize 는 기본실행
     * 주의 : instance 를 extend 하게되면 오류가 발생한다.
     * @return	{Function}
     */
    ixBand.Class = function () {};
    ixBand.Class.prototype = (function () {
        var proto = {
            __className__: '$B.Class'
        };
    
        for ( var key in CustomEvents.prototype ) {
            proto[key] = CustomEvents.prototype[key];
        }
    
        return proto;
    }());
    
    /**
     * Class.extend()
     * @param   {Object}    methods
     * @param   {String}    className
     * @returns {Function}
     */
    ixBand.Class.extend = function ( methods, className ) {
        var EXCEPTION_REG = new RegExp( '^(__parentClass__|__className__|__extends__|__override__)$' );
    
        var _parent = this,
            _className = ( typeof className === 'string' )? className : '$B.Class_' + __classCount++,
            _properties = {};
    
        if ( typeof methods === 'object' ) {
            var Class = function () {
                this.__uId__ = $B.string.unique();
                this.__eventPool__ = {};
    
                for ( var key in _properties ) {
                    this[key] = deepClone( _properties[key] );
                }
    
                if ( typeof this.initialize === 'function' ) {
                    this.initialize.apply( this, arguments );
                }
            };
    
            Class.prototype = {
                __parentClass__: _parent,
                __className__: _className,
                __extends__: ( _parent.prototype.__extends__ || _parent.prototype.__className__ ) + ' > ' + _className
            };
    
            var overwride = '';
    
            for ( var key in this.prototype ) {
                if ( !EXCEPTION_REG.test(key) ) {
                    var prop = this.prototype[key];
                    Class.prototype[key] = prop;
    
                    if ( !$B.isFunction(prop) ) {
                        _properties[key] = prop;
                    }
                }
            }
    
            for ( var key in methods ) {
                if ( !EXCEPTION_REG.test(key) ) {
                    var prop = methods[key];
    
                    if ( Class.prototype.hasOwnProperty(key) ) {
                        overwride += overwride? ', ' + key : key;
                    }
    
                    Class.prototype[key] = prop;
    
                    if ( !$B.isFunction(prop) ) {
                        _properties[key] = prop;
                    }
                }
            }
    
            Class.prototype.__override__ = overwride;
            Class.extend = ixBand.Class.extend;
            return Class;
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 										api										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.api = (function () {
        var _video = false,
            _audio = false,
            _canvas = false;
    
        /**
         * 특정 API 지원여부 (Modernizr - https://github.com/Modernizr/Modernizr)
         * @type	{$support}
         */
        var api = {
            /**
             * Canvas 태그 지원여부
             * @return	{Boolean}
             */
            supportCanvas: function () {
                var el = document.createElement( 'canvas' ),
                    _canvas = !!( el.getContext && el.getContext( '2d' ) );
    
                this.supportCanvas = function () { return _canvas; };
                return this.supportCanvas();
            },
    
            /**
             * Video 태그 지원여부
             * @return	{Boolean}
             */
            supportVideo: function () {
                var el = document.createElement( 'video' ),
                    bool = false;
                // IE9 Running on Windows Server SKU can cause an exception to be thrown, bug #224
                try {
                    if ( bool = !!el.canPlayType ) {
                        bool      = new Boolean(bool);
                        bool.ogg  = el.canPlayType('video/ogg; codecs="theora"')      .replace(/^no$/,'');
                        bool.h264 = el.canPlayType('video/mp4; codecs="avc1.42E01E"') .replace(/^no$/,'');
                        bool.webm = el.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,'');
                    }
    
                } catch(e) {}
                _video = bool;
    
                this.supportVideo = function () { return _video; };
                return this.supportVideo();
            },
    
            /**
             * Audio 태그 지원여부
             * @return	{Boolean}
             */
            supportAudio: function () {
                var el = document.createElement( 'audio' ),
                    bool = false;
    
                try {
                    if ( bool = !!el.canPlayType ) {
                        bool      = new Boolean(bool);
                        bool.ogg  = el.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,'');
                        bool.mp3  = el.canPlayType('audio/mpeg;')               .replace(/^no$/,'');
    
                        // Mimetypes accepted:
                        //   developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements
                        //   bit.ly/iphoneoscodecs
                        bool.wav  = el.canPlayType('audio/wav; codecs="1"')     .replace(/^no$/,'');
                        bool.m4a  = ( el.canPlayType('audio/x-m4a;')            ||
                        el.canPlayType('audio/aac;'))             .replace(/^no$/,'');
                    }
                } catch(e) {}
                _audio = bool;
    
                this.supportAudio = function () { return _audio; };
                return this.supportAudio();
            }
        };
    
        return api;
    }());


    // ############################################################################ //
    // ############################################################################ //
    // 									array										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.array = {
        /**
         * 배열의 내용을 불규칙 적으로 썩어서 새 배열을 반환.
         * @param	{Array}		target	대상 배열
         * @return	{Array}
         */
        shuffle: function ( target ) {
            if ( this.is(target) ) {
                var ary = target.concat([]),
                    num = ary.length - 1,
                    i, ran, tmp;
    
                for ( i = 0; i < num; ++i ) {
                    ran = Math.round( Math.random() * num );
                    tmp = ary[i];
                    ary[i] = ary[ran];
                    ary[ran] = tmp;
                }
                return ary;
            } else {
                throw new Error('[ixBand] "shuffle()" ' + MSG_NOT_ARRAY);
            }
        },
    
        /**
         * 해당객체가 배열이면 true, HTMLCollection은 false
         * @param	{*}			target
         * @return	{Boolean}
         */
        is: function ( target, errorMsg ) {
            var result = Object.prototype.toString.call( target ) === '[object Array]';
    
            if ( errorMsg && !result ) {
                warning( errorMsg );
                return false;
            } else {
                return result;
            }
        },
    
        /**
         * 지정된 함수에 대해 false를 반환하는 항목에 도달할 때까지 배열의 각 항목에 테스트 함수를 실행.
         * @param	{Array}		target		대상 배열
         * @param	{Function}	callback	function callback(item:*, index:int, array:Array):Boolean;
         * @return	{Boolean}	일치하는 요소가 없으면 false
         */
        every: function ( target, callback ) {
            if ( typeof Array.prototype.every === 'function' ) {
                this.every = function ( target, callback ) {
                    if ( this.is(target) ) {
                        return target.every( callback );
                    } else {
                        throw new Error('[ixBand] "every()" ' + MSG_NOT_ARRAY);
                    }
                };
            } else {
                this.every = function ( target, callback ) {
                    if ( this.is(target) ) {
                        var tArray = target,
                            aryNum = tArray.length,
                            result, i;
    
                        for ( i = 0; i < aryNum; ++i ) {
                            var ary = tArray[i];
                            result = callback.call( this , ary, i, tArray );
                            if ( result == false ) break;
                        }
                        return result;
                    } else {
                        throw new Error('[ixBand] "every()" ' + MSG_NOT_ARRAY);
                    }
                };
            }
    
            return this.every( target, callback );
        },
    
        /**
         * 지정된 함수에 대해 true를 반환하는 모든 항목이 포함된 새 배열을 반환.
         * @param	{Array}			target		대상 배열
         * @param	{Function}		callback	function callback(item:*, index:int, array:Array):Boolean;
         * @return	{Array}
         */
        filter: function ( target, callback ) {
            if ( typeof Array.prototype.filter === 'function' ) {
                this.filter = function ( target, callback ) {
                    if ( this.is(target) ) {
                        return target.filter( callback );
                    } else {
                        throw new Error('[ixBand] "filter()" ' + MSG_NOT_ARRAY);
                    }
                };
            } else {
                this.filter = function ( target, callback ) {
                    if ( this.is(target) ) {
                        var tArray = target,
                            aryNum = tArray.length,
                            result = [], i;
    
                        for ( i = 0; i < aryNum; ++i ) {
                            var ary = tArray[i],
                                state = callback.call( this , ary, i, tArray );
                            if ( state == true ) result.push( ary );
                        }
                        return result;
                    } else {
                        throw new Error('[ixBand] "filter()" ' + MSG_NOT_ARRAY);
                    }
                };
            }
    
            return this.filter( target, callback );
        },
    
        /**
         * 배열의 각 항목에 함수를 실행, for문을 직접쓰는것 보다는 느리다.
         * @param	{Array}			target		대상 배열
         * @param	{Function}		callback	function callback(item:*, index:int, array:Array):void;
         */
        forEach: function ( target, callback ) {
            if ( typeof Array.prototype.forEach === 'function' ) {
                this.forEach = function ( target, callback ) {
                    if ( this.is(target) ) {
                        target.forEach( callback );
                    } else {
                        throw new Error('[ixBand] "forEach()" ' + MSG_NOT_ARRAY);
                    }
                };
            } else {
                this.forEach = function ( target, callback ) {
                    if ( this.is(target) ) {
                        var tArray = target,
                            aryNum = tArray.length, i;
    
                        for ( i = 0; i < aryNum; ++i ) {
                            callback.call( this , tArray[i], i, tArray );
                        }
                    } else {
                        throw new Error('[ixBand] "forEach()" ' + MSG_NOT_ARRAY);
                    }
                };
            }
    
            this.forEach( target, callback );
        },
    
        /**
         * 대상배열안에 value와 같은요소가 존재하면 해당 Index를 반환한다.
         * @param	{Array}		target		대상 배열
         * @param	{*}			value
         * @return	{Int}		일치하는 요소가 없으면 -1
         */
        indexOf: function ( target, value ) {
            if ( typeof Array.prototype.indexOf === 'function' ) {
                this.indexOf = function ( target, value ) {
                    if ( this.is(target) ) {
                        return target.indexOf( value );
                    } else {
                        throw new Error('[ixBand] "indexOf()" ' + MSG_NOT_ARRAY);
                    }
                };
            } else {
                this.indexOf = function ( target, value ) {
                    if ( this.is(target) ) {
                        var tArray = target,
                            aryNum = tArray.length,
                            result = -1, i;
    
                        for ( i = 0; i < aryNum; ++i ) {
                            if ( tArray[i] === value ) {
                                result = i;
                                break;
                            }
                        }
                        return result;
                    } else {
                        throw new Error('[ixBand] "indexOf()" ' + MSG_NOT_ARRAY);
                    }
                };
            }
    
            return this.indexOf( target, value );
        },
    
        /**
         * 배열의 각 항목에 함수를 실행하고 원래 배열의 각 항목에 대한 함수 결과에 해당하는 항목으로 구성된 새 배열을 반환.
         * @param	{Array}			target		대상 배열
         * @param	{Function}		callback	function callback(item:*, index:int, array:Array):Array;
         * @return	{Array}
         */
        map: function ( target, callback ) {
            if ( typeof Array.prototype.map === 'function' ) {
                this.map = function ( target, callback ) {
                    if ( this.is(target) ) {
                        return target.map( callback );
                    } else {
                        throw new Error('[ixBand] "map()" ' + MSG_NOT_ARRAY);
                    }
                };
            } else {
                this.map = function ( target, callback ) {
                    if ( this.is(target) ) {
                        var tArray = target,
                            aryNum = tArray.length,
                            result = [], i;
    
                        for ( i = 0; i < aryNum; ++i ) {
                            var state = callback.call( this , tArray[i], i, tArray );
                            result.push( state );
                        }
                        return result;
                    } else {
                        throw new Error('[ixBand] "map()" ' + MSG_NOT_ARRAY);
                    }
                };
            }
    
            return this.map( target, callback );
        },
    
        /**
         * true를 반환하는 항목에 도달할 때까지 배열의 각 항목에 테스트 함수를 실행합니다.
         * @param	{Array}			target		대상 배열
         * @param	{Function}		callback	function callback(item:*, index:int, array:Array):Boolean;
         * @return	{Boolean}	일치하는 요소가 없으면 false
         */
        some: function ( target, callback ) {
            if ( typeof Array.prototype.some === 'function' ) {
                this.some = function ( target, callback ) {
                    if ( this.is(target) ) {
                        return target.some( callback );
                    } else {
                        throw new Error('[ixBand] "some()" ' + MSG_NOT_ARRAY);
                    }
                };
            } else {
                this.some = function ( target, callback ) {
                    if ( this.is(target) ) {
                        var tArray = target,
                            aryNum = tArray.length,
                            result, i;
    
                        for ( i = 0; i < aryNum; ++i ) {
                            var result = callback.call( this , tArray[i], i, tArray );
                            if ( result == true ) break;
                        }
                        return result;
                    } else {
                        throw new Error('[ixBand] "some()" ' + MSG_NOT_ARRAY);
                    }
                };
            }
    
            return this.some( target, callback );
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									color										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.color = {
        KEYWORDS: {
            black: '000000', silver: 'c0c0c0', gray: '808080', white: 'ffffff', maroon: '800000', red: 'ff0000', purple: '800080',
            fuchsia: 'ff00ff', green: '008000', lime: '00ff00', olive: '808000', yellow: 'ffff00', navy: '000080', blue: '0000ff',
            teal: '008080', aqua: '00ffff', aliceblue: 'f0f8ff', antiquewhite: 'faebd7', aquamarine: '7fffd4', azure: 'f0ffff', beige: 'f5f5dc',
            bisque: 'ffe4c4', blanchedalmond: 'ffebcd', blueviolet: '8a2be2', brown: 'a52a2a', burlywood: 'deb887', cadetblue: '5f9ea0',
            chartreuse: '7fff00', chocolate: 'd2691e', coral: 'ff7f50', cornflowerblue: '6495ed', cornsilk: 'fff8dc', crimson: 'dc143c',
            cyan: '00ffff', darkblue: '00008b', darkcyan: '008b8b', darkgoldenrod: 'b8860b', darkgray: 'a9a9a9', darkgreen: '006400',
            darkgrey: 'a9a9a9', darkkhaki: 'bdb76b', darkmagenta: '8b008b', darkolivegreen: '556b2f', darkorange: 'ff8c00', darkorchid: '9932cc',
            darkred: '8b0000', darksalmon: 'e9967a', darkseagreen: '8fbc8f', darkslateblue: '483d8b', darkslategray: '2f4f4f',
            darkslategrey: '2f4f4f', darkturquoise: '00ced1', darkviolet: '9400d3', deeppink: 'ff1493', deepskyblue: '00bfff', dimgray: '696969',
            dimgrey: '696969', dodgerblue: '1e90ff', firebrick: 'b22222', floralwhite: 'fffaf0', forestgreen: '228b22', gainsboro: 'dcdcdc',
            ghostwhite: 'f8f8ff', gold: 'ffd700', goldenrod: 'daa520', greenyellow: 'adff2f', grey: '808080', honeydew: 'f0fff0',
            hotpink: 'ff69b4', indianred: 'cd5c5c', indigo: '4b0082', ivory: 'fffff0', khaki: 'f0e68c', lavender: 'e6e6fa', lavenderblush: 'fff0f5',
            lawngreen: '7cfc00', lemonchiffon: 'fffacd', lightblue: 'add8e6', lightcoral: 'f08080', lightcyan: 'e0ffff', lightgoldenrodyellow: 'fafad2',
            lightgray: 'd3d3d3', lightgreen: '90ee90', lightgrey: 'd3d3d3', lightpink: 'ffb6c1', lightsalmon: 'ffa07a', lightseagreen: '20b2aa',
            lightskyblue: '87cefa', lightslategray: '778899', lightslategrey: '778899', lightsteelblue: 'b0c4de', lightyellow: 'ffffe0',
            limegreen: '32cd32', linen: 'faf0e6', magenta: 'ff00ff', mediumaquamarine: '66cdaa', mediumblue: '0000cd', mediumorchid: 'ba55d3',
            mediumpurple: '9370db', mediumseagreen: '3cb371', mediumslateblue: '7b68ee', mediumspringgreen: '00fa9a', mediumturquoise: '48d1cc',
            mediumvioletred: 'c71585', midnightblue: '191970', mintcream: 'f5fffa', mistyrose: 'ffe4e1', moccasin: 'ffe4b5', navajowhite: 'ffdead',
            oldlace: 'fdf5e6', olivedrab: '6b8e23', orange: 'ffa500', orangered: 'ff4500', orchid: 'da70d6', palegoldenrod: 'eee8aa', palegreen: '98fb98',
            paleturquoise: 'afeeee', palevioletred: 'db7093', papayawhip: 'ffefd5', peachpuff: 'ffdab9', peru: 'cd853f', pink: 'ffc0cb', plum: 'dda0dd',
            powderblue: 'b0e0e6', rosybrown: 'bc8f8f', royalblue: '4169e1', saddlebrown: '8b4513', salmon: 'fa8072', sandybrown: 'f4a460',
            seagreen: '2e8b57', seashell: 'fff5ee', sienna: 'a0522d', skyblue: '87ceeb', slateblue: '6a5acd', slategray: '708090', slategrey: '708090',
            snow: 'fffafa', springgreen: '00ff7f', steelblue: '4682b4', tan: 'd2b48c', thistle: 'd8bfd8', tomato: 'ff6347', turquoise: '40e0d0',
            violet: 'ee82ee', wheat: 'f5deb3', whitesmoke: 'f5f5f5', yellowgreen: '9acd32'
        },
    
        TYPES: { HEX: 'hex', RGB: 'rgb', RGBA: 'rgba', HSL: 'hsl', HSLA: 'hsla' },
    
        REG_HEX: /^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,
        REG_HEX3: /^#([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,
        REG_RGB: /rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/,
        REG_HSL: /hsla?\(([.\d]*), ?([.\d]*%), ?(.[\d]*%),? ?([.\d]*)?\)/,
    
        is: function ( color, errorMsg ) {
            var result = this.type(color) !== undefined;
    
            if ( errorMsg && !result ) {
                warning( errorMsg );
                return false;
            } else {
                return result;
            }
        },
    
        //~IE8 에서는 키워드를 그대로 반환하기때문에 16진수로 변환 해줘야 한다.
        keyword: function ( color, errorMsg ) {
            color = this.KEYWORDS[color.toLowerCase()];
            if ( color ) {
                return color;
            } else {
                if ( errorMsg ) warning( errorMsg );
                return undefined;
            }
        },
    
        /**
         * Color Type을 반환. 지원하는 칼라 타입이 아닐 경우 에러 발생.
         * @param	{String}	color
         * @param	{String}	errorMsg	해당 타입이 없을때 발생시킬 에러 메세지, 설정하지 않으면 undefined반환
         * @return	{String}	'hex', 'rgb', 'rgba', 'hsl', 'hsla'
         */
        type: function ( color, errorMsg ) {
            if ( this.REG_RGB.test(color) || this.REG_HSL.test(color) ) {
                var typeName = color.match( /([a-z]+)\(/ );
                return this.TYPES[typeName[1].toUpperCase()];
            } else if ( this.REG_HEX.test(color) || this.REG_HEX3.test(color) ) {
                return this.TYPES.HEX;
            } else if ( typeof color === 'string' && this.KEYWORDS[color.toLowerCase()] ) {
                return 'keyword'
            } else {
                if ( errorMsg ) warning( errorMsg );
                return undefined;
            }
        },
    
        /**
         * rgba(255, 0, 255, 0.5) -> Object{r, g, b, a} 로 반환
         * @param	{String}	color		rgb(255, 255, 255) 나 rgba(255, 255, 255, 0.5) 형식 Color
         * @return	{Object}	{r, g, b, a}
         */
        parseRgba: function ( color ) {
            var rgba = {};
            color.replace( this.REG_RGB, function ( str, r, g, b, a ) {
                rgba = {r: Number(r), g: Number(g), b: Number(b), a: 1};
                if ( a ) rgba.a = Number(a);
            });
            return rgba;
        },
    
        /**
         * hsla(255, 0, 255, 0.5) -> Object{h, s, l, a} 로 반환
         * @param	{String}	color		hsl(360, 90%, 10%) 나 hsla(360, 90%, 10%, 0.5) 형식 Color
         * @return	{Object}	{h, s, l, a}
         */
        parseHsla: function ( color ) {
            var hsla = {};
            color.replace( this.REG_HSL, function ( str, h, s, l, a ) {
                hsla = {h: parseFloat(h), s: parseFloat(s), l: parseFloat(l), a: 1};
                if ( a ) hsla.a = Number(a);
            });
            return hsla;
        },
    
        /**
         * Hex문자열을 RGB문자열로 반환.
         * @param	{String}	hex		"#ffffff" 16진수
         * @param	{Boolean}	parse	반환값을 Object{r, g, b, a}로 받을것인지 설정, 기본값 false;
         * @return	{String || Object}	"rgb(255, 255, 255)" , Object{r, g, b}
         */
        hexToRgb: function ( hex, parse ) {
            var hex = hex.replace( '#', '' ),
                result = {};
    
            if ( hex.length < 5 ) hex = hex.charAt(0) + hex.charAt(0) + hex.charAt(1) + hex.charAt(1) + hex.charAt(2) + hex.charAt(2);
    
            hex.replace( this.REG_HEX, function ( str, va, vb, vc ) {
                var r = Number('0x'+va).toString(10),
                    g = Number('0x'+vb).toString(10),
                    b = Number('0x'+vc).toString(10);
    
                result = {r: Number(r), g: Number(g), b: Number(b), a: 1};
            });
    
            return parse? result : 'rgb(' + result.r + ', ' + result.g + ', ' + result.b + ')';
        },
    
        /**
         * RGB문자열을 Hex문자열로 반환.
         * @param	{String}	color		"rgb(255, 255, 255)" 표기법
         * @return	{String}	"#FFFFFF"
         */
        rgbToHex: function ( color ) {
            return color.replace( this.REG_RGB, function ( str, r, g, b, a ) {
                //RGBA문자열도 Hex문자열로 반환, "AARRGGBB"
                /*
                 var a = (a)? Math.abs(255 * a - 255) : 0,
                 uint = a << 24 | r << 16 | g << 8 | b;
                 */
                var uint = r << 16 | g << 8 | b;
                return '#' + $B.string.format( uint.toString(16), 6 );
            });
        },
    
        /**
         * HSL문자열을 RGB문자열로 반환.
         * @param	{String}	color		"hsl(360, 20%, 10%)" 표기법
         * @param	{Boolean}	parse	반환값을 Object{r, g, b, a}로 받을것인지 설정, 기본값 false;
         * @return	{String || Object}	"rgb(255, 255, 255)" , Object{r, g, b, a}
         */
        hslToRgb: (function () {
            function hue2rgb ( p, q, t ) {
                if ( t < 0 ) t += 1;
                if ( t > 1 ) t -= 1;
                if ( t < 1/6 ) return p + ( q - p ) * 6 * t;
                if ( t < 1/2 ) return q;
                if ( t < 2/3 ) return p + ( q - p ) * ( 2/3 - t ) * 6;
                return p;
            }
    
            return function ( color, parse ) {
                var hsla = this.parseHsla( color ),
                    r, g, b;
    
                hsla.h /= 360;
                hsla.s /= 100;
                hsla.l /= 100;
    
                if ( hsla.s == 0 ) {
                    r = g = b = hsla.l;
                } else {
                    var q = hsla.l < 0.5 ? hsla.l * ( 1 + hsla.s ) : hsla.l + hsla.s - hsla.l * hsla.s,
                        p = 2 * hsla.l - q;
                    r = hue2rgb( p, q, hsla.h + 1/3 );
                    g = hue2rgb( p, q, hsla.h );
                    b = hue2rgb( p, q, hsla.h - 1/3 );
                }
    
                r = Math.round( r * 255 );
                g = Math.round( g * 255 );
                b = Math.round( b * 255 );
    
                if ( parse ) {
                    return {r: r, g: g, b: b, a: hsla.a};
                } else {
                    return 'rgb(' + r + ',' + g + ',' + b + ')';
                }
            }
        }()),
    
        /**
         * RGB문자열을 HSL문자열로 반환.
         * @param	{String}	color		"rgb(255, 255, 255)" 표기법
         * @param	{Boolean}	parse	반환값을 Object{h, s, l, a}로 받을것인지 설정, 기본값 false;
         * @return	{String || Object}	"hsl(360, 20%, 10%)" , Object{h, s, l, a}
         */
        rgbToHsl: function ( color, parse ) {
            var rgba = this.parseRgba( color ),
                r = rgba.r / 255, g = rgba.g / 255, b = rgba.b / 255,
                max = Math.max( r, g, b ), min = Math.min( r, g, b ),
                h, s, l = ( max + min ) / 2;
    
            if ( max == min ) {
                h = s = 0;
            } else {
                var d = max - min;
                s = l > 0.5 ? d / ( 2 - max - min ) : d / ( max + min );
                switch ( max ) {
                    case r:
                        h = ( g - b ) / d;
                        break;
                    case g:
                        h = 2 + ( (b - r) / d );
                        break;
                    case b:
                        h = 4 + ( (r - g) / d );
                        break;
                }
                h *= 60;
                if ( h < 0 ) h += 360;
            }
    
            s *= 100;
            l *= 100;
    
            if ( parse ) {
                return {h: h, s: s, l: l, a: rgba.a};
            } else {
                return 'hsl(' + h + ',' + s + '%,' + l + '%)';
            }
        },
    
        /**
         * Color문자열 ("hex", "rgb", "rgba", "hsl", "hsla", "keyword")을 Hex문자열로 변환하여 반환.
         * @param	{String}	color		Color문자열
         * @return	{String}
         */
        toHex: function ( color ) {
            var type = this.type( color, 'color.toHex() : "' + color + '" ' + MSG_NOT_COLOR );
    
            switch ( type ) {
                case 'hex':
                    return color;
                    break;
                case 'rgb':
                case 'rgba':
                    return this.rgbToHex( color );
                    break;
                case 'hsl':
                case 'hsla':
                    color = this.hslToRgb( color );
                    return this.rgbToHex( color );
                    break;
                case 'keyword':
                    return this.keyword( color, 'color.toHex() : "' + color + '" ' + MSG_NOT_COLOR );
                    break;
            }
        },
    
        /**
         * Color문자열 ("hex", "rgb", "rgba", "hsl", "hsla", "keyword")을 RGB문자열로 변환하여 반환.
         * @param	{String}	color		Color문자열
         * @param	{Boolean}	parse		반환값을 Object{r, g, b, a}로 받을것인지 설정, 기본값 false;
         * @return	{String || Object}	RGB문자열 "rgb(255, 255, 255)", Object{r, g, b, a}
         */
        toRgb: function ( color, parse ) {
            var type = this.type( color, 'color.toRgb() : "' + color + '" ' + MSG_NOT_COLOR ),
                objColor;
    
            switch ( type ) {
                case 'rgb':
                    return parse? this.parseRgba( color ) : color;
                    break;
                case 'rgba':
                    objColor = this.parseRgba( color );
                    break;
                case 'hsl':
                case 'hsla':
                    objColor = this.hslToRgb( color, true );
                    break;
                case 'keyword':
                    color = this.keyword( color, 'color.toRgb() : "' + color + '" ' + MSG_NOT_COLOR );
                case 'hex':
                    objColor = this.hexToRgb( color, true );
                    break;
            }
    
            return parse? objColor : 'rgb(' + objColor.r + ', ' + objColor.g + ', ' + objColor.b + ')';
        },
    
        /**
         * Color문자열 ("hex", "rgb", "rgba", "hsl", "hsla", "keyword")을 RGBA문자열로 변환하여 반환.
         * @param	{String}	color		Color문자열
         * @param	{Boolean}	parse		반환값을 Object{r, g, b, a}로 받을것인지 설정, 기본값 false;
         * @return	{String || Object}	RGBA문자열 "rgba(255, 255, 255, 0.5)", Object{r, g, b, a}
         */
        toRgba: function ( color, parse ) {
            var type = this.type( color, 'color.toRgba() : "' + color + '" ' + MSG_NOT_COLOR ),
                objColor;
    
            switch ( type ) {
                case 'rgb':
                    objColor = this.parseRgba( color );
                    break;
                case 'rgba':
                    return parse? this.parseRgba( color ) : color;
                    break;
                case 'hsl':
                case 'hsla':
                    objColor = this.hslToRgb( color, true );
                    break;
                case 'keyword':
                    color = this.keyword( color, 'color.toRgba() : "' + color + '" ' + MSG_NOT_COLOR );
                case 'hex':
                    objColor = this.hexToRgb( color, true );
                    break;
            }
    
            return parse? objColor : 'rgba(' + objColor.r + ', ' + objColor.g + ', ' + objColor.b + ', ' + objColor.a + ')';
        },
    
        /**
         * Color문자열 ("hex", "rgb", "rgba", "hsl", "hsla", "keyword")을 Hsl문자열로 변환하여 반환.
         * @param	{String}	color		Color문자열
         * @param	{Boolean}	parse		반환값을 Object{h, s, l}로 받을것인지 설정, 기본값 false;
         * @return	{String || Object}	"hsl(360, 20%, 10%)" , Object{h, s, l}
         */
        toHsl: function ( color, parse ) {
            var type = this.type( color, 'color.toHsl() : "' + color + '" ' + MSG_NOT_COLOR ),
                objColor;
    
            switch ( type ) {
                case 'rgb':
                case 'rgba':
                    objColor = this.rgbToHsl( color, true );
                    break;
                case 'hsl':
                    return parse? this.parseHsla( color ) : color;
                    break;
                case 'hsla':
                    objColor = this.parseHsla( color );
                    break;
                case 'keyword':
                    color = this.keyword( color, 'color.toHsl() : "' + color + '" ' + MSG_NOT_COLOR );
                case 'hex':
                    color = this.hexToRgb( color );
                    objColor = this.rgbToHsl( color, true );
                    break;
            }
    
            return parse? objColor : 'hsl(' + objColor.h + ', ' + objColor.s + '%, ' + objColor.l + '%)';
        },
    
        /**
         * Color문자열 ("hex", "rgb", "rgba", "hsl", "hsla", "keyword")을 Hsla문자열로 변환하여 반환.
         * @param	{String}	color		Color문자열
         * @param	{Boolean}	parse		반환값을 Object{h, s, l, a}로 받을것인지 설정, 기본값 false;
         * @return	{String || Object}	"hsla(360, 20%, 10%, 1)" , Object{h, s, l, a}
         */
        toHsla: function ( color, parse ) {
            var type = this.type( color, 'color.toHsla() : "' + color + '" ' + MSG_NOT_COLOR ),
                objColor;
    
            switch ( type ) {
                case 'rgb':
                case 'rgba':
                    objColor = this.rgbToHsl( color, true );
                    break;
                case 'hsl':
                    objColor = this.parseHsla( color );
                    break;
                case 'hsla':
                    return parse? this.parseHsla( color ) : color;
                    break;
                case 'keyword':
                    color = this.keyword( color, 'color.toHsla() : "' + color + '" ' + MSG_NOT_COLOR );
                case 'hex':
                    color = this.hexToRgb( color );
                    objColor = this.rgbToHsl( color, true );
                    break;
            }
    
            return parse? objColor : 'hsla(' + objColor.h + ', ' + objColor.s + '%, ' + objColor.l + '%, ' + objColor.a +')';
        },
    
        /**
         * Color문자열 ("hex", "rgb", "rgba", "hsl", "hsla", "keyword")을 해당 Type Color문자열로 변환하여 반환.
         * @param	{String}	color		Color문자열
         * @param	{String}	type		변환할 Color Type, "hex", "rgb", "rgba", "hsl", "hsla"
         * @return	{String}	Color문자열 "hex", "rgb", "rgba", "hsl", "hsla"
         */
        convert: function ( color, type ) {
            switch ( type ) {
                case 'rgb':
                    return this.toRgb( color );
                    break;
                case 'rgba':
                    return this.toRgba( color );
                    break;
                case 'hsl':
                    return this.toHsl( color );
                    break;
                case 'hsla':
                    return this.toHsla( color );
                    break;
                default:
                    return this.toHex( color );
                    break;
            }
        },
    
        /**
         * 색상을 혼합하여 반환.
         * @param	{String}	fromColor	"hex", "rgb", "rgba" Color문자열 예) #ffffff, rgb(0, 0, 0), rgba(0, 0, 0, 0)
         * @param	{String}	toColor		"hex", "rgb", "rgba" Color문자열 예) #ffffff, rgb(0, 0, 0), rgba(0, 0, 0, 0)
         * @param	{Number}	progress	혼합비율 지점을 설정 0~1
         * @param	{String}	type		반환 받을 Color Type, "hex", "rgb", "rgba", "hsl", "hsla" 기본값은 "hex" (~IE8 에서는 rgba를 지원하지 않는다.)
         * @return	{String}	16진수 or 10진수 Color문자열
         */
        mix: function ( fromColor, toColor, progress, type ) {
            if (progress > 1) {
                progress = 1;
            } else if (progress < 0) {
                progress = 0;
            }
    
            var reType = (type || 'hex').toLowerCase(),
                fColor = this.toRgba( fromColor, true ),
                tColor = this.toRgba( toColor, true );
    
            var multi = 1 - progress,
                rMulti = fColor.r, gMulti = fColor.g, bMulti = fColor.b, aMulti = fColor.a,
                rOff = tColor.r, gOff = tColor.g, bOff = tColor.b, aOff = tColor.a,// Math.abs(255 * a - 255)
                a = aMulti * multi + aOff * progress,
                r = Math.floor( rMulti * multi + rOff * progress ),
                g = Math.floor( gMulti * multi + gOff * progress ),
                b = Math.floor( bMulti * multi + bOff * progress ),
                rgba = 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';
    
            switch ( reType ) {
                case 'hex':
                    return this.rgbToHex( rgba );
                    break;
                case 'rgb':
                    return 'rgb(' + r + ', ' + g + ', ' + b + ')';
                    break;
                case 'rgba':
                    return rgba;
                case 'hsl':
                    return this.rgbToHsl( rgba );
                case 'hsla':
                    var hsla = this.rgbToHsl( rgba, true );
                    return 'hsla(' + hsla.h + ', ' + hsla.s + '%, ' + hsla.l + '%, ' + hsla.a +')';
                    break;
            }
        },
    
        /**
         * 여러가지 색상을 정비율로 혼합하여 반환.<br>
         * @param	{Array}		colors		칼라 Array
         * @param	{Number}	progress	뽑아낼 칼라 지점을 설정 0~1
         * @param	{String}	type		반환 받을 Color Type, "hex", "rgb", "rgba", "hsl", "hsla" 기본값은 "hex" (~IE8 에서는 rgba를 지원하지 않는다.)
         * @return	{Color}		예) #ffffff
         */
        multiMix: function ( colors, progress, type ) {
            if (progress > 1) {
                progress = 1;
            } else if (progress < 0) {
                progress = 0;
            }
            var colorNum = colors.length,
                sectionPer, section, sPercent;
            if (colorNum < 2) return colors[0];
            sectionPer = 1 / (colorNum - 1);
            section = Math.floor(progress / sectionPer);
            if (section < 0) return colors[0];
            if (section < colorNum - 1) {
                sPercent = (progress % sectionPer) / sectionPer;
                return this.mix( colors[section], colors[section + 1], sPercent, type );
            }
            return colors[colorNum - 1];
        },
    
        /**
         * 보색 반환.
         * @param	{String}	color	"hex", "rgb", "rgba" Color문자열 예) #ffffff, rgb(0, 0, 0), rgba(0, 0, 0, 0)
         * @param	{String}	type		반환 받을 Color Type, "hex", "rgb", "rgba", "hsl", "hsla" 기본값은 지정한 color값의 type (~IE8 에서는 rgba를 지원하지 않는다.)
         * @return	{Color}		예) #ffffff
         */
        complementary: function ( color, type ) {
            var rgbaObj = this.toRgba( color, true ),
                r = 255 - rgbaObj.r, g = 255 - rgbaObj.g, b = 255 - rgbaObj.b;
            return this.convert( 'rgba(' + r + ',' + g + ',' + b + ',' + rgbaObj.a + ')', type );
        },
    
        /**
         * 회색톤 반환.
         * @param	{String}	color	"hex", "rgb", "rgba" Color문자열 예) #ffffff, rgb(0, 0, 0), rgba(0, 0, 0, 0)
         * @param	{String}	type		반환 받을 Color Type, "hex", "rgb", "rgba", "hsl", "hsla", 기본값은 지정한 color값의 type (~IE8 에서는 rgba를 지원하지 않는다.)
         * @return	{Color}		예) #ffffff
         */
        grayscale: function ( color, type ) {
            var colorObj = this.toRgba( color, true ),
                grayscale = Math.round( (colorObj.r + colorObj.g + colorObj.b) / 3 );
    
            return this.convert( 'rgba(' + grayscale + ',' + grayscale + ','+ grayscale + ',' + colorObj.a + ')', type );
        },
    
        /**
         * 칼라의 밝기값 반환, 밝을수록 255에 가깝다.
         * @param	{String}	color	"hex", "rgb", "rgba" Color문자열 예) #ffffff, rgb(0, 0, 0), rgba(0, 0, 0, 0)
         * @return	{Number}		0 ~ 255
         */
        brighteness: function ( color ) {
            var colorObj = this.toRgb( color, true );
            return ( (colorObj.r * 299) + (colorObj.g * 587) + (colorObj.b * 114) ) / 1000;
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									event										//
    // ############################################################################ //
    // ############################################################################ //
    
    /**
     * 함수를 올바른 this 키워드와 함께 호출하기 위해서 클로저가 사용된다.<br>
     * 이런 종류의 클로저는 IE에서 메모리 누수를 발생시킬 수 있기 때문에, onunload 이벤트를 등록하고 이시점에 등록된 모든 이벤트를 삭제한다.<br>
     * Event Properties : type, target, currentTarget, relatedTarget, eventPhase, clientX, clientY, screenX, screenY, shiftKey, charCode, delta:마우스휠이벤트에서 발생, stopPropagation(), preventDefault()<br>
     */
    ixBand.event = (function () {
        //EventType의 크로스부라우징 처리
        var CrossType = {
            mousewheel: 'mousewheel',
            transitionend: 'transitionend'
        };
    
        if ( $B.ua.WEBKIT ) {
            CrossType.transitionend = 'webkitTransitionEnd';
        } else if ( $B.ua.OPERA ) {
            CrossType.transitionend = 'otransitionend';
        } else if ( $B.ua.FIREFOX ) {
            CrossType.mousewheel = 'DOMMouseScroll';
        }
    
        var _eventCount = 0,
            _hasDomEvent = ( document.addEventListener )? true : false,
            _hasIEEvent = ( document.attachEvent )? true : false;
    
        function getEventID () {
            return 'ixe' + new Date().getTime() + _eventCount++;
        }
    
        function removeAllHandlers (e) {
            var _this = this, id;
    
            for ( id in _this.__ix_allEvents__ ) {
                var h = _this.__ix_allEvents__[id];
                h.el.detachEvent( 'on' + h.type, h.wrapHandler );
                delete _this.__ix_allEvents__[id];
            }
        }
    
        //대상의 모든 이벤트 삭제
        function removeAllEvent ( el, clone ) {
            if ( el.__ix_eventIds__ ) {
                var ids = el.__ix_eventIds__,
                    eidNum = ids.length, i;
    
                for ( i = 0; i < eidNum; ++i ) {
                    var id = ids[i],
                        evt = window.__ix_allEvents__[id],
                        type = evt.type,
                        matchEl = ( clone )? true: evt.el == el;
    
                    //삭제
                    if ( matchEl ) {
                        Evt._removeEventListener( el, type, evt.wrapHandler );
    
                        //창마다 하나식 있는 __ix_allEvents__ 객체에서 이벤트정보 삭제
                        if ( !clone ) delete window.__ix_allEvents__[id];
                    }
                }
    
                if ( !clone ) el.__ix_eventIds__ = null;
            }
        }
    
        //크로스브라우징 이벤트 타입 반환
        function getCrossType ( type ) {
            var crossType = CrossType[type];
            return crossType || type;
        }
    
        //origin event type to cross event type
        function originToCrossType ( type ) {
            if ( type === 'DOMMouseScroll' ) {
                type = 'mousewheel';
            } else if ( type === 'webkitTransitionEnd' ) {
                type = 'transitionend';
            } else if ( type === 'otransitionend' ) {
                type = 'transitionend';
            }
    
            return type;
        }
    
    
        // ==================== Public Methods ==================== //
        var Evt = {
            add: null,
    
            find: function ( el, type, handler, isAll ) {
                var eventIds = el.__ix_eventIds__;
                //등록된 _ix_eventIds_가 없으면 -1반환
                if ( !eventIds ) return -1;
    
                var hNum = eventIds.length - 1,
                    alls = [],
                    i;
    
                type = getCrossType( type );
    
                //가장최근에 등록된 이벤트가 제거될 가능성이 높기때문에 루프를 뒤에서 부터 돈다.
                for ( i = hNum; i >= 0; --i ) {
                    var hId = eventIds[i],
                        evt = window.__ix_allEvents__[hId];
    
                    if ( isAll ) {
                        if ( evt.type === type ) {
                            alls.push( i );
                        }
                    } else {
                        if ( evt.type === type && evt.handler === handler ) {
                            return i;
                            break;
                        }
                    }
                }
    
                if ( isAll ) {
                    return alls;
                } else {
                    return -1;
                }
            },
    
            trigger: function ( el, type, data ) {
                if ( typeof document.dispatchEvent === 'function' ) {
                    // dispatch for firefox + others
                    var evt = document.createEvent( 'HTMLEvents' );
                    evt.initEvent( type, true, true ); // type,bubbling,cancelable
                    el.dispatchEvent( evt );
                } else if ( document.createEventObject ) {
                    // dispatch for IE
                    try {
                        var evtObj = document.createEventObject();
                        el.fireEvent( 'on' + type, evtObj );
                    } catch (e) {
                        //CustomEvent
                        var evts = this.find( el, type, null, true ),
                            evtLength = evts.length;
    
                        for ( var i = 0; i < evtLength; ++i ) {
                            var idx = evts[i],
                                id = el.__ix_eventIds__[idx],
                                evt = window.__ix_allEvents__[id];
    
                            evt.wrapHandler.call( e.el, {
                                type: evt.type,
                                currentTarget: el,
                                data: data || evt.customData
                            });
                        }
                    }
                }
            },
    
            remove: function ( el, type, handler ) {
                //el.__ix_eventIds__[] 배열에서 찾는다.
                var i = this.find( el, type, handler );
                if ( i == -1 ) return;
    
                var id = el.__ix_eventIds__[i],
                    h = window.__ix_allEvents__[id];
    
                this._removeEventListener( el, type, h.wrapHandler );
    
                //배열에서 el 제거
                el.__ix_eventIds__.splice( i, 1 );
                //창마다 하나식 있는 __ix_allEvents__ 객체에서 이벤트정보 삭제
                delete window.__ix_allEvents__[id];
            },
    
            //대상 개체의 해당 타입의 모든 이벤트 삭제
            removeTypeAll: function ( el, type ) {
                var eventIds = el.__ix_eventIds__;
                //등록된 _ix_eventIds_가 없으면 정지.
                if ( !eventIds ) return;
    
                //type = getCrossType( type );
    
                //가장최근에 등록된 이벤트가 제거될 가능성이 높기때문에 루프를 뒤에서 부터 돈다.
                for ( var i = eventIds.length - 1; i >= 0; --i ) {
                    var id = eventIds[i],
                        evt = window.__ix_allEvents__[id];
    
                    if ( evt.type == type ) {
                        this._removeEventListener( el, type, evt.wrapHandler );
                        //배열에서 el 제거
                        el.__ix_eventIds__.splice( i, 1 );
                        //창마다 하나식 있는 __ix_allEvents__ 객체에서 이벤트정보 삭제
                        delete window.__ix_allEvents__[id];
                    }
                }
            },
    
            //대상 객체의 이벤트 모두 삭제
            removeAll: function ( els, childRemove, clone ) {
                var i, elNum = els.length;
                for ( i = 0; i < elNum; ++i ) {
                    var el = els[i];
    
                    removeAllEvent( el, clone );
    
                    //자식 이벤트 삭제
                    if ( childRemove ) {
                        var children = el.children;
    
                        if ( children.length > 0 ) {
                            this.removeAll( children, true, clone );
                        }
                    }
                }
            },
    
            //removeEventListener 크로스브라우징 처리
            _removeEventListener: function ( el, type, handler ) {
                if ( _hasDomEvent ) {
                    this._removeEventListener = function ( el, type, handler ) {
                        el.removeEventListener( getCrossType(type), handler, false );
                    };
                } else if ( _hasIEEvent ) {
                    this._removeEventListener = function ( el, type, handler ) {
                        el.detachEvent( 'on' + type, handler );
                    };
                }
                this._removeEventListener( el, type, handler );
            },
    
            /**
             * 파폭에서 지원하지 않는 event.offsetX 크로스브라우징 해결하여 반환.
             * @param	{Object}	event	이벤트 핸들러의 이벤트.
             * @return	{Number}
             */
            offsetX: function ( evt ) {
                if ( !$B.ua.FIREFOX ) {
                    this.offsetX = function ( evt ) { return evt.offsetX; };
                    //파폭
                } else {
                    this.offsetX = function ( evt ) { return evt.layerX - evt.currentTarget.offsetLeft; };
                }
                return this.offsetX( evt );
            },
            /**
             * 파폭에서 지원하지 않는 event.offsetY 크로스브라우징 해결하여 반환.
             * @param	{Object}	event	이벤트 핸들러의 이벤트.
             * @return	{Number}
             */
            offsetY: function ( evt ) {
                if ( !$B.ua.FIREFOX ) {
                    this.offsetY = function ( evt ) { return evt.offsetY; };
                    //파폭
                } else {
                    this.offsetY = function ( evt ) { return evt.layerY - evt.currentTarget.offsetTop; };
                }
                return this.offsetY( evt );
            },
    
            /**
             * IE9 미만에서 지원하지 않는 event.pageX 크로스브라우징 해결하여 반환.
             * @param	{Object}	event	이벤트 핸들러의 이벤트.
             * @return	{Number}
             */
            pageX: function ( evt ) {
                if ( $B.ua.DOC_MODE_IE9_LT ) {
                    this.pageX = function ( evt ) {
                        var eDoc = evt.target.ownerDocument || document,
                            docEl = eDoc.documentElement,
                            body = eDoc.body;
    
                        return evt.clientX + ( docEl && docEl.scrollLeft || body && body.scrollLeft || 0 );
                    };
                } else {
                    this.pageX = function ( evt ) { return evt.pageX; };
                }
                return this.pageX( evt );
            },
            /**
             * IE9 미만에서 지원하지 않는 event.pageY 크로스브라우징 해결하여 반환.
             * @param	{Object}	event	이벤트 핸들러의 이벤트.
             * @return	{Number}
             */
            pageY: function ( evt ) {
                if ( $B.ua.DOC_MODE_IE9_LT ) {
                    this.pageY = function ( evt ) {
                        var eDoc = evt.target.ownerDocument || document,
                            docEl = eDoc.documentElement,
                            body = eDoc.body;
    
                        return evt.clientY + ( docEl && docEl.scrollTop || body && body.scrollTop || 0 );
                    };
                } else {
                    this.pageY = function ( evt ) { return evt.pageY; };
                }
                return this.pageY( evt );
            }
        };
    
        // ==================== DOM Browser ==================== //
    
        if ( _hasDomEvent ) {
            Evt.add = function ( el, type, handler, data ) {
                if ( this.find( el, type, handler ) != -1 ) return;
    
                //중첩된 함수를 정의하고 이 함수를 handler 함수 대신 등록한다.
                var wrapHandler = function (e) {
                    var evt = {
                        _event: e,			//실제 이벤트 객체
                        type: originToCrossType( e.type ),
                        target: e.target,
                        currentTarget: e.currentTarget,
                        relatedTarget: e.relatedTarget,
                        eventPhase: e.eventPhase,
                        //마우스 좌표
                        layerX: e.layerX, layerY: e.layerX,//파폭
                        clientX: e.clientX, clientY: e.clientY,
                        pageX: e.pageX, pageY: e.pageY,
                        offsetX: e.offsetX, offsetY: e.offsetY,
                        screenX: e.screenX, screenY: e.screenY,
                        shiftKey: e.shiftKey, charCode: e.charCode,
                        altKey: e.altKey,
                        ctrlKey: e.ctrlKey,
                        //이벤트 관리 함수
                        stopPropagation: function () { if (this._event) this._event.stopPropagation(); },
                        preventDefault: function () { if (this._event) this._event.preventDefault(); },
                        //mousewheel
                        delta: 0,
                        data: e.customData || data
                    };
    
                    /*
                     mousewheel delta
                     trace( 'detail:' + e.detail );//FF, Oprera
                     trace( 'wheelDelta:' + e.wheelDelta );//IE, Chrome, Safari, Opera
                     */
                    if ( e.wheelDelta ) {
                        evt.delta = e.wheelDelta / 120;
                    } else if ( e.detail ) {
                        evt.delta = -e.detail / 3;
                    }
    
                    handler.call( el, evt );
                };
    
                el.addEventListener( getCrossType(type), wrapHandler, false );
    
                var h = {
                    el: el,
                    type: type,
                    handler: handler,
                    wrapHandler: wrapHandler,
                    customData: data
                };
    
                var w = window,
                    id = getEventID();
    
                if ( !w.__ix_allEvents__ ) w.__ix_allEvents__ = {};
                w.__ix_allEvents__[id] = h;
    
                if ( !el.__ix_eventIds__ ) el.__ix_eventIds__ = [];
                el.__ix_eventIds__.push(id);
            };
    
            // ==================== IE6~8 Browser ==================== //
    
        } else if ( _hasIEEvent ) {
            Evt.add = function ( el, type, handler, data ) {
                if ( this.find( el, type, handler ) != -1 ) return;
    
                //중첩된 함수를 정의하고 이 함수를 handler 함수 대신 등록한다.
                var wrapHandler = function (e) {
                    if ( !e ) e = window.event;
    
                    var evt = {
                        _event: e,				//실제 IE이벤트 객체
                        type: e.type,
                        target: e.srcElement,
                        currentTarget: el,
                        relatedTarget: e.fromElement? e.fromElement : e.toElement,
                        eventPhase: ( e.srcElement == el )? 2 : 3,
                        //마우스 좌표
                        layerX: e.layerX, layerY: e.layerX,//파폭
                        clientX: e.clientX, clientY: e.clientY,
                        pageX: e.pageX, pageY: e.pageY,
                        offsetX: e.offsetX, offsetY: e.offsetY,
                        screenX: e.screenX, screenY: e.screenY,
                        shiftKey: e.shiftKey, charCode: e.keyCode,
                        altKey: e.altKey,
                        ctrlKey: e.ctrlKey,
                        //이벤트 관리 함수
                        stopPropagation: function () { if (this._event) this._event.cancelBubble = true; },
                        preventDefault: function () { if (this._event) this._event.returnValue = false; },
                        //mousewheel
                        delta: e.wheelDelta / 120,
                        data: e.customData || data
                    };
    
                    handler.call( el, evt );
                };
    
                //이벤트 등록
                el.attachEvent( 'on' + type, wrapHandler );
    
                var h = {
                    el: el,
                    type: type,
                    handler: handler,
                    wrapHandler: wrapHandler,
                    customData: data
                };
    
                var w = window,
                    id = getEventID();
    
                if ( !w.__ix_allEvents__ ) w.__ix_allEvents__ = {};
                w.__ix_allEvents__[id] = h;
    
                if ( !el.__ix_eventIds__ ) el.__ix_eventIds__ = [];
                el.__ix_eventIds__.push(id);
    
                //창과 관련된 onunload 이벤트가 없으면 하나 등록.
                if ( !w._ix_onunloadHandlerReg_ ) {
                    w._ix_onunloadHandlerReg_ = true;
                    w.attachEvent( 'onunload', removeAllHandlers );
                }
            };
        }
    
    
        // ============================================================== //
        // =====================	CustomEvents	===================== //
        // ============================================================== //
    
        /**
         * CustomEvents 객체
         * @return	{Function}
         */
        Evt.CustomEvents = CustomEvents;
    
        return Evt;
    }());


    // ############################################################################ //
    // ############################################################################ //
    // 									geom										//
    // ############################################################################ //
    // ############################################################################ //
    
    /**
     * @type {ixBand.geom}
     */
    ixBand.geom = {};


    // ############################################################################ //
    // ############################################################################ //
    // 									html										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.html = {
        HTML_CHARACTERS: {
            '&amp;': '&',
            '&gt;': '>',
            '&lt;': '<',
            '&quot;': '"',
            '&#39;': "'",
            '&nbsp;': ' '
        },
    
        /**
         * "<" 태그를 "&lt;" 처럼 변형된 태그 문자열로 반환 (기존 변환된 문자열 유지)
         * @param	{String}	str
         * @return  {String}
         */
        encode: function ( str ) {
            if ( !str ) return '';
    
            var regAry = $B.object.toArray( this.HTML_CHARACTERS ),
                reg = new RegExp( '(' + regAry.join('|') + ')', 'g' ),
                characters = this._htmlChars ? this._htmlChars : this._htmlChars = $B.object.replaceKeyValue( this.HTML_CHARACTERS );
    
            return str.replace( reg, function ( match, capture ) {
                return characters[capture] || capture;
            });
        },
    
        /**
         * "&lt;" 처럼 변형된 태그 문자열을 "<" 태그로 반환 (기존 태그는 유지)
         * @param	{String}	str
         * @return  {String}
         */
        decode: function ( str ) {
            if ( !str ) return '';
    
            var _this = this,
                regAry = $B.object.toArray( _this.HTML_CHARACTERS, 'key' ),
                reg = new RegExp( '(' + regAry.join('|') + '|&#[0-9]{1,5};' + ')', 'g' );
    
            return str.replace( reg, function ( match, capture ) {
                return ( capture in _this.HTML_CHARACTERS ) ? _this.HTML_CHARACTERS[capture] : String.fromCharCode(parseInt(capture.substr(2), 10));
            });
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									measure										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.measure = {
        /**
         * Document 가로사이즈 반환 (스크롤바 미포함)
         * @return	{Number}
         */
        documentWidth: function () {
            var docEl = document.documentElement;
            return Math.max( docEl.scrollWidth, document.body.scrollWidth, docEl.clientWidth );
        },
        /**
         * Document 세로로사이즈 반환 (스크롤바 미포함)
         * @return	{Number}
         */
        documentHeight: function () {
            var docEl = document.documentElement;
            return Math.max( docEl.scrollHeight, document.body.scrollHeight, docEl.clientHeight );
        },
        /**
         * Viewport 가로사이즈 반환 (메뉴바, 툴바, 스크롤바를 제외)
         * @return	{Number}
         */
        windowWidth: function () {
            return document.documentElement.clientWidth;
        },
        /**
         * Viewport 세로사이즈 반환 (메뉴바, 툴바, 스크롤바를 제외)
         * @return	{Number}
         */
        windowHeight: function () {
            return document.documentElement.clientHeight;
        },
        /**
         * Windows 바탕화면에서 브라우져 X좌표
         * @return	{Number}
         */
        screenX: function () {
            if ( window.screenLeft ) {
                this.screenX = function () { return window.screenLeft; };
            } else {
                this.screenX = function () { return window.screenX; };
            }
            return this.screenX();
        },
        /**
         * Windows 바탕화면에서 브라우져 Y좌표
         * @return	{Number}
         */
        screenY: function () {
            if ( window.screenTop ) {
                this.screenY = function () { return window.screenTop; };
            } else {
                this.screenY = function () { return window.screenY; };
            }
            return this.screenY();
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									mobile										//
    // ############################################################################ //
    // ############################################################################ //
    
    
    /**
     * @type {ixBand.mobile}
     */
    ixBand.mobile = {
        TOUCH_ACTION: TOUCH_ACTION,
        TRANSITION: TRANSITION_NAME
    };
    


    // ############################################################################ //
    // ############################################################################ //
    // 									net										//
    // ############################################################################ //
    // ############################################################################ //
    
    /**
     * @type	{net}
     */
    ixBand.net = {
        /**
         * URL 이동
         * @param	{String}	url			이동할 페이지 url
         * @param	{String}	urlTarget	이동할 페이지 urlTarget
         */
        goToURL: function ( url, urlTarget ) {
            if ( !urlTarget ) {
                document.location.href = url;
            } else {
                switch ( urlTarget ) {
                    case '_blank':
                        window.open( url, urlTarget );
                        break;
                    case '_self':
                        self.location.href = url;
                        break;
                    case '_parent':
                        parent.location.href = url;
                        break;
                    case '_top':
                        top.location.href = url;
                        break;
                }
            }
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									string										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.string = {
        /**
         * 대상이 문자열이면 true반환
         * @param	{String}	target		대상 문자열
         * @param	{String}	errorMsg	콘솔에 표시할 에러 메세지
         * @return	{Boolean}
         */
        is: function ( target, errorMsg ) {
            var result = ( typeof target === 'string' );
    
            if ( errorMsg && !result ) {
                warning( errorMsg );
                return false;
            } else {
                return result;
            }
        },
    
        /**
         * 문자열의 원하는 Index에 문자열을 추가하여 반환. 반복적용 가능.
         * 반복적용시 마지막 index에 문자추가되지 않음.
         * @param	{String}	target		대상 문자열
         * @param	{int}		addIndex	삽입할 Index.
         * @param	{String}	addText		추가할 문자열.
         * @param	{String}	direction	진행될 방향(left, right). 기본값 right
         * @param	{Boolean}	repeat		반복적용 설정. 기본값 false
         * @return	{String}
         */
        insert: function ( target, addIndex, addText, direction, repeat ) {
            direction = direction || 'right';
            repeat = ( repeat )? 'g' : '';
            var value = String( target ),
                reg = new RegExp( '.{' + addIndex + '}', repeat );
    
            if ( direction == 'right' ) {
                value = value.replace(reg, function (str) {
                    return str + addText;
                });
                var lastIdx = value.length - 1;
                return repeat && addText == value.charAt(lastIdx) ? value.substr(0, lastIdx) : value;
            } else {
                value = this.strrev( value );
                value = value.replace( reg, function ( str ) {
                    return str + addText;
                });
                value = this.strrev( value );
                return repeat && addText == value.charAt(0) ? value.substring(1) : value;
            }
        },
    
        /**
         * 숫자 "0"을 삽입하여 자리수를 맞춰 문자열을 반환.
         * 예)trace( .format(5, 3) );//005
         * @param	{String}	target		대상 문자열
         * @param	{int}		cipher		자리수 설정.
         * @param	{String}	fillStr		채워질 문자열, 기본 '0'
         * @return	{String}
         */
        format: function ( target, cipher, fillStr ) {
            fillStr = fillStr || '0';
            var str = String( target ),
                result = '', addNum = cipher - str.length, i;
    
            for ( i = 0; i < addNum; ++i ) {
                result += fillStr;
            }
            return result += str;
        },
    
        /**
         * 카멜표기법을 하이픈표기법으로 변환하여 반환.
         * @param	{String}	target		대상 문자열
         * @return	{String}	fontSize -> font-size
         */
        hyphenCase: function ( target ) {
            target = String( target );
            return target.replace( /[A-Z]/g, function ( val ) {
                return '-' + val.toLowerCase();
            });
        },
    
        /**
         * 하이픈표기법을 카멜표기법으로 변환하여 반환.
         * @param	{String}	target		대상 문자열
         * @return	{String}	font-size -> fontSize
         */
        camelCase: function ( target ) {
            target = String( target );
            return target.replace(/-\b([a-z])/g, function (str) {
                return str.charAt(1).toUpperCase();
            });
        },
    
        /**
         * 단어의 첫글짜를 대문자로 변환
         * @param	{String}	target		대상 문자열
         * @return	{String}
         */
        capitalize: function ( target ) {
            target = String( target );
            return target.replace(/\b([a-z])/g, function (str) {
                return str.toUpperCase();
            });
        },
    
        /**
         * 해당문자열에 해당 언어가 포함되어있는지 체크<br>
         * 예).isLanguage("string", "en", "number")
         * @param	{String}		target		대상 문자열
         * @param	{String...}		languages	영문(en),한글(ko),숫자(number),특수문자(해당문자입력)
         * @return	{Boolean}
         */
        isLanguage: function () {
            var target = arguments[0],
                regStr = '', langNum = arguments.length, i;
    
            target = String(target);
    
            for (i = 1; i < langNum; ++i) {
                switch( arguments[i] ) {
                    case 'en':
                        regStr += 'A-Za-z';
                        break;
                    case 'ko':
                        regStr += 'ㄱ-ㅣ가-힣';
                        break;
                    case 'number':
                        regStr += '0-9';
                        break;
                    default:
                        regStr += arguments[i].replace( /[(){}[\]*+?.\\^$|,\-]/g, '\\$&' );
                        break;
                }
            }
            return new RegExp( '[' + regStr + ']' ).test( target );
        },
    
        /**
         * 해당 문자열에 일치하는 완전체 단어가 있는지 검사
         * 예)	.isWholeWord( "Hello World", "Hello" ); // true
         *		.isWholeWord( "Hello World", "He" ); // false
         * @param	{String}		target		대상 문자열
         * @param	{String, Array}	findStr		비교할 String or String Array, 문자열의 앞뒤로 공백이 들어가면 다른 문자열로 인식하여 false반환.
         * @param	{String}		flags		대소문자 구별하지 않으려면 "i", 멀티라인 검색은 "m"
         * @return	{Boolean}
         */
        isWholeWord: function ( target, findStr, flags ) {
            target = String( target );
    
            var num, i, strs, result = false;
    
            if ( $B.array.is(findStr) ) {
                strs = findStr;
                num = strs.length;
            } else {
                num = 1;
                strs = [findStr];
            }
    
            for ( i = 0; i < num; ++i ) {
                var str = strs[i].replace( /[(){}[\]*+?.\\^$|,\-]/g, '\\$&' );
                result = new RegExp( '(?:\\s|^)' + str + '(?:\\s|$)', flags || '' ).test( target );
                if ( !result ) return false;
            }
    
            return result;
        },
    
        /**
         * 문자열(수치)을 3자리 숫자 단위표기법으로 반환.
         * @param	{String, Number}		target		대상 문자열
         * @return	{String}
         */
        numberFormat: function ( target ) {
            var str = String(target),
                minus = '',
                temps = [], result = '';
    
            if (str.charAt(0) == '-') {
                minus = '-';
                str = str.substring(1);
            }
    
            temps = str.split('.');
            result = minus + $B.string.insert( temps[0], 3, ',', 'left', true );
    
            return ( temps[1] )? result += '.' + temps[1] : result;
        },
    
        /**
         * 대상 문자열에서 html태그를 모두 삭제
         * @param	{String}		target		대상 문자열
         * @return	{String}
         */
        removeTags: function ( target ) {
            target = String( target );
            return target.replace(/<[^>]+>/g, '');
        },
    
        /**
         * 문자열을 뒤집어 반환.('abc' to 'cba')
         * @param	{String}	target		대상 문자열
         * @return	{String}
         */
        strrev: function ( target ) {
            target = String( target );
            return target.split('').reverse().join('');
        },
    
        /**
         * 문자열의 앞뒤 white space삭제(탭, 띄어쓰기, \n, \r)
         * @param	{String}	target		대상 문자열
         * @return	{String}
         */
        trim: function ( target ) {
            target = String( target );
            return ( target )? target.replace(/^\s+/, '').replace(/\s+$/, '') : '';
        },
    
        /**
         * 16자의 고유 문자열 반환. (해당 화면에서 절대 유일값, alphabet + int 조합)
         * @return	{String}
         */
        unique: function () {
            var random = Math.random(),
                randomStr = random.toString( 32 ).substr( 2 ),
                alphabet = Math.round( Math.random() * 21 + 10 ).toString( 32 );//a~v
    
            if ( randomStr.length < 2 ) randomStr = 'i' + alphabet + 'x' + alphabet + 'b' + alphabet + 'a' + alphabet + 'n' + alphabet + 'd';
            var result = alphabet + __keyCount.toString( 32 ) + randomStr + randomStr + randomStr + randomStr;
            __keyCount++;
            return result.substr( 0, 15 ) + alphabet;
        },
    
        /**
         * 문자열을 각 데이타 타입에 맞춰 변환
         * @param {String}  str
         * @returns {Boolean, String, Number, Null, Undefined}
         */
        convertDataType: function ( str ) {
            str = String( str );
    
            if ( str ) {
                if ( /^\s*true\s*$/.test(str) ) {
                    str = Boolean( str );
                } else if ( /^\s*false\s*$/.test(str) ) {
                    str = Boolean();
                } else if ( /^\s*-*[0-9\.]+\s*$/.test(str) ) {
                    str = Number( str );
                } else if ( /^\s*null\s*$/.test(str) ) {
                    str = null;
                } else if ( /^\s*undefined\s*$/.test(str) ) {
                    str = undefined;
                }
            }
            return str;
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									object										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.object = {
        /**
         * 해당 값이 Object인지 여부 반환 (배열은 false)
         * @param	{Object}	obj
         * @returns {Boolean}
         */
        is: function ( obj, errorMsg ) {
            var result = Object.prototype.toString.call( obj ) === '[object Object]';
    
            if ( errorMsg && !result ) {
                warning( errorMsg );
                return false;
            } else {
                return result;
            }
        },
    
        /**
         * 순환 참조가 되지 않도록 Object 복사본을 반환.
         * 주의) instance는 제대로 복사되지 않는다.
         * @param	{Object}	value
         * @returns {Object}
         */
        clone: deepClone,
    
        /**
         * 두개의 Object를 확장 해서 (합쳐) 반환
         * @param {Object}	fromObj
         * @param {Object}	toObj	fromObj 와 같은 key를 가지고 있으면 toObj의 값이 우선이 된다.
         * @param {Boolean}	circularReference
         * 	순환참조를 유지할지 설정 (기본값 true)
         * 	순화참조를 하지 않을경우 object.clone()으로 복사된다.
         */
        extend: function ( fromObj, toObj, circularReference ) {
            circularReference = typeof circularReference === 'boolean' ? circularReference : true;
    
            var result = fromObj;
    
            if ( !circularReference ) {
                result = deepClone( fromObj );
                toObj = deepClone( toObj );
            }
    
            for ( var key in toObj ) {
                result[key] = toObj[key];
            }
    
            return result;
        },
    
        /**
         * Object를 배열로 변환하여 반환
         * @param   {Object}   obj
         * @param   {String}   target  ("value", "key") 기본값 "value"
         * @returns {Array}
         */
        toArray: function ( obj, target ) {
            var result = [];
            for ( var n in obj ) {
                result.push( target === 'key' ? n : obj[n] );
            }
    
            return result;
        },
    
        /**
         * Object의 key를 value로 value는 key로 변환하여 반환
         * @param   {Object}   obj
         * @returns {Object}
         */
        replaceKeyValue: function ( obj ) {
            var result = {};
            for ( var key in obj ) {
                var value = obj[key];
                result[value] = key;
            }
    
            return result;
        },
    
        length: function ( obj ) {
            var count = 0;
    
            for ( var n in obj ) {
                count++;
            }
    
            return count;
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									style										//
    // ############################################################################ //
    // ############################################################################ //
    
    ixBand.style = {
        REG_CSS: /([a-zA-Z\-]+)\s*?:\s*?([#\w\-.,\s\/?&:=\(\)%]+);?/g,
        REG_CSS_VALUE: /\s*?([-\d\.]+|#[\da-fA-F]+)\s*([a-zA-Z\%]+)?/,
    
        /**
         * 인라인스타일을 설정하거나 반환.
         * @param	{Element}	el			대상 Element
         * @param	{String}	propStr		"width:100px; z-index:2" 표기법, 설정하지 않으면 cssText반환
         * @return  {String}
         */
        inline: function ( el, propStr ) {
            var css = ( el && el.style )? el.style.cssText : '';
    
            //setter
            if ( $B.string.is(propStr) ) {
                propStr = $B.string.trim( propStr );
    
                if ( css && css.charAt( css.length-1 ) != ';' ) css += ';';//Opera에서는 css 속성끝에 ";"처리를 하지 않으면 에러가 난다.
                el.style.cssText = css + ' ' + propStr;
                //getter
            } else {
                return css;
            }
        },
    
        /**
         * 지정된 ComputedStyle을 보정없이 반환, 읽기전용
         * Style이 100%와 같은 형식으로 지정이 되어있다면, IE와 FF브라우져에서 다른값을 반환할수있다(IE=100%, FF=현재사이즈px).
         * 사파리, 크롬, z-index를 구할려면, position이 설정되어 있어야 한다. 아니면 'auto'라고 반환.
         * @param	{Element}	el			대상 Element
         * @param	{String}	property	기본값 all, z-index표기법 사용
         * @return	{Style, StyleValue}
         */
        current: function ( el, property ) {
            if ( window.getComputedStyle ) {
                this.current = function ( el, property ) {
                    var current = window.getComputedStyle( el, null );
                    if ( !current ) return;
    
                    return ( property )? current.getPropertyValue( property ) : current;
                };
    
                //IE6~8
            } else if ( document.documentElement.currentStyle ) {
                this.current = function ( el, property ) {
                    var current = el.currentStyle;
                    if ( !current ) return;
    
                    return ( property )? current[$B.string.camelCase(property)] : current;
                };
            }
    
            return this.current( el, property );
        },
    
        /**
         * 지정된 ComputedStyle을 보정(pixel)하여 반환 (IE6~8 전용), 읽기전용
         * 사파리, 크롬, z-index를 구할려면, position이 설정되어 있어야 한다. 아니면 'auto'라고 반환.
         * @param	{Element}	el			대상 Element
         * @param	{String}	property	기본값 all, z-index표기법 사용
         * @return	{Style, StyleValue}
         */
        computed: function ( el, property ) {
            var left, rs, rsLeft,
                result = $B.style.current( el, property ),
                style = el.style,
                name = $B.string.camelCase( property );
    
            if ( result == null && style && style[name] ) result = style[name];
    
            var core_pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                rposition = /^(top|right|bottom|left)$/,
                rnumnonpx = new RegExp( '^(' + core_pnum + ')(?!px)[a-z%]+$', 'i' );
    
            if ( rnumnonpx.test( result ) && !rposition.test( name ) ) {
                left = style.left;
                rs = el.runtimeStyle;
                rsLeft = rs && rs.left;
    
                if ( rsLeft ) rs.left = el.currentStyle.left;
    
                style.left = (name === 'fontSize')? '1em' : result;
                result = style.pixelLeft + 'px';
    
                style.left = left;
                if ( rsLeft ) rs.left = rsLeft;
            }
    
            if ( result == 'auto' && name == 'width' || name == 'height' ) {
                result = $B( el ).rect()[name] + 'px';
            }
    
            //color값에서 keyword를 16진수로 변환
            if ( /color/i.test(property) ) {
                var colorKey = $B.color.keyword( result );
                if ( colorKey )  result = colorKey;
            }
    
            return result;
        },
    
        /**
         * opacity(투명도)를 설정하거나 반환, IE6~8 크로스브라우징을 위해서 사용, ie6에서는 png핵을 이용한 png에만 적용가능
         * @param	{Element}	el			대상 Element
         * @param	{Number}	percent	0~1
         */
        opacity: function ( el, percent ) {
            if ( $B.ua.DOC_MODE_IE9_LT ) {
                this.opacity = function ( el, percent ) {
                    //setter
                    if ( percent || percent == 0 ) {
                        percent = Number(percent);
                        //el.style.opacity = percent;
    
                        var ralpha = /alpha\([^)]*\)/i,
                            style = el.style,
                            cStyle = el.currentStyle,
                            opacity = ( typeof percent === 'number' )? 'alpha(opacity=' + (percent * 100) + ')' : '',
                            filter = cStyle && cStyle.filter || style.filter || '', css = '';
    
                        //style.zoom = 1;
                        if ( percent >= 1 && $B.string.trim( filter.replace( ralpha, '' ) ) === '' ) {
                            style.removeAttribute( 'filter' );
                            if ( cStyle && !cStyle.filter ) return;
                        }
    
                        //style.filter = ralpha.test( filter )? filter.replace( ralpha, opacity ) : filter + ' ' + opacity;
                        css = ralpha.test( filter )? filter.replace( ralpha, opacity ) : filter + ' ' + opacity;
                        $B.style.inline( el, 'zoom: 1; filter:' + css );
    
                        //getter
                    } else {
                        var ropacity = /opacity\s*=\s*([^)]*)/;
                        return ropacity.test( (el.currentStyle ? el.currentStyle.filter : el.style.filter) || '' ) ?
                        0.01 * parseFloat( RegExp.$1 ) : 1;
                    }
                };
            } else {
                this.opacity = function ( el, percent ) {
                    //setter
                    if ( percent || percent == 0 ) {
                        el.style.opacity = percent;
                        //getter
                    } else {
                        return $B.style.current( el, 'opacity' );
                    }
                };
            }
    
            return this.opacity( el, percent );
        },
    
        /**
         * Style Properties를 {propName: {name, value, unit}} 형식으로 파싱해서 반환
         * @param	{String}		target		대상 스타일 문자열, 예)"width: 100px; height: 200px;"
         * @return	{Object}
         */
        parse: function ( target ) {
            var props = {};
    
            String(target).replace( this.REG_CSS, function ( str, n, v ) {
                var obj = $B.style.parseValue( v );
                props[ $B.string.camelCase(n) ] = {name: n, value: obj.value, unit: obj.unit};
            });
            return props;
        },
    
        /**
         * Style Property Value를 Object(value, unit)으로 파싱해서 반환
         * @param	{String}		target		대상 스타일값 문자열, 예)"100px"
         * @return	{Object}
         */
        parseValue: function ( target ) {
            var result = {},
                val = String( target );
    
            if ( val && val.indexOf('(') > -1 ) {
                result = {value: $B.string.trim(val), unit: ''};
            } else {
                val.replace( this.REG_CSS_VALUE, function (str, v, u) {
                    result = {value: $B.string.trim(v), unit: u || ''};
                });
            }
            return result;
        },
    
        /**
         * 인라인 스타일 property를 삭제.
         * @param	{Element}	el			대상 Element
         * @param	{String}	property		"z-index" 표기법
         */
        remove: function ( el, property ) {
            if ( el ) $B( el.style ).removeProp( property );
        }
    };


    // ############################################################################ //
    // ############################################################################ //
    // 									utils										//
    // ############################################################################ //
    // ############################################################################ //
    /**
     * @type	{utils}
     */
    ixBand.utils = {
        /**
         * 쿠키를 반환하거나 설정한다.
         * @param {String}	name			쿠키명
         * @param {String, Boolean, Number}	value			쿠키값 설정, encodeURIComponent로 인코딩되어 저장된다.
         * @param {Number}	expireMinutes	만료시간 설정, 30초 입력시 0.5, 값을 넣지 않으면 Session Cookie가 된다.
         * @param {String}	path			경로설정, 하위폴더에서도 해당 쿠키를 사용하기 위해서 설정, "/"로 시작해야 한다. ex: "/sub/", 기본값 "/"
         * @param {String}	domain			서브도메인을 설정
         * @param {Boolean} secure          SSL을 이용하여 서버에 쿠키를 전송
         * @return	{String}	cookieValue, decodeURIComponent로 디코딩되어 반환, 찾지 못하면 undefined
         */
        cookie: function ( name, value, expireMinutes, path, domain, secure ) {
            //setter
            if ( typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean' ) {
                var min = ( expireMinutes || expireMinutes == 0 )? Number( expireMinutes ) : '',
                    today = new Date(),
                    result = name + '=' + encodeURIComponent( value ) + '; path=' + ( path || '/' ) + ';';
    
                if ( typeof min === 'number' ) {
                    today.setSeconds( today.getSeconds() + (min * 60) );
                    result += ' expires=' + today.toUTCString() + ';';
                }
    
                if ( typeof domain === 'string' && domain.length > 0 ) result += ' domain=' + domain + ';';
                if ( secure === true )  result += ' secure';
    
                document.cookie = result;
    
                //getter
            } else {
                var reg = new RegExp( '(?:' + name + '=)([\\w\\W][^;]*)' ),
                    result = undefined;
    
                document.cookie.replace( reg, function ( fs, v ) {
                    result = decodeURIComponent( v );
                });
                return result;
            }
        },
    
        /**
         * target과 자식들의 Custom Attribute 검색후 삭제
         * @param	{Array}		els			대상 Element 배열
         * @param	{Array}		attrs		Attribute Name 배열
         * @param	{Boolean}	childAttr	자식들도 검색할건지 설정, 기본 false
         */
        removeCustomAttribute: function ( els, attrs, childAttr ) {
            var i, j, elNum = els.length, children, attrNum = attrs.length;
    
            for ( i = 0; i < elNum; ++i ) {
                var el = els[i];
    
                for ( j = 0; j < attrNum; ++j ) {
                    var prop =  attrs[j];
    
                    if ( $B( el ).attr( prop ) ) {
                        $B( el ).removeAttr( prop );
                    }
                }
    
                if ( childAttr ) {
                    children = el.children;
                    if ( children.length > 0 ) {
                        $B.utils.removeCustomAttribute( children, attrs, true );
                    }
                }
            }
        },
    
        /**
         * IE7~8 PNG Opacity 버그 핵, img와 background-img에 적용가능, IE9부터는 동작하지 않게 분기되어 있다.
         * background가 적용되어있으면 아래의 버그핵을 적용하지 않아도 된다.
         * <버그핵이 정상적으로 반영되기 위한조건>
         * 1. 투명 PNG이미지는 반드시 Node에 싸서 Node에 Opacity를 줘야 한다.
         * 2. ie8에서 이미지에 position을 주면 안된다.
         * 3. ie8에서 filter상속 부분때문에.. 자식들에게 filter: inherit를 써준다.
         * 4. ie7에서 자식들에게 필터 상속을 하려면 부모의 positon을 꼭 써줘야 한다.
         * @param	{Selector || Array || Element}	target		대상들
         * @param	{Boolean}	overlay		기본값 true, false설정시 그림자가 진해지는 현상은 제거할수 있으나 이미지에 따라 제대로 핵이 안될수도 있다.
         */
        hackPNGOpacity: function ( target, overlay ) {
            if ( !$B.ua.DOC_MODE_IE9_LT ) return;
            overlay = ( overlay == false )? false : true;
            var imgs, i, imgNum;
    
            if ( typeof target === 'string' ) {
                imgs = $B( document ).selectorAll( target );
            } else if ( $B.array.is(target) ) {
                imgs = target;
            } else {
                imgs = [target];
            }
    
            imgNum = imgs.length;
    
            for ( i = 0; i < imgNum; ++i ) {
                var img = imgs[i], imgSrc = '', bg_style;
    
                if ( img.nodeName ) {
                    if ( img.nodeName == 'IMG' ) {
                        if ( img.src ) imgSrc = img.src;
                    } else {
                        bg_style = $B.style.current( img, 'background-image' );
                        if ( bg_style.indexOf('url') > -1 ) imgSrc = bg_style.split('"')[1];
                    }
    
                    if ( /.png|.PNG/.test(imgSrc) ) {
                        if ( overlay ) imgSrc = '';
                        img.style.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled="true",sizingMethod="scale",src="' + imgSrc + '")';
                    }
                }
            }
        },
    
        /**
         * url의 parameter 의 값을 반환하거나, object를 조합하여 url parameter string으로 반환
         * @param {String, Object}    value
         * @return  {*}
         */
        urlParam: function ( value ) {
            if ( $B.isObject(value) ) {
                var str = location.search;
    
                str = ( /^\?[^\?\=]+\=/.test(str) )? str + '&' : '?' + str;
    
                for ( var key in value ) {
                    str += key + '=' + value[key] + '&';
                }
    
                return str.replace( /\&$/, '' );
            } else {
                var result = {};
                location.search.replace( /(\w*)\=([^&]*)/g, $B.bind(function ( str, prop, val ) {
                    if ( prop ) result[prop] = $B.string.convertDataType( val );
                }, this));
    
                if ( typeof value === 'string' ) {
                    if ( result[value] ) {
                        result = result[value];
                    } else {
                        result = '';
                    }
                }
    
                return result;
            }
        }
    };


    // ============================================================== //
    // =====================		Ease	========================= //
    // ============================================================== //
    /**
     * Easing
     * http://code.google.com/p/tweener/
     * @type	{ease}
     * @param	{Number}	t	Current time (in frames or seconds).
     * @param	{Number}	b	Starting value.
     * @param	{Number}	c	Change needed in value.
     * @param	{Number}	d	Expected easing duration (in frames or seconds).
     * @return	{Number}	The correct value.
     */
    ixBand.utils.ease = {
        none: function(t, b, c, d) {
            return c*t/d + b;
        },
        yoyo: function(t, b, c, d) {
            return ixBand.utils.ease.quadOut(t, b, c, d/2);
        },
        bounceIn: function(t, b, c, d) {
            return c - ixBand.utils.ease.bounceOut(d-t, 0, c, d) + b;
        },
        bounceOut: function(t, b, c, d) {
            if((t/=d) <(1/2.75)) {
                return c*(7.5625*t*t) + b;
            } else if(t <(2/2.75)) {
                return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;
            } else if(t <(2.5/2.75)) {
                return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;
            } else {
                return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;
            }
        },
        bounceInOut: function(t, b, c, d) {
            if(t < d/2) return ixBand.utils.ease.bounceIn(t*2, 0, c, d) * .5 + b;
            else return ixBand.utils.ease.bounceOut(t*2-d, 0, c, d) * .5 + c*.5 + b;
        },
        cubicIn: function(t, b, c, d) {
            return c*(t/=d)*t*t + b;
        },
        cubicOut: function(t, b, c, d) {
            return c*((t=t/d-1)*t*t + 1) + b;
        },
        cubicInOut: function(t, b, c, d) {
            if((t/=d/2) < 1) return c/2*t*t*t + b;
            return c/2*((t-=2)*t*t + 2) + b;
        },
        elasticIn: function(t, b, c, d, a, p) {
            var s;
            if(t==0) return b;  if((t/=d)==1) return b+c;  if(!p) p=d*.3;
            if(!a || a < Math.abs(c)) { a=c; s=p/4; } else s = p/(2*Math.PI) * Math.asin(c/a);
            return -(a*Math.pow(2,10*(t-=1)) * Math.sin((t*d-s)*(2*Math.PI)/p )) + b;
        },
        elasticOut: function(t, b, c, d, a, p) {
            var s;
            if(t==0) return b;  if((t/=d)==1) return b+c;  if(!p) p=d*.3;
            if(!a || a < Math.abs(c)) { a=c; s=p/4; } else s = p/(2*Math.PI) * Math.asin(c/a);
            return(a*Math.pow(2,-10*t) * Math.sin((t*d-s)*(2*Math.PI)/p ) + c + b);
        },
        elasticInOut: function(t, b, c, d, a, p) {
            var s;
            if(t==0) return b;  if((t/=d/2)==2) return b+c;  if(!p) p=d*(.3*1.5);
            if(!a || a < Math.abs(c)) { a=c; s=p/4; }       else s = p/(2*Math.PI) * Math.asin(c/a);
            if(t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin((t*d-s)*(2*Math.PI)/p )) + b;
            return a*Math.pow(2,-10*(t-=1)) * Math.sin((t*d-s)*(2*Math.PI)/p )*.5 + c + b;
        },
        quadIn: function(t, b, c, d) {
            return c*(t/=d)*t + b;
        },
        //Default
        quadOut: function(t, b, c, d) {
            return -c *(t/=d)*(t-2) + b;
        },
        quadInOut: function(t, b, c, d) {
            if((t/=d/2) < 1) return c/2*t*t + b;
            return -c/2 *((--t)*(t-2) - 1) + b;
        },
        backIn: function(t, b, c, d, s) {
            if(s == undefined) s = 1.70158;
            return c*(t/=d)*t*((s+1)*t - s) + b;
        },
        backOut: function(t, b, c, d, s) {
            if(s == undefined) s = 1.70158;
            return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;
        },
        backInOut: function(t, b, c, d, s) {
            if(s == undefined) s = 1.70158;
            if((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;
            return c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;
        }
    };


    // ============================================================== //
    // =====================	Between			===================== //
    // ============================================================== //
    
    /**
     * 구간을 설정하고, 구간에 해당되면 이벤트를 발생시킨다.
     * Event : activate (구간에 진입시 한번만 발생), deactivate (구간에 진입시 한번만 발생), between (구간에 진입시 계속해서 발생)
     * Event Properties : e.percent, e.totalPercent, e.index, e.value, e.data
     * @param   {Array} positions   포지션 데이타 배열, [{min:Number, max:Number, data:*}, ...
     */
    ixBand.utils.Between = $B.Class.extend({
        _startValue: 0,
        _endValue: 0,
        _disabled: false,
        _activeIndex: -1,
    
        initialize: function ( positions ) {
            this.update( positions );
            this._evtData = {empty: true};
            return this;
        },
    
        // ==================== Public Methods ==================== //
        /**
         * 포지션 데이타 갱신
         * @param   {Array} positions   포지션 데이타 배열, [{min:Number, max:Number, data:*}, ...
         */
        update: function ( positions ) {
            if ( $B.isArray(positions) && !$B.isEmpty(positions) ) {
                this._startValue = positions[0].min;
                this._endValue = positions[positions.length - 1].max;
                this._positions = positions.concat([]);
            }
            return this;
        },
        /**
         * 기준 수치를 갱신하여 이벤트를 발생시킨다. (positions, baseValue 둘중에 하나라도 값의 변화가 있어야 동작한다.)
         * @param   {Number} baseValue   기준이 되는 수치 갱신
         */
        trigger: function ( baseValue ) {
            if ( !$B.isEmpty(baseValue) ) {
                this._calculate( baseValue );
            }
            return this;
        },
        /**
         * 이벤트 발생 허용
         */
        enable: function () {
            this._disabled = false;
            return this;
        },
        /**
         * 이벤트 발생 차단
         */
        disable: function () {
            this._disabled = true;
            return this;
        },
    
        // ==================== Private Methods ==================== //
    
        _isEqual: function ( datas ) {
            var result = true;
    
            for ( var key in datas ) {
                if ( key !== 'data' ) {
                    if ( this._evtData[key] !== datas[key] ) {
                        result = false;
                        break;
                    }
                }
            }
    
            return result;
        },
    
        _calculate: function ( value ) {
            if ( !$B.isArray(this._positions) ) return;
            var activeData = this._getActiveData( value );
    
            if ( activeData.activeIndex > -1 ) {
                //activate
                this._dispatch( 'activate', activeData, value );
            } else {
                //deactivate
                this._dispatch( 'deactivate', activeData, value );
            }
        },
    
        _getActiveData: function ( value ) {
            var result = {activeIndex: -1},
                posLength = this._positions.length;
    
            for ( var i = 0; i < posLength; ++i ) {
                var pos = this._positions[i];
                if ( pos.min <= value && pos.max >= value ) {
                    result.activeIndex = i;
                    result.data = pos;
                    break;
                }
            }
    
            return result;
        },
    
        _valueToPercent: function ( min, max, value ) {
            return (value - min) / (max - min);
        },
    
        _dispatch: function ( type, datas, value ) {
            if ( this._disabled ) return;
    
            var evtData, isBetween;
    
            if ( type === 'activate' ) {
                evtData = {
                    percent: this._valueToPercent( datas.data.min, datas.data.max, value ),
                    totalPercent: this._valueToPercent( this._startValue, this._endValue, value ),
                    value: value,
                    index: datas.activeIndex,
                    data: datas.data.data
                };
            } else {
                evtData = {};
            }
    
            isBetween = type === 'activate' && !this._isEqual( evtData );
    
            if ( this._activeIndex !== datas.activeIndex ) {
                this.dispatch( type, evtData );
                if ( !isBetween ) this._evtData = evtData;
            }
    
            if ( isBetween ) {
                this.dispatch( 'between', evtData );
                this._evtData = evtData;
            }
    
            this._activeIndex = datas.activeIndex;
        }
    
    }, '$B.utils.Between');


    // ============================================================== //
    // =====================	Delay		========================= //
    // ============================================================== //
    /**
     * Delay<br>
     * 지정한 시간이 지난후 Function실행후 Timer는 자동 삭제 된다.
     * @class	{Delay}
     * @constructor
     */
    ixBand.utils.Delay = $B.Class.extend({
        initialize: function () {
            this._delays = {};
            this._count = 0;
            return this;
        },
    
        // ===============	Public Methods =============== //
        /**
         * Delay 시작, 고유 아이디 반환
         * @param	{Number}		delay		1000/1초
         * @param	{Function}		callback	실행할 함수
         * @param	{*}				data		핸들러에서 전달받을 data
         * @return	{Int}			id			고유아이디 반환
         */
        start: function ( delay, callback, data ) {
            data = ( data || data == 0 )? data : null;
            this._count++;
            var count = this._count;
            var _this = this;
    
            this._delays[count] = setTimeout(function () {
                callback.call( _this, {data: data});
                _this.clear(count);
            }, delay);
            return count;
        },
        /**
         * 진행중인 Delay 를 모두 중지, 삭제한다.
         * @param	{Int}	id	아이디를 넣으면 해당 아이디를 가지는 Delay만 정지,삭제<br>넣지 않으면 모두삭제
         */
        clear: function (id) {
            if ( id ) {
                if ( this._delays[id] ) {
                    clearTimeout(this._delays[id]);
                    delete this._delays[id];
                }
            } else {
                for ( id in this._delays ) {
                    clearTimeout(this._delays[id]);
                    delete this._delays[id];
                }
            }
            return this;
        }
    }, '$B.utils.Delay');


    // ============================================================== //
    // =====================	RemainTimer	========================= //
    // ============================================================== //
    /**
     * Dday, 1초에 한번 이벤트 발생<br>
     * Event : timer, complete
     * Event Property : type, target, day, hour, minute, second
     * @class	{RemainTimer}
     * @constructor
     * @param	{Int}		startTime	시작시간, UTC milisecond형식
     * @param	{Int}		finishTime	완료시간, UTC milisecond형식
     */
    ixBand.utils.RemainTimer = $B.Class.extend({
        DELAY: 1000,
    
        initialize: function ( startTime, finishTime ) {
            this._startTime = startTime;
            this._finishTime = finishTime;
            this._beginTime = startTime;
            this._finishTime = finishTime;
            this._delay = this.DELAY;
            this._interval = null;
            this._running = false;
    
            this._handler = $B.bind(function (e) {
                var dday = this._getTime();
                dday.target = this;
                this.dispatch( 'timer', dday );
    
                if ( dday._gap <= 0 ) {
                    this.stop();
                    this.dispatch( 'complete', dday );
                }
            }, this);
            return this;
        },
    
        // ===============	Public Methods	=============== //
    
        /** Timer 시작, 이미 실행중이면 다시 시작하지 않는다. */
        start: function () {
            if ( !this._interval ) this._interval = setInterval( this._handler, this._delay );
            this._running = true;
            return this;
        },
        /** Timer 정지, currentCount는 재설정 하지 않는다. */
        stop: function () {
            if ( this._interval ) clearInterval( this._interval );
            this._interval = null;
            this._running = false;
            return this;
        },
        /** Stop후 currentCount = 0
         * @param	{Number}	startTime		시작시간 재설정, UTC milisecond형식, 설정하지 않으면 처음 설정했던 시작시간으로 되돌아 간다.
         * @param	{Number}	finishTime		완료시간 재설정, UTC milisecond형식, 설정하지 않으면 처음 설정했던 완료시간으로 되돌아 간다.
         * @return	this
         */
        reset: function ( startTime, finishTime ) {
            this.stop();
            this._reset( startTime, finishTime );
            return this;
        },
        /** 타이머가 실행 중이면 true반환 */
        running: function () {
            return this._running;
        },
    
        // ===============	Private Methods	=============== //
    
        _getTime: function () {
            var day, hour, minute, second,
                gapTime = this._finishTime - ( this._beginTime += this.DELAY );
    
            if ( gapTime <= 0 ) {
                return {_gap: 0, day: 0, hour: 0, minute: 0, second: 0};
            } else {
                day = Math.floor( gapTime / 1000 / 60 / 60 / 24 );
                hour = Math.floor( gapTime / 1000 / 60 / 60 - (24 * day) );
                minute = Math.floor( gapTime / 1000 / 60 - (24 * 60 * day ) - (60 * hour) );
                second = Math.floor( gapTime / 1000 - (24 * 60 * 60 * day) - (60 * 60 * hour) - (60 * minute) );
                return {_gap: gapTime, day: day, hour: hour, minute: minute, second: second};
            }
        },
    
        _reset: function ( begin, finish ) {
            this._beginTime = ( typeof begin === 'number' )? begin : this._startTime;
            this._finishTime = ( typeof finish === 'number' )? finish : this._finishTime;
        }
    }, '$B.utils.RemainTimer');


    // ============================================================== //
    // =====================	Timer		========================= //
    // ============================================================== //
    /**
     * Timer<br>
     * Event : timer, complete
     * Event Property : type, target, currentCount, data
     * @class	{Timer}
     * @constructor
     * @param	{Number}	delay		1000/1초
     * @param	{Int}		repeatCount	반복횟수, 0은 무한반복
     * @param	{Object}	data		이벤트 핸들어서 전달 받을 데이타
     */
    ixBand.utils.Timer = $B.Class.extend({
        initialize: function ( delay, repeatCount, data ) {
            this._delay = delay;
            this._repeatCount = repeatCount || 0;
            this._data = data;
            this._interval = null;
            this._running = false;
            this._count = 0;
    
            this._setEvents();
            return this;
        },
    
        // ===============	Public Methods	=============== //
    
        /** Timer 시작, 이미 실행중이면 다시 시작하지 않는다. */
        start: function () {
            if (!this._interval) this._interval = setInterval(this._handler, this._delay);
            this._running = true;
            return this;
        },
        /** Timer 정지, currentCount는 재설정 하지 않는다. */
        stop: function () {
            if (this._interval) clearInterval(this._interval);
            this._interval = null;
            this._running = false;
            return this;
        },
        /** Stop후 currentCount = 0
         * @return	this
         */
        reset: function () {
            this.stop();
            this._resetCount();
            return this;
        },
        /** 타이머가 실행 중이면 true반환 */
        running: function () {
            return this._running;
        },
    
        // ===============	Private Methods	=============== //
    
        _setEvents: function () {
            this._handler = $B.bind(function (e) {
                ++this._count;
                this.dispatch( 'timer', {target: this, currentCount: this._count, data: this._data} );
                if ( this._repeatCount > 0 && this._repeatCount == this._count ) {
                    this.stop();
                    this.dispatch( 'complete', {target: this, currentCount: this._count, data: this._data} );
                }
            }, this);
        },
    
        _resetCount: function () {
            this._count = 0;
        }
    }, '$B.utils.Timer');


    // ============================================================== //
    // =====================	TweenCore	========================= //
    // ============================================================== //
    /**
     * TweenCore
     * Event : tween, complete, seekcomplete
     * Event Property : type, target, currentValue, progress=시간진행률, percent, currentCount, totalCount, data
     * @class	{TweenCore}
     * @constructor
     * @param	{Number}		duration	동작되는 시간, 초
     * @param	{Number}		begin		출발값
     * @param	{Number}		finish		도착값
     * @param	{Object}		option		ease: ixBand.utils.ease 선택, 추가 하여 사용
     * @param	{Object}		data		이벤트핸들러에서 전달받을수 있다. e.data
     */
    ixBand.utils.TweenCore = $B.Class.extend({
        initialize: function ( duration, begin, finish, option, data ) {
            this._duration = duration;
            this._begin = begin;
            this._finish = finish;
            this._option = option || {};
            this._ease = this._option.ease || $B.utils.ease.quadOut;
            this._data = ( $B.isEmpty(data) )? null : data;
    
            this._finishValue = 0;
            this._cValue = 0;
            this._fps = 0;
            this._loopTime = 0;
            this._currentCount = 0;
            this._interval = null;
            this._progress = 0;
            this._percent = 0;
            this._totalCount = 0;
            this._seekCount = 0;
            this._forward = null;
            this._delay = null;
    
            this._delayTime = 0;
            this._delayCallback = null;
            this._seekCom = false;//true면 seekcomplete 발생
    
            this._setValue( this._begin, this._finish );
            //기본 fps PC : 60, Mobile : 30
            this._setFPS( ($B.ua.MOBILE_IOS || $B.ua.ANDROID) ? 30 : 60 );
            this._setEventsHandler();
            return this;
        },
    
        // ===============	Public Methods =============== //
    
        /** 해당 초만큼 지연시킨후 다음 Method실행, 한명령줄에 하나의 delay만 사용한다.
         * @param	{Number}	time		초단위, 예) 0.5초
         * @param	{Function}	callback	delay가 끝나는 이벤트 전달
         * @return	this
         */
        delay: function ( time, callback ) {
            this._delayTime = time * 1000;
            if ( callback ) this._delayCallback = callback;
            return this;
        },
        /** 시작(리셋후)
         * @return	this
         */
        start: function () {
            this.reset();
            this.seek( 1, 'not' );
            return this;
        },
        /** 정지
         * @return	this
         */
        stop: function () {
            this._clearDelay();
            this._timerStop();
            return this;
        },
        /** Stop후 0
         * @return	this
         */
        reset: function () {
            this._clearDelay();
            this._timerStop();
            this._reset();
            return this;
        },
        /**
         * 해당탐색 구간으로 Tween
         * @param	{Number}	progress 0~1
         * @return	this
         */
        seek: function ( progress, seekCom ) {
            if ( progress < 0 ) {
                progress = 0;
            } else if ( progress > 1 ) {
                progress = 1;
            }
    
            this._seekCom = ( seekCom === 'not' )? false : true;
            this._setSeekValue( progress );
            //this._clearDelay();
    
            if ( this._delayTime > 0 ) {
                this._startDelay( this._timerStart, this._delayTime );
            } else {
                this._timerStart();
            }
            return this;
        },
        /**
         * 해당탐색 구간으로 즉시 이동
         * @param	{Number}	progress 0~1
         * @return	this
         */
        seekTo: function ( progress ) {
            if ( progress < 0 ) {
                progress = 0;
            } else if ( progress > 1 ) {
                progress = 1;
            }
    
            this._seekCom = true;
            this._setSeekValue( progress );
            //this._clearDelay();
    
            if ( this._delayTime > 0 ) {
                this._startDelay( this._to, this._delayTime );
            } else {
                this._to();
            }
            return this;
        },
        /** progress가 0이면 1, 1이면 0으로 Tween
         * @return	this
         */
        toggle: function () {
            var per = 0;
    
            if ( this._forward == null ) {
                per = ( this._progress == 0 )? 1 : 0;
            } else {
                per = ( this._forward )? 0 : 1;
            }
    
            this.seek( per );
            return this;
        },
        /**
         * value 재설정
         * @param	{Number}	begin	출발값
         * @param	{Number}	finish	도착값
         * @param	{Object}	data	이벤트핸들러에서 전달받을수 있다. e.data
         * @return	this
         */
        value: function ( begin, finish, data ) {
            this._setValue( begin, finish, data );
            return this;
        },
        /**
         * FPS설정
         * @param	{Int}	frame	기본 fps PC : 60, Mobile : 30
         * @return	{Int, this}
         */
        fps: function ( frame ) {
            if ( $B.isNumber(frame) ) {
                this._setFPS( frame );
                return this;
            } else {
                return this._fps;
            }
        },
    
        // ===============	Private Methods =============== //
        _setEventsHandler: function () {
            this._timerStart = $B.bind(function () {
                //delayComplete
                if ( this._delayCallback ) this._delayCallback.call( this, {type: 'delay', data: this._data} );
                this._clearDelay();
    
                if ( this._duration <= 0 ) {
                    this._cValue = finish;
                    this._progress = 1;
                    this._percent = 1;
    
                    this.dispatch( 'tween', {target: this, currentValue: this._cValue, progress: this._progress, percent: this._percent, currentCount: this._currentCount, totalCount: this._totalCount, data: this._data} );
                    this.dispatch( 'complete', {target: this, currentValue: this._cValue, progress: this._progress, percent: this._percent, currentCount: this._currentCount, totalCount: this._totalCount, data: this._data});
                } else {
                    if ( !this._interval ) this._interval = setInterval( this._intervalHandler, this._loopTime );
                }
            }, this);
    
            this._to = $B.bind(function () {
                //delayComplete
                if ( this._delayCallback ) this._delayCallback.call( this, {type: 'delay', data: this._data} );
                this._clearDelay();
    
                this._currentCount = this._seekCount;
                this._intervalHandler();
            }, this);
    
            this._intervalHandler = $B.bind(function (e) {
                this._cValue = this._ease.call( this, this._currentCount, this._begin, this._finishValue, this._totalCount );
                this._percent = ( this._finishValue == 0 )? 1 : ( this._cValue - this._begin ) / this._finishValue;
                this._progress = this._currentCount / this._totalCount;
    
                var evt = {target: this, currentValue: this._cValue, progress: this._progress, percent: this._percent, currentCount: this._currentCount, totalCount: this._totalCount, data: this._data };
                //tween
                this.dispatch( 'tween', evt );
                //complete
                if ( this._currentCount >= this._totalCount && this._seekCount == this._totalCount ) {
                    this._timerStop();
                    this.dispatch( 'complete', evt );
                    if ( this._seekCom ) this.dispatch( 'seekcomplete', evt );
                //seek
                } else {
                    if ( this._currentCount == this._seekCount ) {
                        this._timerStop();
                        if ( this._seekCom ) this.dispatch( 'complete', evt );
                        return;
                    }
                    if ( this._forward != null ) this._currentCount = ( this._forward )? ++this._currentCount : --this._currentCount;
                }
            }, this);
        },
    
        _setValue: function ( v_begin, v_finish, v_values ) {
            this._begin = ( $B.isNumber(v_begin) )? v_begin : this._cValue;
            if ( $B.isNumber(v_finish) ) this._finish = v_finish;
            if ( !$B.isEmpty(v_values) ) this._data = v_values;
    
            this._finishValue = this._finish - this._begin;
        },
    
        _timerStop: function () {
            if ( this._interval ) {
                clearInterval( this._interval );
                this._interval = null;
            }
        },
    
        _reset: function () {
            this._forward = null;
            this._cValue = this._begin;
            this._progress = 0;
            this._percent = 0;
            this._currentCount = 0;
        },
    
        _setSeekValue: function ( per ) {
            this._seekCount = Math.round( this._totalCount * per );
    
            if ( this._seekCount > this._currentCount ) {
                this._forward = true;
            } else if ( this._seekCount < this._currentCount ) {
                this._forward = false;
            } else {
                this._forward = null;
            }
        },
    
        _startDelay: function ( callBack, time ) {
            if ( !this._delay ) this._delay = setTimeout( callBack, time );
        },
    
        _clearDelay: function () {
            if ( this._delay ) {
                clearTimeout( this._delay );
                this._delay = null;
            }
            this._delayTime = 0;
            this._delayCallback = null;
        },
    
        _setFPS: function ( val ) {
            this._fps = val;
            this._loopTime = Math.ceil( 1000 / this._fps );
            this._totalCount = Math.ceil( (this._duration * 1000) / this._loopTime );
        }
    }, '$B.utils.TweenCore');


    // ============================================================== //
    // =====================	TweenCSS	========================= //
    // ============================================================== //
    /**
     * CSS기반 Tweener
     * ie7에서 동작하지 않을시 대상에 position을 설정하면 된다.
     * Event : tween, complete, seekcomplete
     * Event Property : type, target, progress=시간진행률, percent, currentCount, totalCount, data
     * @class	{TweenCSS}
     * @constructor
     * @param	{Selector, Element, jQuery}	target			대상
     * @param	{Number}			duration		동작되는 시간, 초
     * @param	{String}			begin_props		출발값들, null을 설정하면 대상의 스타일 속성을 검색(해당스타일 속성이 없으면 에러)
     * @param	{String}			finish_props	도착값들
     * @param	{Object}			option			ease: ixBand.utils.ease 선택, 추가 하여 사용
     * @param	{Object}			data			이벤트핸들러에서 전달받을수 있다. e.data
     */
    ixBand.utils.TweenCSS = $B.Class.extend({
        initialize: function ( target, duration, begin_props, finish_props, option, data ) {
            this._target = $B( target ).element();
            this._duration = duration;
            this._option = option;
            this._data = data;
    
            this._b_props = [];
            this._f_props = [];
            this._propLength = 0;
    
            //스타일속성, 값, 단위 분리
            this.addProp( begin_props, finish_props );
            this._addEvents();
            return this;
        },
    
        // ===============	Public Methods =============== //
    
        /** 해당 초만큼 지연시킨후 다음 Method실행, 한명령줄에 하나의 delay만 사용한다.
         * @param	{Number}	time		초단위, 예) 0.5초
         * @param	{Function}	callback	delay가 끝나는 이벤트 전달
         * @return	this
         */
        delay: function ( time, callback ) {
            this._tweenCore.delay( time, callback );
            return this;
        },
        /** 시작(리셋후)
         * @return	this
         */
        start: function () {
            this._tweenCore.start();
            return this;
        },
        /** 정지
         * @return	this
         */
        stop: function () {
            this._tweenCore.stop();
            return this;
        },
        /** Stop후 0
         * @return	this
         */
        reset: function () {
            this._tweenCore.reset();
            return this;
        },
        /**
         * 해당탐색 구간으로 Tween
         * @param	{Number}	progress 0~1
         * @return	this
         */
        seek: function ( progress ) {
            this._tweenCore.seek( progress );
            return this;
        },
        /**
         * 해당탐색 구간으로 즉시 이동
         * @param	{Number}	progress 0~1
         * @return	this
         */
        seekTo: function ( progress ) {
            this._tweenCore.seekTo( progress );
            return this;
        },
        /** progress가 0이면 1, 1이면 0으로 Tween
         * @return	this
         */
        toggle: function () {
            this._tweenCore.toggle();
            return this;
        },
    
        /**
         * FPS설정
         * @param	{Int}	frame	기본 fps PC : 60, Mobile : 30
         * @return	{Int, this}
         */
        fps: function ( frame ) {
            if ( $B.isNumber(frame) ) {
                this._tweenCore.fps( frame );
                return this;
            } else {
                return this._tweenCore.fps();
            }
        },
    
        /**
         * 스타일 속성들 추가<br>
         * 예)'width: 100px; z-index: 3;'
         * @param	{String}	begin_props
         * @param	{String}	finish_props
         * @return	this
         */
        addProp: function ( begin_props, finish_props ) {
            var b_props = ( begin_props )? $B.style.parse( begin_props ) : [],
                f_props = $B.style.parse( finish_props ), n;
    
            for ( n in f_props ) {
                var f_property = f_props[n],
                    b_property = b_props[n];
    
                if ( !b_property ) b_property = this._getTweenStyle( this._target, f_property );
                //Color
                if( f_property.name.indexOf('color') > -1 ) {
                    var cType = $B.color.type( f_property.value );
    
                    if ( $B.ua.DOC_MODE_IE9_LT && cType == 'rgba' ) cType = 'rgb';
    
                    f_property.unit = 'color';
                    f_property.colorType = cType;
                } else {
                    b_property.value = Number( b_property.value );
                    f_property.value = Number( f_property.value ) - b_property.value;
                }
    
                //Scroll
                var cName = $B.string.camelCase( b_property.name );
                if ( cName == 'scrollTop' || cName == 'scrollLeft' ) {
                    b_property.name = cName;
                    f_property.name = $B.string.camelCase( f_property.name );
                }
    
                this._addProperty( b_property, f_property );
            }
            return this;
        },
        /**
         * 스타일속성들 삭제<br>
         * 'z-index' 표기법 사용
         * @param	{String...}		propName
         * @return	this
         */
        removeProp: function () {
            var args = arguments,
                argNum = args.length, i;
    
            for ( i = 0; i < argNum; ++i ) {
                var delIdx = this._propertyIndexOf( args[i] );
    
                if ( delIdx > -1 ) {
                    this._b_props.splice( delIdx, 1 );
                    this._f_props.splice( delIdx, 1 );
                }
            }
    
            this._propLength = this._f_props.length;
            return this;
        },
    
        // ===============	Private Methods =============== //
        _addEvents: function () {
            this._tweenHandler = $B.bind(function (e) {
                var i, c_value;
                for ( i = 0; i < this._propLength; ++i ) {
                    var f_property = this._f_props[i],
                        b_property = this._b_props[i],
                        fName = f_property.name,
                        fValue = f_property.value;
    
                    //Color
                    if( f_property.unit == 'color' ) {
                        c_value = $B.color.mix( b_property.value, fValue, e.percent, f_property.colorType );
                    } else {
                        c_value = ( fValue * e.percent + b_property.value ) + f_property.unit;
                    }
    
                    //Opacity
                    if ( fName == 'opacity' ) {
                        $B.style.opacity( this._target, fValue * e.percent + b_property.value );
                        //ScrollTop
                    } else if ( fName == 'scrollTop' ) {
                        $B( this._target ).scrollTop( Number(c_value) );
                        //ScrollLeft
                    } else if ( fName == 'scrollLeft' ) {
                        $B( this._target ).scrollLeft( Number(c_value) );
                    } else {
                        this._target.style[f_property.styleName] = c_value;
                    }
                }
    
                this.dispatch( e.type, e );
            }, this);
    
            this._tweenCore = new $B.utils.TweenCore( this._duration, 0, 1, this._option, this._data )
                    .addListener( 'tween', this._tweenHandler )
                    .addListener( 'complete', this._tweenHandler )
                    .addListener( 'seekcomplete', this._tweenHandler );
        },
    
        //스타일속성이 있는지 체크후 index반환, 없을시 -1
        _propertyIndexOf: function ( propName ) {
            var result = -1, i;
            for ( i = 0; i < this._propLength; ++i ) {
                if ( this._f_props[i].name == propName ) {
                    result = i;
                    break;
                }
            }
            return result;
        },
    
        //스타일속성 배열에 넣기
        _addProperty: function ( begin_prop, finish_prop ) {
            var findIdx = this._propertyIndexOf( finish_prop.name ),
                styleName = $B.string.camelCase( finish_prop.name );
    
            begin_prop.styleName = styleName;
            finish_prop.styleName = styleName;
    
            if ( findIdx == -1 ) {
                this._b_props.push( begin_prop );
                this._f_props.push( finish_prop );
            } else {
                this._b_props[findIdx] = begin_prop;
                this._f_props[findIdx] = finish_prop;
            }
    
            this._propLength = this._f_props.length;
        },
    
        /**
         * 현재 객체의 Style Property 를 파싱해서 반환
         * @private
         */
        _getTweenStyle: function ( target, propSet ) {
            var get_prop = {},
                cName = $B.string.camelCase( propSet.name ),
                value, valueSet;
    
            get_prop.name = propSet.name;
    
            if ( cName == 'scrollTop' ) {
                value = $B( target ).scrollTop();
            } else if ( cName == 'scrollLeft' ) {
                value = $B( target ).scrollLeft();
            } else {
                value = $B( target ).css( get_prop.name );
            }
    
            if ( value == 'transparent' || value == 'auto' || value == undefined ) {
                throw new Error( '[ixBand] TweenCSS의 대상의 Style "' + get_prop.name + '"가 설정되어 있지않아 Tween 실행불가!' );
            }
    
            if ( typeof value === 'number' ) value = String(value);
    
            valueSet = $B.style.parseValue( value );
            get_prop.value = valueSet.value;
            get_prop.unit = valueSet.unit;
    
            return get_prop;
        }
    }, '$B.utils.TweenCSS');


    // ============================================================== //
    // =====================	TouchEvent		===================== //
    // ============================================================== //
    
    /**
     * TouchEvent 크로스 브라우징, 하나의 대상의 하나의 TouchEvent 객체 등록
     * @constructor
     * @param	{Element || Selector || jQuery}	target		이벤트 발생 대상
     */
    ixBand.event.TouchEvent = $B.Class.extend({
        POINTER_TYPES: ['', '', 'touch', 'pen', 'mouse'],
    
        initialize: function ( target ) {
            this._target = $B( target ).element();
            this._touches = {};
            this._isEndEvent = false;
    
            this._setEvents();
        },
    
        // ===============	Public Methods =============== //
    
        /**
         * 이벤트 등록
         * @param	{String}	type		touchstart, touchmove, touchend, touchcancel
         * @param	{Function}	listener		event listener
         * @param	{Boolean|Object}	useCapture || options	capture, passive 등을 설정, default:false
         * 				https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener 참조
         * @return	{TouchEvent}
         */
        addListener: function ( type, listener, useCapture ) {
            if ( this._target && $B.ua.TOUCH_DEVICE && /^touch/i.test(type) ) {
                useCapture = useCapture || false;
    
                if ( this.hasListener(type, listener, useCapture) ) return this;
    
                if ( MS_POINTER && !this._isEndEvent ) {
                    document.addEventListener( this._getCrossType('touchend'), this._touchHandler, false );
                    document.addEventListener( this._getCrossType('touchcancel'), this._touchHandler, false );
                    this._isEndEvent = true;
                }
    
                //중첩된 함수를 정의하고 이 함수를 listener 함수 대신 등록한다.
                var wrapHandler = $B.bind(function (e) {
                    var crossType = this._originToCrossType( e.type );
    
                    if ( MS_POINTER ) {
                        if ( crossType === 'touchstart' || crossType === 'touchmove' ) {
                            this._addTouch(e);
                        } else if ( crossType === 'touchend' || crossType === 'touchcancel' ) {
                            this._removeTouch(e);
                        }
                    }
    
                    var evt = {
                        _event: e,			//실제 이벤트 객체
                        type: crossType,
                        target: e.target,
                        currentTarget: e.currentTarget,
                        relatedTarget: e.relatedTarget,
                        eventPhase: e.eventPhase,
                        shiftKey: e.shiftKey, charCode: e.charCode,
                        altKey: e.altKey,
                        ctrlKey: e.ctrlKey,
                        //이벤트 관리 함수
                        stopPropagation: function () { if (this._event) this._event.stopPropagation(); },
                        preventDefault: function () { if (this._event) this._event.preventDefault(); },
                        touches: this._getTouches( crossType, e )
                    };
    
                    this.dispatch( evt.type, evt );
                }, this);
    
                var evtData = {
                    useCapture: useCapture || false,
                    wrapHandler: wrapHandler
                };
    
                $B.Class.prototype.addListener.call( this, type, listener, evtData );
                this._target.addEventListener( this._getCrossType(type), wrapHandler, evtData.useCapture );
            }
            return this;
        },
    
        /**
         * 이벤트 삭제, type만 입력하면 해당 타입과 일치하는 이벤트 모두 삭제, type listener모두 설정하지 않으면 대상의 모든 이벤트 삭제
         * @param	{String}	type		touchstart, touchmove, touchend, touchcancel
         * @param	{Function}	listener		event listener
         * @param	{Boolean|Object}	useCapture || options	capture, passive 등을 확인 후 삭제, default:false
         * @return	{TouchEvent}
         */
        removeListener: function ( type, listener, useCapture ) {
            var events = this.__eventPool__[type],
                crossType = this._getCrossType( type ),
                evtLength = 0, i;
    
            if ( events ) {
                evtLength = events.length;
    
                if ( $B.isFunction(listener) ) {
                    for ( i = 0; i < evtLength; ++i ) {
                        var eData = events[i];
                        if ( listener === eData.listener && $B.isEqual(eData.options.useCapture, useCapture || false) ) {
                            this._target.removeEventListener( crossType, eData.options.wrapHandler, eData.options.useCapture );
                            events.splice( $B.array.indexOf(events, events[i]), 1 );
                        }
                    }
                } else {
                    for ( i = 0; i < evtLength; ++i ) {
                        this._target.removeEventListener( crossType, events[i].options.wrapHandler, events[i].options.useCapture );
                    }
    
                    delete this.__eventPool__[type];
                }
            } else {
                for ( var key in this.__eventPool__ ) {
                    events = this.__eventPool__[key];
                    crossType = this._getCrossType( key );
                    evtLength = events.length;
    
                    for ( i = 0; i < evtLength; ++i ) {
                        this._target.removeEventListener( crossType, events[i].options.wrapHandler, events[i].options.useCapture );
                    }
                }
                this.__eventPool__ = {};
            }
            return this;
        },
    
        /**
         * 이벤트 등록여부 반환
         * @param	{String}	type		touchstart, touchmove, touchend, touchcancel
         * @param	{Function}	listener		event listener
         * @param	{Boolean}	useCapture	useCapture || options	capture, passive 등의 설정 여부 확인, default:false
         * @return	{Boolean}
         */
        hasListener: function ( type, listener, useCapture ) {
            var result = false,
                events = this.__eventPool__[type];
    
            if ( events ) {
                if ( $B.isFunction(listener) ) {
                    var evtLength = events.length, i;
    
                    if ( !$B.isEmpty(useCapture) ) {
                        for ( i = 0; i < evtLength; ++i ) {
                            var eData = events[i];
                            if ( listener === eData.listener && $B.isEqual(eData.options.useCapture, useCapture || false) ) {
                                result = true;
                                break;
                            }
                        }
                    } else {
                        for ( i = 0; i < evtLength; ++i ) {
                            if ( listener === events[i].listener ) {
                                result = true;
                                break;
                            }
                        }
                    }
                } else {
                    result = true;
                }
            }
    
            return result;
        },
    
        /**
         * 등록된 모든 이벤트 삭제
         * @return	{TouchEvent}
         */
        clear: function () {
            this.removeListener();
    
            if ( MS_POINTER && this._isEndEvent ) {
                document.removeEventListener( this._getCrossType('touchend'), this._touchHandler, false );
                document.removeEventListener( this._getCrossType('touchcancel'), this._touchHandler, false );
                this._isEndEvent = false;
            }
    
            return this;
        },
    
        // ===============	Private Methods =============== //
    
        _setEvents: function () {
            this._touchHandler = $B.bind(function (e) {
                this._removeTouch(e);
            }, this);
        },
    
        _addTouch: function ( event ) {
            //if ( event.pointerType == 'mouse' || event.pointerType == 4 ) return;
    
            this._touches[event.pointerId] = {
                target: event.target,
                clientX: event.clientX,
                clientY: event.clientY,
                pageX: event.pageX,
                pageY: event.pageY,
                screenX: event.screenX,
                screenY: event.screenY,
                pointerType: this._getPointerType( event ) //IE only
            };
        },
    
        _removeTouch: function ( event ) {
            delete this._touches[event.pointerId];
        },
    
        _getPointerType: function ( event ) {
            var result = 'touch', pointerType = event.pointerType;
    
            if ( typeof pointerType === 'string' ) {
                result = pointerType;
            } else if ( typeof pointerType === 'number' && pointerType > -1 && pointerType < 5 ) {
                result = POINTER_TYPES[pointerType];
            }
    
            return result;
        },
    
        //크로스브라우징 TouchEvent Touches 반환
        _getTouches: function ( type, event ) {
            var touches = [];
    
            if ( MS_POINTER ) {
                for ( var n in this._touches ) {
                    touches.push( this._touches[n] );
                }
            } else {
                touches = event.touches;
            }
    
            return touches;
        },
    
        //크로스브라우징 이벤트 타입 반환
        _getCrossType: function ( type ) {
            var crossType = CrossTouchEvent[type];
            return crossType || type;
        },
    
        //origin event type to cross event type
        _originToCrossType: function ( type ) {
            if ( /pointerdown/i.test(type) ) {
                type = 'touchstart';
            } else if ( /pointermove/i.test(type) ) {
                type = 'touchmove';
            } else if ( /pointerup/i.test(type) ) {
                type = 'touchend';
            } else if ( /pointercancel/i.test(type) ) {
                type = 'touchcancel';
            }
    
            return type;
        }
    }, '$B.event.TouchEvent');


    // ============================================================== //
    // =====================	DoubleTab	========================= //
    // ============================================================== //
    /**
     * DoubleTab
     * Event Property : type, target, currentTarget, stopPropagation(), preventDefault()
     * @class	{DoubleTab}
     * @constructor
     * @param	{Element || Selector || jQuery}	target		터치이벤트 발생시킬 대상, 내장함수 querySelector() 로 구현되어졌다, 단일개체. http://www.w3.org/TR/css3-selectors/#link
     */
    ixBand.event.DoubleTab = $B.Class.extend({
        initialize: function ( target ) {
            this._target = $B( target ).element();
            this._delay = 400;
            this._setEvents();
            return this;
        },
    
        // ===============	Public Methods	=============== //
    
        /**
         * DoubleTab Event 활성화
         * @return	{DoubleTab}
         */
        enable: function () {
            if ( !this._touchEvent.hasListener('touchstart', this._touchHandler) ) {
                this._touchEvent.addListener( 'touchstart', this._touchHandler );
            }
            return this;
        },
    
        /**
         * DoubleTab Event 비활성화
         * @return	{DoubleTab}
         */
        disable: function () {
            this._touchEvent.removeListener( 'touchstart', this._touchHandler );
            return this;
        },
    
        /**
         * DoubleTab Event 및 설정값 삭제
         */
        clear: function () {
            this._touchEvent.clear();
            return this;
        },
    
        /**
         * 민감도 설정, 기본값 1.
         * 민감도를 Number로 지정, 1보다 커질수록 둔감해지고 작아질수록 민감해진다
         * @param	{Number}	value	0~1
         * @return	{DoubleTab}
         */
        sensitivity: function ( value ) {
            this._delay = value * 400;
            return this;
        },
    
        // ===============	Private Methods	=============== //
    
        _setEvents: function () {
            var _startTime = 0,
                _pos = {};
    
            this._touchHandler = $B.bind(function (e) {
                var currentTime = new Date().getTime(),
                    currentPos = this._getPos(),
                    interval = currentTime - _startTime;
    
                if ( interval < this._delay && this._isSamePos(_pos, currentPos) ) {
                    this.dispatch( 'doubletab', {
                        target: e.target,
                        currentTarget: this._target,
                        stopPropagation: function () { e.stopPropagation(); },
                        preventDefault: function () { e.preventDefault(); }
                    });
                } else {
                    _startTime = currentTime;
                    _pos = currentPos;
                }
            }, this);
    
            this._touchEvent = new $B.event.TouchEvent( this._target );
            this.enable();
        },
    
        _getPos: function () {
            var result = {};
    
            if ( this._target === window || this._target === document ) {
                result = {
                    left: $B( this._target ).scrollLeft() || 0,
                    top: $B( this._target ).scrollTop() || 0
                };
            } else {
                result = $B( this._target ).rect( true );
            }
    
            return result;
        },
    
        _isSamePos: function ( pos1, pos2 ) {
            return ( pos1.left === pos2.left && pos1.top === pos2.top );
        }
    
    }, '$B.event.DoubleTab');


    // ============================================================== //
    // =====================	GestureAxis		===================== //
    // ============================================================== //
    
    /**
     * 대상영역의 Touch 방향 dispatch (Windows8.* 터치 디바이스 미지원)
     * Event : axis
     * Event Property : type, target, currentTarget, axis:(vertical, horizontal), pageX, pageY, direction:(left, right, top, bottom, none)
     * @constructor
     * @param	{Element, Selector, jQuery}	target		터치이벤트 발생시킬 대상, 내장함수 querySelector() 로 구현되어졌다, 단일개체. http://www.w3.org/TR/css3-selectors/#link
     * @param   {Object}    options
     *      - {Boolean} preventDefault  safari v10 에서 세로축 touchstart를 막고 싶을때만 설정한다.
     */
    ixBand.event.GestureAxis = $B.Class.extend({
        initialize: function ( target, options ) {
            this._target = $B( target ).element();
            this._options = options || {};
            this._aType = ( this._options.aType )? this._options.aType : 'auto';
            //safari v10 에서 세로축 touchstart를 막고 싶을때만 사용한다.
            this._preventDefault = this._options.preventDefault || false;
            this._startX = 0;
            this._startY = 0;
            this._moveCount = 0;
            this._setEvents();
            return this;
        },
    
        // ===============	Public Methods	=============== //
    
        enable: function () {
            this._targetTouch.addListener( 'touchstart', this._axisHandler );
            return this;
        },
        //비활성화
        disable: function () {
            this._targetTouch.removeListener();
            this._winTouch.removeListener();
            return this;
        },
        //이벤트 및 기본설정 삭제
        clear: function () {
            this._targetTouch.clear();
            this._winTouch.clear();
            return this;
        },
    
        // ===============	Private Methods	=============== //
    
        _setEvents: function () {
            this._targetTouch = new $B.event.TouchEvent( this._target );
            this._winTouch = new $B.event.TouchEvent( window );
    
            this._axisHandler = $B.bind( function (e) {
                var evt, pageX = this._startX, pageY = this._startY;
    
                if ( e.touches.length > 0 ) {
                    var touch = e.touches[0];
                    pageX = touch.pageX;
                    pageY = touch.pageY;
                }
    
                switch ( e.type ) {
                    case 'touchstart':
                        e.stopPropagation();
                        if ( this._preventDefault ) e.preventDefault();
    
                        this._moveCount = 0;
                        this._startX = pageX;
                        this._startY = pageY;
    
                        this._winTouch.addListener( 'touchmove', this._axisHandler, {passive: false} );
                        this._winTouch.addListener( 'touchend', this._axisHandler );
                        this._targetTouch.addListener( 'touchcancel', this._axisHandler );
                        break;
                    case 'touchmove':
                        var axis = this._getAxisType( this._startX, this._startY, pageX, pageY );
                        evt = {target: e.target, currentTarget: this._target, axis: axis, direction: '', pageX: pageX, pageY: pageY};
    
                        this._moveCount++;
    
                        if ( MS_POINTER && axis == 'none' && this._moveCount < 3  ) {
                            break;
                        } else {
                            if ( this._aType == 'auto' ) {
                                if ( axis != 'none' ) {
                                    e.preventDefault();
                                    evt.direction = this._getDirectionType( axis, this._startX, this._startY, pageX, pageY );
                                    this.dispatch( 'axis', evt );
                                }
                            } else if ( this._aType == axis ) {
                                e.preventDefault();
                                evt.direction = this._getDirectionType( axis, this._startX, this._startY, pageX, pageY );
                                this.dispatch( 'axis', evt );
                            }
                        }
                    case 'touchend':
                    case 'touchcancel':
                        this._winTouch.removeListener( 'touchmove' );
                        this._winTouch.removeListener( 'touchend' );
                        this._targetTouch.removeListener( 'touchcancel' );
                        break;
                }
            }, this);
    
            this.enable();
        },
    
        //제스츄어 방향축 반환 (vertical, horizontal)
        _getAxisType: function ( startX, startY, endX, endY ) {
            var gapH = Math.max( startX, endX ) - Math.min( startX, endX ),
                gapV = Math.max( startY, endY ) - Math.min( startY, endY );
    
            if ( gapH > gapV ) {
                return 'horizontal';
            } else if ( gapH < gapV ) {
                return 'vertical';
            } else {
                return 'none';
            }
        },
    
        //제스츄어 방향 반환 (left, right, top, bottom, none)
        _getDirectionType: function ( axis, startX, startY, endX, endY ) {
            var result = 'none';
    
            if ( axis == 'horizontal' ) {
                if ( startX > endX ) {
                    result = 'left';
                } else if ( startX < endX ) {
                    result = 'right';
                }
            } else {
                if ( startY > endY ) {
                    result = 'top';
                } else if ( startY < endY ) {
                    result = 'bottom';
                }
            }
    
            return result;
        }
    
    }, '$B.event.GestureAxis');


    // ============================================================== //
    // =====================	MultiTouch	========================= //
    // ============================================================== //
    
    /**
     * 터치 디바이스에서 대상영역의 Multi Touch Gesture검출기 생성 (Windows8.* 터치 디바이스 지원, Android 2.*에서는 지원하지 않는다.)
     * Event : multitouchstart, multitouchmove, multitouchend
     * Event Property : type, pageX, pageY, clientX, clientY, growX, growY, growAngle, growScale, angle, scale,  pan, distanceH, distanceV, degree, radian, radius, pointers[{target, pageX, pageY, clientX, clientY, growX, growY}]
     * @class	{MultiTouch}
     * @constructor
     * @param	{Element, Selector, jQuery}	target		터치이벤트 발생시킬 대상, 내장함수 querySelector() 로 구현되어졌다, 단일개체. http://www.w3.org/TR/css3-selectors/#link
     */
    ixBand.event.MultiTouch = $B.Class.extend({
        initialize: function ( target ) {
            this._target = $B( target ).element();
            this._hasTouchEvent = false;
            this._hasMultiTouchStart = false;
            this._totalAngle = 0;
            this._startRadius = 0;
            this._oldRadius = 0;
            this._isPan = null;
            this._startDistanceH = 0;
            this._startDistanceV = 0;
            this._oldCenterX = 0;
            this._oldCenterY = 0;
            this._oldPageX1 = 0;
            this._oldPageY1 = 0;
            this._enable = true;
            this._oldEvt = {};
    
            if ( MS_POINTER ) this._setTouchAction( 'none' );
            this._setEvents();
            return this;
        },
    
        // ===============	Public Methods	=============== //
    
        /**
         * MultiTouch 검출 허용 설정
         * @return	{MultiTouch}
         */
        enable: function () {
            this._enable = true;
            if ( MS_POINTER ) this._setTouchAction( 'none' );
            return this;
        },
        /**
         * MultiTouch 검출 비허용 설정
         * @return	{MultiTouch}
         */
        disable: function () {
            this._enable = false;
            if ( MS_POINTER ) this._setTouchAction( 'auto' );
            return this;
        },
    
        /**
         * MultiTouch Event 및 설정값 삭제
         */
        clear: function () {
            this._touchEvent.clear();
            this._winTouchEvent.clear();
            this._removeTouchEvent();
    
            if ( MS_POINTER ) this._setTouchAction( 'auto' );
            return this;
        },
    
        // ===============	Private Methods	=============== //
    
        _setEvents: function () {
            this._touchHandler = $B.bind(function (e) {
                if ( !this._enable ) return this._removeTouchEvent();
    
                var evt, pageX1, pageY1, pageX2, pageY2, clientX1, clientY1, clientX2, clientY2,
                    touches = e.touches, touch1, touch2, currentTouchLength = e.touches.length;
    
                if ( currentTouchLength > 1 ) {
                    touch1 = touches[0];
                    touch2 = touches[1];
    
                    pageX1 = touch1.pageX;
                    pageY1 = touch1.pageY;
                    pageX2 = touch2.pageX;
                    pageY2 = touch2.pageY;
                    clientX1 = touch1.clientX;
                    clientY1 = touch1.clientY;
                    clientX2 = touch2.clientX;
                    clientY2 = touch2.clientY;
    
                    var distanceH = this._getDistance( pageX1, pageX2 ),
                        distanceV = this._getDistance( pageY1, pageY2 ),
                        radius = this._getRadius( distanceH, distanceV ),
                        radian = this._getRadian( distanceH, distanceV ),
                        degree = this._radianToDeg( radian ),
                        cPageX = this._getCenterPos( pageX1, pageX2, distanceH ),
                        cPageY = this._getCenterPos( pageY1, pageY2, distanceV ),
                        cClientX = this._getCenterPos( clientX1, clientX2, distanceH ),
                        cClientY = this._getCenterPos( clientY1, clientY2, distanceV );
    
                    evt = {
                        type: '', pointers: this._getPointers( touches ),
                        growAngle: 0, growScale: 0, angle: 0, scale: 1,
                        degree: degree, radian: radian, radius: radius,
                        distance: radius * 2, distanceH: distanceH, distanceV: distanceV,
                        pageX: cPageX, pageY: cPageY, clientX: cClientX, clientY: cClientY, pan: false
                    };
    
                    if ( e.type == 'touchmove' ) {
                        e.preventDefault();
    
                        var gAngle = this._getBetweenAngle( this._oldPageX1, this._oldPageY1, pageX1, pageY1, this._oldCenterX, this._oldCenterY, cPageX, cPageY ),
                            tScale = radius / this._startRadius,
                            gScale = ( radius - this._oldRadius ) / this._startRadius;
    
                        this._totalAngle += gAngle;
    
                        evt.growAngle = gAngle;
                        evt.angle = this._totalAngle;
                        evt.scale = tScale;
                        evt.growScale = gScale;
                        evt.pan = this._isPanEvent( this._startDistanceH, this._startDistanceV, distanceH, distanceV );
                        this.dispatch( 'multitouchmove', evt );
                        //Start
                    } else if ( e.type == 'touchstart' ) {
                        var touchStarted = this._hasMultiTouchStart;
    
                        this._hasMultiTouchStart = true;
                        this._startRadius = radius;
                        this._totalAngle = 0;
                        this._isPan = null;
                        this._startDistanceH = distanceH;
                        this._startDistanceV = distanceV;
    
                        if ( !touchStarted ) {
                            //start시에는 grow관련값이 모두 0이다.
                            this.dispatch( 'multitouchstart', evt );
                        }
                    }
    
                    this._oldPageX1 = pageX1;
                    this._oldPageY1 = pageY1;
                    this._oldCenterX = cPageX;
                    this._oldCenterY = cPageY;
                    this._oldRadius = radius;
                    this._oldEvt = evt;
                }
    
                if ( e.type == 'touchend' || e.type == 'touchcancel' ) {
                    //MultiTouchStart가 발생하고 난후에만 End이벤트가 발생한다.
                    if ( this._hasMultiTouchStart && currentTouchLength < 2 ) {
                        this._removeTouchEvent();
                        this.dispatch( 'multitouchend', this._oldEvt );
                        this._hasMultiTouchStart = false;
                    }
                }
            }, this);
    
            this._startHandler = $B.bind(function (e) {
                this._addTouchEvent();
            }, this);
    
            this._touchEvent = new $B.event.TouchEvent( this._target ).addListener( 'touchstart', this._startHandler );
            this._winTouchEvent = new $B.event.TouchEvent( window );
        },
    
        //Touch Pointer Event를 이용할때 이벤트전달 설정
        _setTouchAction: function ( state ) {
            this._target.style[TOUCH_ACTION] = state;//none, auto
            //마우스로 컨트롤시 드래그 방지
            if ( state == 'auto' ) {
                $B( this._target ).removeEvent( 'dragstart' );
            } else {
                $B( this._target ).addEvent( 'dragstart', function (e) {
                    e.preventDefault()
                });
            }
        },
    
        _addTouchEvent: function () {
            if ( this._hasTouchEvent ) return;
            this._winTouchEvent.addListener( 'touchstart', this._touchHandler, {passive: false} );
            this._winTouchEvent.addListener( 'touchmove', this._touchHandler, {passive: false} );
            this._winTouchEvent.addListener( 'touchend', this._touchHandler );
            this._winTouchEvent.addListener( 'touchcancel', this._touchHandler );
            this._hasTouchEvent = true;
        },
    
        _removeTouchEvent: function () {
            if ( !this._hasTouchEvent ) return;
            this._winTouchEvent.removeListener();
            this._hasTouchEvent = false;
        },
    
        _getPointers: function ( touches ) {
            var result = [],
                length = touches.length;
    
            for ( var i = 0; i < length; ++i ) {
                var touch = touches[i];
                result.push( {target: touch.target, pageX: touch.pageX, pageY: touch.pageY, clientX: touch.clientX, clientY: touch.clientY} );
            }
    
            return result;
        },
    
        _getCenterPos: function ( pos1, pos2, distance ) {
            return Math.min( pos1, pos2 ) + Math.abs( distance / 2 );
        },
        //반지름 반환
        _getRadius: function ( posX, posY ) {
            return Math.sqrt( posX * posX + posY * posY );
        },
        //좌표를 라디안으로 반환 0~180, -180
        _getRadian: function ( posX, posY ) {
            //return Math.acos( distanceY / radius );
            return Math.atan2( posY, posX );
        },
        //Radian을 호도각으로 변환
        _radianToDeg: function ( radian ) {
            return radian * 180 / Math.PI;
        },
        //pointer의 거리 반환.
        _getDistance: function ( pos1, pos2 ) {
            return -pos1 + Math.abs(pos2);
        },
        //현재 동작이 Pan이면 true반환.
        _isPanEvent: function ( sdX, sdY, dX, dY ) {
            if ( this._isPan == false ) return false;
    
            var gap = PX_RATIO * 10;//Pan이 발생하는 사이즈 px기준
            var gx = Math.abs( sdX - dX ),
                gy = Math.abs( sdY - dY );
    
            return this._isPan = gx < gap && gy < gap;
        },
        //움직인 각도 반환
        _getBetweenAngle: function ( opX1, opY1, npX1, npY1, ocX, ocY, ncX, ncY ) {
            //중심점 보정
            var cGapX = ncX - ocX,
                cGapY = ncY - ocY,
                ccX = ncX - cGapX,//보정된 ncX
                ccY = ncY - cGapY,//보정된 ncY
                cX1 = npX1 - cGapX,//보정된 npX1
                cY1 = npY1 - cGapY;//보정된 npY1
    
            //중심점 기준의 좌표로 보정
            var ox = opX1 - ocX,
                oy = opY1 - ocY,
                nx = npX1 - ncX,
                ny = npY1 - ncY,
                cw = this._isClockwise( ox, oy, nx, ny ),
                angle = this._vectorToAngle( opX1, opY1, cX1, cY1, ccX, ccY );
    
            return cw? angle : -angle;
        },
    
        //3점의 각도 구하기 (기준점 cx, cy)
        _vectorToAngle: function ( x1, y1, x2, y2, cx, cy ) {
            var a = Math.sqrt( Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2) ),
                b = Math.sqrt( Math.pow(x1 - cx, 2) + Math.pow(y1 - cy, 2) ),
                c = Math.sqrt( Math.pow(cx - x2, 2) + Math.pow(cy - y2, 2) ),
                r = ( Math.pow(b,2) + Math.pow(c,2) - Math.pow(a,2) ) / ( 2 * b * c ),
                radian = Math.acos( r );
    
            //return radian * ( 180 / Math.PI );
            return this._radianToDeg( radian );
        },
    
        //시계방향인지 Boolean으로 반환
        _isClockwise: function ( x1, y1, x2, y2 ) {
            return (x1 * y2 - y1 * x2) > 0;
        }
    }, '$B.event.MultiTouch');


    // ============================================================== //
    // =====================	ParallaxScroll	===================== //
    // ============================================================== //
    
    /**
     * Parallax Scroll 이벤트 검출기,
     * Event : activate (구간에 진입시 한번만 발생), deactivate (구간에 진입시 한번만 발생), between (구간에 진입시 계속해서 발생)
     * Event Properties : e.percent, e.totalPercent, e.index:'deactivate'발생시 이전'activate' index반환, e.value, e.data
     * @param	{Array}		포지션 데이타 배열, [{min:Number, max:Number, data:*}, ...
     * @param	{String}	scrollType	vertical, horizontal (default=vertical)
     * @param	{Element}	scrollTarget	scroll을 발생시킬 대상 설정 (default=window)
     */
    ixBand.event.ParallaxScroll = $B.utils.Between.extend({
        initialize: function ( positions, scrollType, scrollTarget ) {
            this._scrollTarget = scrollTarget || window;
            this._scrollType = scrollType || 'vertical';
            $B.utils.Between.prototype.initialize.call( this, positions );
            this._setEvents();
            return this;
        },
    
        // ==================== Public Methods ==================== //
        /**
         * 이벤트를 강제로 실행시킬때 사용, (positions, scroll값 둘중에 하나라도 값의 변화가 있어야 동작한다.)
         */
        trigger: function () {
            var baseValue = ( this._scrollType === 'vertical' )? $B( this._scrollTarget ).scrollTop() : $B( this._scrollTarget ).scrollLeft();
            $B.utils.Between.prototype.trigger.call( this, baseValue );
            return this;
        },
    
        /**
         * 이벤트 및 기본설정 삭제
         */
        clear: function () {
            $B( this._scrollTarget ).removeEvent( 'scroll', this._scrollHandler );
            return this;
        },
    
        // ==================== Private Methods ==================== //
    
        _setEvents: function () {
            this._scrollHandler = $B.bind( this.trigger, this );
            $B( this._scrollTarget ).addEvent( 'scroll', this._scrollHandler );
        }
    }, '$B.event.ParallaxScroll');


    // ============================================================== //
    // =====================	Responsive		===================== //
    // ============================================================== //
    
    /**
     * 설정한 사이즈에 따라 window resize이벤트를 통해서 해당 이벤트를 발생시킨다. (IE9~)
     * Event : responsive, resize
     * Event Properties : e.responsiveType
     * @param   {String}    type        ex) 'width' or 'height'
     * @param   {Array}     positions   포지션 데이타 배열, [{min:Number, max:Number, type:String}, ...
     */
    ixBand.event.Responsive = $B.Class.extend({
        _disabled: false,
        _hasEvents: false,
        _positions: [],
    
        initialize: function ( type, positions ) {
            if ( $B.ua.SAFARI || $B.ua.MOBILE_IOS || $B.ua.ANDROID || $B.ua.WINDOWS_PHONE ) {
                //safari, mobile
                this._sizeTarget = document.documentElement;
                this._sizeProp = ( type === 'height' )? 'clientHeight' : 'clientWidth';
            } else {
                //pc
                this._sizeTarget = window;
                this._sizeProp = ( type === 'height' )? 'innerHeight' : 'innerWidth';
            }
    
            this._setPositions( positions );
            return this;
        },
    
        // ==================== Public Methods ==================== //
        /**
         * 현재 해상도의 Type을 반환.
         * positions 데이타 등록시 설정한 type속성 중에 해당하는 값을 반환
         * @return	{String}
         */
        responsiveType: function () {
            if ( $B.ua.WINDOWS_PHONE || !$B.ua.DOC_MODE_IE9_LT ) {
                return this._getSizeType( this._sizeTarget[this._sizeProp] );
            } else {
                return this._positions[this._positions.length - 1].type;
            }
        },
        /**
         * 이벤트 발생 허용
         */
        enable: function () {
            this._disabled = false;
            return this;
        },
        /**
         * 이벤트 발생 비허용
         */
        disable: function () {
            this._disabled = true;
            return this;
        },
        /**
         * 이벤트 및 기본설정 삭제
         */
        clear: function () {
            this._removeEvents();
            return this;
        },
    
        //override
        addListener: function ( type, callback ) {
            this._setEvents();
            $B.Class.prototype.addListener.call( this, type, callback );
            return this;
        },
    
        // ==================== Private Methods ==================== //
    
        _setPositions: function ( positions ) {
            if ( $B.isArray(positions) && !$B.isEmpty(positions) ) {
                this._positions = positions.concat([]);
            }
            return this;
        },
    
        _setEvents: function () {
            if ( this._hasEvents ) return;
    
            var sizeType = '';
    
            this._resizeHandler = $B.bind( function (e) {
                if ( this._disabled ) return;
                var rType = this.responsiveType();
    
                if ( rType !== sizeType ) {
                    this.dispatch( 'responsive', {responsiveType: rType} );
                }
    
                this.dispatch( 'resize', {responsiveType: rType} );
                sizeType = rType;
            }, this);
    
            $B( window ).addEvent( 'resize', this._resizeHandler );
            this._hasEvents = true;
        },
    
        _getSizeType: function ( current ) {
            var result = '';
    
            var length = this._positions.length;
    
            for ( var i = 0; i < length; ++i ) {
                var pos = this._positions[i];
    
                if ( pos.min <= current && pos.max >= current ) {
                    result = pos.type;
                    break;
                }
            }
    
            return result;
        },
    
        _removeEvents: function () {
            if ( !this._hasEvents ) return;
    
            $B( window ).removeEvent( 'resize', this._resizeHandler );
            this._hasEvents = false;
        }
    
    }, '$B.event.Responsive');


    // ============================================================== //
    // =====================	Rotation	    ===================== //
    // ============================================================== //
    /**
     * RotationEvent
     * Event Type : rotationstart, rotationmove, rotationend, rotation, resize
     * @param	{Selector, Element, jQuery}	target			이벤트 발생 대상
     * @param	{Object}    options
     *              - {Array}	datumPoint		기준 중심 좌표 x, y배열, 대상 대비 %, ex) ['50%', '50%'], (px, %단위 지원)
     *              - {Number}	baseAngle		progress를 계산할 기준이 되는 각도 설정 (기본값: 0, 9시 방향이 0도, 0 ~ 360)
     *              - {Array, Number}   radius  호의 x, y축 반지름 설정, (기본값: ['50%', '50%'], px, %단위 지원)
     * @constructor
     */
    ixBand.event.Rotation = $B.Class.extend({
        initialize: function ( target, options ) {
            this._target = $B( target ).element();
            this._options = $B.isObject( options )? $B.object.clone( options ) : {};
    
            this._eventTarget = null;
            this._disabed = false;
            this._touchEvent = null;
            this._winTouchEvent = null;
    
            this._min = null;
            this._max = null;
            this._degree = 0;
            this._progress = 0;
    
            this._setOptions( this._options );
            this._setEvents();
            return this;
        },
    
        // ===============	Public Methods =============== //
        /**
         * 각도설정 및 반환
         * @param	{Number}	degree
         * @return	{RotationEvent, Number}
         */
        degree: function ( degree ) {
            if ( $B.isNumber(degree) ) {
                if ( !this._disabed ) {
                    var clockwise = ( this._degree < degree ),
                        grow = this._getGrow( this._degree, degree, clockwise );
    
                    degree = this._correctDegree( degree );
    
                    var center = this._centerPoint,
                        point = this._getPoint( degree, center );
    
                    this._dispatch( 'rotation', undefined, degree, point, point, center, grow );
                }
                return this;
            } else {
                return this._degree;
            }
        },
        /**
         * 회전 각도설정 및 반환
         * @param	{Number}	progress
         * @return	{RotationEvent, Number}
         */
        rotation: function ( progress ) {
            if ( $B.isNumber(progress) ) {
                if ( !this._disabed ) {
                    var clockwise = ( this._progress < progress ),
                        grow = this._getGrow( this._progress, progress, clockwise ),
                        center = this._centerPoint,
                        degree = this._progressToDeg( progress ),
                        point = this._getPoint( degree, center );
    
                    this._dispatch( 'rotation', undefined, degree, point, point, center, grow );
                }
                return this;
            } else {
                return this._progress;
            }
        },
        /**
         * resize시 기준 좌표들 다시 계산하여 resize 이벤트 전달
         * @return	{RotationEvent}
         */
        resize: function () {
            this._resetOptions( this._options );
    
            var center = this._centerPoint,
                point = this._getPoint( this._degree, center );
    
            this._dispatch( 'resize', undefined, this._degree, point, point, center, 0 );
            return this;
        },
        /**
         * progress 최대값 설정, 양수만 설정가능
         * max값을 설정하면 min값은 0이 된다.
         * @param	{Number}	progress     최대값
         * @return	{RotationEvent}
         */
        min: function ( progress ) {
            if ( $B.isNumber(progress) ) {
                this._min = progress;
            }
    
            return this;
        },
        /**
         * progress 최대값 설정, 양수만 설정가능
         * max값을 설정하면 min값은 0이 된다.
         * @param	{Number}	progress     최대값
         * @return	{RotationEvent}
         */
        max: function ( progress ) {
            if ( $B.isNumber(progress) ) {
                this._max = progress;
            }
    
            return this;
        },
        /**
         * progress reset (max값이 설정되지 않았을때만 동작)
         * @return	{RotationEvent}
         */
        reset: function () {
            if ( this._min === null && this._max === null ) this._progress = 0;
            return this;
        },
        /**
         * 이벤트 활성화 설정
         * @return	{RotationEvent}
         */
        enable: function () {
            if ( !this._disabed ) return this;
            this._disabed = false;
            this._setTouchAction( 'none' );
            this._setEvents();
            return this;
        },
        /**
         * 이벤트 비활성화 설정
         * @return	{RotationEvent}
         */
        disable: function () {
            if ( this._disabed ) return this;
            this._disabed = true;
            this._setTouchAction( 'auto' );
            this.clear();
            return this;
        },
        /**
         * 등록된 모든 이벤트 삭제
         * @return	{RotationEvent}
         */
        clear: function () {
            this._setTouchAction( 'auto' );
    
            if ( this._touchEvent ) {
                this._touchEvent.clear();
                this._winTouchEvent.clear();
            } else {
                $B( this._target ).removeEvent( 'mousedown', this._onMouse );
                $B( document ).removeEvent( 'mousemove', this._onMouse );
                $B( document ).removeEvent( 'mouseup', this._onMouse );
            }
            return this;
        },
    
        // ===============	Private Methods =============== //
    
        _setOptions: function ( options ) {
            // baseAngle ----------
            this._baseAngle = options.baseAngle? this._correctDegree( options.baseAngle ) : 0;
            this._resetOptions( options );
    
            //point
            var center = this._centerPoint,
                point = this._getPoint( this._baseAngle, center );
    
            this._pageX = point.x;
            this._pageY = point.y;
            this._pointX = point.x;
            this._pointY = point.y;
            this._centerX = center.x;
            this._centerY = center.y;
    
            // touch-action ----------
            if ( navigator.pointerEnabled ) {
                this._msTouchAction = 'touch-action';
            } else if ( navigator.msPointerEnabled ) {
                this._msTouchAction = '-ms-touch-action';
            }
        },
    
        _resetOptions: function ( options ) {
            // parse dotumPoint ----------
            if ( $B.isEmpty(options.datumPoint) || !$B.isArray(options.datumPoint) ) {
                this._datumPoint = ['50%', '50%'];
            } else if ( $B.isArray(options.datumPoint) && options.datumPoint.length < 2 ) {
                this._datumPoint.push( '50%' );
            } else {
                this._datumPoint = options.datumPoint;
            }
    
            this._datumPoint = this._styleToValues( this._datumPoint );
    
            // radius ----------
            var radiusValues = options.radius;
    
            if ( $B.isEmpty(radiusValues) || !$B.isArray(radiusValues) ) {
                radiusValues = ['50%', '50%'];
            }
    
            radiusValues = this._styleToValues( radiusValues, true );
            this._radiusX = radiusValues[0];
            this._radiusY = radiusValues[1];
    
            // center position
            this._centerPoint = this._getCenterPoint();
        },
    
        _getGrow: function ( oldDeg, newDeg, clockwise ) {
            var result = 0;
    
            if ( clockwise ) {
                result = newDeg - oldDeg;
            } else {
                result = -( oldDeg - newDeg );
            }
    
            return result;
        },
    
        _styleToValues: function ( ary, isRadius ) {
            var result = [];
    
            for ( var i in ary ) {
                var str = ary[i],
                    valueObj = $B.style.parseValue( str );
    
                if ( valueObj.unit === '%' ) {
                    if ( isRadius ) {
                        if ( i == 0 ) {
                            var width = $B( this._target ).innerWidth() || 0;
                            result.push( width * (valueObj.value / 100) );
                        } else {
                            var height = $B( this._target ).innerHeight() || 0;
                            result.push( height * (valueObj.value / 100) );
                        }
                    } else {
                        result.push( valueObj.value / 100 );
                    }
                } else {
                    result.push( Number(valueObj.value) );
                }
            }
    
            return result;
        },
    
        _setEvents: function () {
            this._setTouchAction( 'none' );
    
            if ( $B.ua.TOUCH_DEVICE ) {
                this._touchEvent = new $B.event.TouchEvent( this._target );
                this._winTouchEvent = new $B.event.TouchEvent( window );
                this._onTouch = $B.bind( this._touchHandler, this );
                this._touchEvent.addListener( 'touchstart', this._onTouch );
            } else {
                this._onMouse = $B.bind( this._mouseHandler, this );
                $B( this._target ).addEvent( 'mousedown', this._onMouse );
            }
        },
    
        _setTouchAction: function ( state ) {
            if ( !$B.ua.TOUCH_DEVICE ) return;
    
            $B( this._target ).css( this._msTouchAction + ':' + state + ';' );
    
            //마우스로 컨트롤시 드래그 방지
            if ( state == 'auto' ) {
                if ( this._onDrag ) $B( this._target ).removeEvent( 'dragstart', this._onDrag );
            } else {
                this._onDrag = $B.bind( this._dragHandler, this );
                $B( this._target ).addEvent( 'dragstart', this._onDrag );
            }
        },
    
        _mouseHandler: function (e) {
            if ( this._disabed ) return;
            e.preventDefault();
    
            var offset = this._getOffset( e.clientX, e.clientY ),
                center = this._centerPoint,
                radian = this._posToRadian( offset.x, offset.y, center.x, center.y ),
                degree = this._getAngle( radian ),
                point = this._getPoint( degree, center ),
                grow = this._getBetweenAngle( degree, point, center );
    
            switch ( e.type ) {
                case 'mousedown':
                    $B( document ).addEvent( 'mousemove', this._onMouse );
                    $B( document ).addEvent( 'mouseup', this._onMouse );
                    this._dispatch( 'rotationstart', e.target, degree, point, offset, center, grow, true );
                    break;
                case 'mousemove':
                    this._dispatch( 'rotationmove', e.target, degree, point, offset, center, grow, true );
                    break;
                case 'mouseup':
                    $B( document ).removeEvent( 'mousemove', this._onMouse );
                    $B( document ).removeEvent( 'mouseup', this._onMouse );
                    this._dispatch( 'rotationend', e.target, degree, point, offset, center, grow, true );
                    break;
            }
        },
    
        _touchHandler: function (e) {
            if ( this._disabed ) return;
            e.preventDefault();
    
            var touch = e.touches[0];
    
            if ( e.type === 'touchstart' || e.type === 'touchmove' ) {
                this._pageX = touch.pageX;
                this._pageY = touch.pageY;
                this._eventTarget = touch.target;
            }
    
            var offset = this._getOffset( this._pageX, this._pageY, true ),
                center = this._centerPoint,
                radian = this._posToRadian( offset.x, offset.y, center.x, center.y ),
                degree = this._getAngle( radian ),
                point = this._getPoint( degree, center ),
                grow = this._getBetweenAngle( degree, point, center );
    
            switch ( e.type ) {
                case 'touchstart':
                    this._winTouchEvent.addListener( 'touchmove', this._onTouch, {passive: false} );
                    this._winTouchEvent.addListener( 'touchend', this._onTouch );
                    this._winTouchEvent.addListener( 'touchcancel', this._onTouch );
                    this._dispatch( 'rotationstart', this._eventTarget, degree, point, offset, center, grow, true );
                    break;
                case 'touchmove':
                    this._dispatch( 'rotationmove', this._eventTarget, degree, point, offset, center, grow, true );
                    break;
                case 'touchend':
                case 'touchcancel':
                    this._winTouchEvent.removeListener();
                    this._dispatch( 'rotationend', this._eventTarget, degree, point, offset, center, grow, true );
                    break;
            }
        },
    
        _correctDegree: function ( deg ) {
            deg = deg % 360;
            if ( deg < 0 ) deg = 360 + deg;
    
            return deg;
        },
    
        _progressToDeg: function ( progress ) {
            var deg = ( progress - (360 - this._baseAngle) ) % 360;
            if ( deg < 0 ) deg = 360 + deg;
            return deg;
        },
    
        _getOffset: function ( posX, posY, isTouch ) {
            var pos = $B( this._target ).rect();
    
            if ( isTouch ) {
                return {x: posX - pos.left, y: posY - pos.top};
            } else {
                var scrollX = $B( window ).scrollLeft(),
                    scrollY = $B( window ).scrollTop();
    
                return {x: posX + scrollX - pos.left, y: posY + scrollY - pos.top};
            }
        },
    
        _getCenterPoint: function () {
            var width = $B( this._target ).innerWidth(),
                height = $B( this._target ).innerHeight();
    
            return {x: width * this._datumPoint[0], y: height * this._datumPoint[1]};
        },
    
        //0~360
        _getAngle: function ( radian ) {
            return this._radianToDeg( radian ) + 180;
        },
    
        _getPoint: function ( degree, center ) {
            var radian = Math.PI / 180 * ( -degree + 270 ),
                posX = this._radiusX * Math.sin( radian ) + center.x,
                posY = this._radiusY * Math.cos( radian ) + center.y;
    
            return { x: posX, y: posY };
        },
    
        //좌표를 라디안으로 반환
        _posToRadian: function ( x, y, cx, cy ) {
            var dx = x - cx,
                dy = y - cy;
            return Math.atan2( dy, dx );
        },
    
        //Radian을 호도각으로 변환
        _radianToDeg: function ( radian ) {
            return radian * 180 / Math.PI;
        },
    
        _degToRadian: function ( degree ) {
            return Math.PI / 180 * degree;
        },
    
        //변화된 각도양 반환
        _getBetweenAngle: function ( degree, point, center ) {
            var angle = 0;
    
            if ( this._degree !== degree ) {
                //중심점 기준의 좌표로 보정
                var ox = this._pointX - this._centerX,
                    oy = this._pointY - this._centerY,
                    nx = point.x - center.x,
                    ny = point.y - center.y,
                    cw = this._isClockwise( ox , oy, nx, ny );
    
                if ( cw ) {
                    if ( degree < this._degree ) {
                        angle = ( 360 - this._degree ) + degree;
                    } else {
                        angle = degree - this._degree;
                    }
                } else {
                    if ( degree < this._degree ) {
                        angle = -( this._degree - degree );
                    } else {
                        angle = -( this._degree + (360 - degree) );
                    }
                }
            }
    
            return angle;
        },
    
        //시계방향인지 Boolean 으로 반환
        _isClockwise: function ( ox, oy, nx, ny ) {
            return ( ox * ny - oy * nx ) > 0;
        },
    
        _dragHandler: function (e) {
            e.preventDefault();
        },
    
        _dispatch: function ( type, target, degree, point, offset, center, grow, userInteraction ) {
            var progress = this._progress + grow;
    
            if ( this._min !== null && progress < this._min ) {
                degree = this._progressToDeg( this._min );
                point = this._getPoint( degree, center );
                if ( userInteraction ) {
                    grow = this._getBetweenAngle( degree, point, center );
                } else {
                    grow += this._min - progress;
                }
    
                progress = this._min;
            } else if ( this._max !== null && progress > this._max ) {
                degree = this._progressToDeg( this._max );
                point = this._getPoint( degree, center );
                if ( userInteraction ) {
                    grow = this._getBetweenAngle( degree, point, center );
                } else {
                    grow -= progress - this._max;
                }
    
                progress = this._max;
            }
    
            this._degree = degree;
            this._progress = progress;
            this._pointX = point.x;
            this._pointY = point.y;
            this._centerX = center.x;
            this._centerY = center.y;
    
            this.dispatch( type, {
                target: target,
                currentTarget: this._target,
                degree: degree,//절대각도 (9시방향이 0도)
                radian: this._degToRadian( degree ),
                offsetX: offset.x,
                offsetY: offset.y,
                pointX: point.x,
                pointY: point.y,
                grow: grow,//grow 1회 추가된 rotation 수치
                progress: progress,//progress 시작점에서 부터의 rotation 수치
                userInteraction: userInteraction
            });
        }
    }, '$B.event.Rotation');


    // ============================================================== //
    // =====================	ScrollEnd		===================== //
    // ============================================================== //
    
    /**
     * 대상영역의 ScrollEnd 이벤트
     * Event : scrolltop, scrollrignt, scrollbottom, scrollleft
     * Event Property : type, target, currentTarget
     * @constructor
     * @param	{Element, Selector, jQuery}	target		터치이벤트 발생시킬 대상, 내장함수 querySelector() 로 구현되어졌다, 단일개체. http://www.w3.org/TR/css3-selectors/#link
     */
    ixBand.event.ScrollEnd = $B.Class.extend({
        _enable: false,
        _correctSize: 0,
        _gap: {left: 0, right: 0, top: 0, bottom: 0},
        _active: {scrollleft: false, scrollright: false, scrolltop: false, scrollbottom: false},
    
        initialize: function ( target ) {
            this._target = $B( target ).element();
    
            if ( this._target === window || this._target === document ) {
                this._winTarget = true;
            } else if ( !/^textarea$/i.test(this._target.nodeName) ) {
                //chrome ~55 scrollWidth, scrollHeight 1px issue
                if ( $B.ua.ANDROID && parseInt($B.ua.CHROME_VERSION) < 56 ) {
                    this._correctSize = 1;
                }
            }
    
            this._scrollX = -1;
            this._scrollY = -1;
            this._scrollW = 0;
            this._scrollH = 0;
            this._setEvents();
            return this;
        },
    
        // ===============	Public Methods	=============== //
    
        /**
         * 이벤트를 발생시키는 시점을 조절할 수치 설정
         * @param {Object}  values  {left, right, top, bottom}
         */
        gap: function ( values ) {
            if ( $B.isObject(values) ) {
                for ( var key in values ) {
                    var val = values[key];
    
                    if ( this._gap.hasOwnProperty(key) && typeof val === 'number' ) {
                        if ( val > 0 ) {
                            this._gap[key] = val;
                        } else {
                            this._gap[key] = 0;
                        }
                    }
                }
            }
    
            return this;
        },
    
        enable: function () {
            if ( this._enable ) return this;
            $B( this._target ).addEvent( 'scroll', this._scrollHandler );
            this._enable = true;
            return this;
        },
    
        //비활성화
        disable: function () {
            if ( !this._enable ) return this;
            $B( this._target ).removeEvent( 'scroll', this._scrollHandler );
            this._enable = false;
            return this;
        },
    
        /**
         * 강제로 실행시켜 해당 조건에 부합되면 이벤트를 발생시킨다.
         * @param {String}  type    발생시킬 event type, 설정하지 않으면 등록된 모든이벤트를 대상으로 한다.
         */
        trigger: function ( type ) {
            var scrollX = $B( this._target ).scrollLeft(),
                scrollY = $B( this._target ).scrollTop(),
                scrollW = this._getTargetSize( 'width' ),
                scrollH = this._getTargetSize( 'height' );
    
            if ( scrollH > 0 ) {
                if ( this._scrollY !== scrollY || scrollH !== this._scrollH ) {
                    this._scrollY = scrollY;
                    this._scrollH = scrollH;
    
                    if ( type === 'scrolltop' ) {
                        this._dispatch( type, scrollY, this._gap.top );
                    } else if ( type === 'scrollbottom' ) {
                        this._dispatch( type, scrollY, this._gap.top );
                    } else {
                        this._dispatch( 'scrolltop', scrollY, this._gap.top );
                        this._dispatch( 'scrollbottom', scrollY, scrollH - this._gap.bottom );
                    }
                }
            }
    
            if ( scrollW > 0 ) {
                if ( this._scrollX !== scrollX || scrollW !== this._scrollW ) {
                    this._scrollX = scrollX;
                    this._scrollW = scrollW;
    
                    if ( type === 'scrollleft' ) {
                        this._dispatch( type, scrollX, this._gap.left );
                    } else if ( type === 'scrollright' ) {
                        this._dispatch( type, scrollX, scrollW - this._gap.right );
                    } else {
                        this._dispatch( 'scrollleft', scrollX, this._gap.left );
                        this._dispatch( 'scrollright', scrollX, scrollW - this._gap.right );
                    }
                }
            }
    
            return this;
        },
    
        /**
         * 내부의 컨텐츠가 스크롤이 발생할 수 있는 만큼 긴 컨텐츠인지 여부 반환
         * scrollleft, scrollright는 가로사이즈, scrolltop, scrollbottom은 세로사이즈를 체크하여 반환
         * @param {String}  type    체크할 event type
         * @returns {Boolean}
         */
        isScrollContent: function ( type ) {
            var result = false;
    
            if ( type === 'scrollleft' || type === 'scrollright' ) {
                result = this._getTargetSize( 'width' ) > 0;
            } else if ( type === 'scrolltop' || type === 'scrollbottom' ) {
                result = this._getTargetSize( 'height' ) > 0;
            }
    
            return result;
        },
    
        //이벤트 및 기본설정 삭제
        clear: function () {
            this.disable();
            return this;
        },
    
        // ===============	Private Methods	=============== //
    
        _setEvents: function () {
            this._scrollHandler = $B.bind(function (e) {
                this.trigger();
            }, this);
    
            this.enable();
        },
    
        _getTargetSize: function ( type ) {
            var result = 0,
                prop = $B.string.capitalize( type );
    
            if ( this._winTarget ) {
                result = $B.measure['document' + prop]() - $B.measure['window' + prop]();
            } else {
                result = this._target['scroll' + prop] - this._target['client' + prop];
                result = result - this._correctSize;
            }
    
            return result;
        },
    
        _dispatch: function ( type, pos, base ) {
            var isActivePos = false;
    
            if ( type === 'scrollleft' || type === 'scrolltop' ) {
                isActivePos = pos <= base;
            } else {
                isActivePos = pos >= base;
            }
    
            if ( !this._active[type] && isActivePos ) {
                this._active[type] = true;
                this.dispatch( type, {target: this._target, currentTarget: this._target} );
            } else if ( !isActivePos ) {
                this._active[type] = false;
            }
        }
    }, '$B.event.ScrollEnd');


    // ============================================================== //
    // =====================	Swipe		========================= //
    // ============================================================== //
    
    /**
     * 스마트폰에서 대상영역을 Swipe시킬때 사용 (Windows8.* 터치 디바이스 지원)
     * onSwipe, onMove Event Property : type, target, axis:(vertical, horizontal), swipe:('left', 'right', 'up', 'down', 'none'), moveX, moveY, growX, growY, duration, speed<br>
     * onAxis Event Property : type, target, axis:(vertical, horizontal), pageX, pageY, direction:(left, right, top, bottom, none)
     * TODO:// Mobile Safari v10~ 에서 "touchmove" e.preventDefault() 동작 하지 않는 문제
     * @class	{Swipe}
     * @constructor
     * @param	{Element, Selector, jQuery}	target		터치이벤트 발생시킬 대상, 내장함수 querySelector() 로 구현되어졌다, 단일개체. http://www.w3.org/TR/css3-selectors/#link
     * @param	{Object}	options
     *      - {String}	axis		axis : vertical, horizontal, auto, (기본값 = 'horizontal')
     *      - {Boolean} preventDefault  safari v10 에서 세로축 touchstart를 막고 싶을때만 설정한다.
     */
    ixBand.event.Swipe = $B.Class.extend({
        SWIPE_BASE_W: 40,//swipe 판별 기준 px
        SWIPE_BASE_H: 40,
    
        _sensitiveH: 1,
        _sensitiveV: 1,
        _enable: true,
    
        initialize: function ( target, options ) {
            this._target = $B( target ).element();
            this._options = options || {};
            this._aType = this._options.axis || 'horizontal';
            this._startX = 0;
            this._startY = 0;
            this._moveX = 0;
            this._moveY = 0;
            this._growX = 0;
            this._growY = 0;
            this._offsetBeginX = 0;
            this._offsetBeginY = 0;
            this._pageX = 0;
            this._pageY = 0;
            this._speed = 0;
            this._startTime = 0;
            this._isTouchMove = false;
            //Swipe 기준 사이즈 보정 설정
            this._swipeWidth = this._swipeSizeCalibration( this.SWIPE_BASE_W, this._sensitiveH );
            this._swipeHeight = this._swipeSizeCalibration( this.SWIPE_BASE_H, this._sensitiveV );
            this._axis = null;
            this._swipe = null;
    
            this._tAction = ( this._aType == 'auto' )? 'none' : ( this._aType == 'horizontal' )? 'pan-y' : 'pan-x';
            this._setTouchAction( this._tAction );
            this._setEvents();
            return this;
        },
    
        // ===============	Public Methods =============== //
        /**
         * 민감도 설정, 화면의 가로사이즈 기준, 기본값 1.
         * 민감도를 Number로 지정, 1보다 커질수록 둔감해지고 작아질수록 민감해진다, h만 설정하면 가로축 세로축의 민감도가 같게 설정된다.
         * @param	{Number}	h	가로축 민감도 설정
         * @param	{Number}	v	세로축 민감도 설정
         * @return	{Swipe}
         */
        //horizontal, vertical 감도 별도 설정
        sensitivity: function ( h, v ) {
            var sv = v || h;
            if ( !sv ) return this;
            this._sensitiveH = h;
            this._sensitiveV = v || h;
            this._swipeWidth = this._swipeSizeCalibration( this.SWIPE_BASE_W, h );
            this._swipeHeight = this._swipeSizeCalibration( this.SWIPE_BASE_H, sv );
            return this;
        },
        /**
         * Swipe 동작 허용 설정
         * @return	{Swipe}
         */
        enable: function () {
            this._gAxis.enable();
            this._enable = true;
            this._setTouchAction( this._tAction );
            return this;
        },
        /**
         * Swipe 동작 비허용 설정
         * @return	{Swipe}
         */
        disable: function () {
            this._gAxis.disable();
            this._enable = false;
            this._setTouchAction( 'auto' );
            return this;
        },
        /**
         * 현재 디바이스 해상도에 맞게 민감도 보정이된 swipeWidth 기준값을 반환.
         * 기본 swipeWidth값은 '40'
         * @return	{Number}	px기준으론 반환.
         */
        swipeWidth: function () {
            return this._swipeWidth;
        },
        /**
         * 현재 디바이스 해상도에 맞게 민감도 보정이된 swipeHeight 기준값을 반환.
         * 기본 swipeHeight값은 '40'
         * @return	{Number}	px기준으론 반환.
         */
        swipeHeight: function () {
            return this._swipeHeight;
        },
        //이벤트 및 기본설정 삭제
        clear: function () {
            this._gAxis.clear();
            this._winTouchEvent.clear();
            this._setTouchAction( 'auto' );
            return this;
        },
    
        // ===============	Private Methods =============== //
    
        _setEvents: function () {
            this._winTouchEvent = new $B.event.TouchEvent( window );
    
            //Axis을 이용하여 제스추어 방향 알아내기
            this._gAxis = new $B.event.GestureAxis( this._target, {
                aType: this._aType,
                preventDefault: this._options.preventDefault
            });
            this._gAxis.addListener( 'axis', $B.bind(function (e) {
                if ( !this._enable ) return this._winTouchEvent.removeListener();
                this.dispatch( 'axis', e );
    
                this._axis = e.axis;
                this._speed = this._getSpeed( this._axis, e.pageX, e.pageY );
                this._startX = e.pageX;
                this._startY = e.pageY;
                this._pageX = e.pageX;
                this._pageY = e.pageY;
                this._moveX = 0;
                this._moveY = 0;
                this._growX = 0;
                this._growY = 0;
                this._offsetBeginX = e.pageX;
                this._offsetBeginY = e.pageY;
                this._startTime = new Date().getTime();
    
                this._addTouchEvent();
            }, this));
    
            this._touchHandler = $B.bind( function (e) {
                if ( !this._enable ) return this._winTouchEvent.removeListener();
    
                switch ( e.type ) {
                    case 'touchmove':
                        e.preventDefault();
    
                        var pageX = this._startX, pageY = this._startY;
    
                        if ( e.touches.length > 0 ) {
                            var touch = e.touches[0];
                            pageX = touch.pageX;
                            pageY = touch.pageY;
                        }
    
                        this._moveX = pageX - this._startX;
                        this._moveY = pageY - this._startY;
                        this._growX = pageX - this._offsetBeginX;
                        this._growY = pageY - this._offsetBeginY;
                        this._speed = this._getSpeed( this._axis, pageX, pageY );
                        this._pageX = pageX;
                        this._pageY = pageY;
                        this._offsetBeginX = pageX;
                        this._offsetBeginY = pageY;
                        this._isTouchMove = true;
    
                        this.dispatch( 'move', {target: e.target, currentTarget: this._target, axis: this._axis, swipe: this._swipe, pageX: this._pageX, pageY: this._pageY, growX: this._growX, growY: this._growY, moveX: this._moveX, moveY: this._moveY, duration: 0, speed: this._speed} );
                        break;
                    case 'touchcancel':
                    case 'touchend':
                        if ( this._isTouchMove ) {
                            var duration = new Date().getTime() - this._startTime;
                            this._swipe = this._getSwipType( this._axis, this._moveX, this._moveY, duration );
                        } else {
                            this._swipe = 'none';
                        }
    
                        this.dispatch( 'swipe', {target: e.target, currentTarget: this._target, axis: this._axis, swipe: this._swipe, pageX: this._pageX, pageY: this._pageY, growX: this._growX, growY: this._growY, moveX: this._moveX, moveY: this._moveY, duration: duration, speed: this._speed} );
                        this._isTouchMove = false;
                        this._winTouchEvent.removeListener();
                        break;
                }
            }, this);
        },
    
        //Swipe 기준 사이즈 보정
        _swipeSizeCalibration: function ( size, sensitivie ) {
            return PX_RATIO * size * sensitivie;
        },
    
        //Touch Pointer Event를 이용할때 이벤트전달 설정
        _setTouchAction: function ( state ) {
            if ( MS_POINTER ) {
                this._target.style[TOUCH_ACTION] = state;//none, auto
                //마우스로 컨트롤시 드래그 방지
    
                if ( state == 'auto' ) {
                    this._target.removeEventListener( 'dragstart', this._dragHandlr, false );
                } else {
                    this._target.addEventListener( 'dragstart', this._dragHandlr, false );
                    //this._target.addEventListener( 'selectstart', function (e) {e.preventDefault();}, false );
                }
            }
        },
    
        _dragHandlr: function (e) {
            e.preventDefault();
        },
    
        _addTouchEvent: function () {
            this._winTouchEvent.addListener( 'touchmove', this._touchHandler, {passive: false} );
            this._winTouchEvent.addListener( 'touchend', this._touchHandler );
            this._winTouchEvent.addListener( 'touchcancel', this._touchHandler );
        },
    
        //Swip 방향 반환 (left, right, up, down, none)
        _getSwipType: function ( type, mx, my, swipeTime ) {
            var swipeSize = 0, result = 'none';
    
            if ( type == 'horizontal' ) {
                swipeSize = this._sensitivityCalibration( this._swipeWidth, swipeTime );
    
                if ( swipeSize <= Math.abs(mx) ) {
                    if ( mx > 0 ) result = 'right';
                    if ( mx < 0 ) result = 'left';
                }
            } else {
                swipeSize = this._sensitivityCalibration( this._swipeHeight, swipeTime );
    
                if ( swipeSize <= Math.abs(my) ) {
                    if ( my > 0 ) result = 'down';
                    if ( my < 0 ) result = 'up';
                }
            }
            return result;
        },
    
        //터치를 빠르게 진행할경우 sensitivity를 민감하게 설정
        _sensitivityCalibration: function ( swipeSize, swipeTime ) {
            if ( swipeTime > 50 && swipeTime < 200 ) {
                return swipeSize * 0.2;
            } else {
                return swipeSize;
            }
        },
    
        _getSpeed: function ( axis, x, y ) {
            var result = 0;
    
            if ( axis === 'horizontal' ) {
                result = Math.abs( this._pageX - x );
            } else {
                result = Math.abs( this._pageY - y );
            }
    
            return result || 0;
        }
    }, '$B.event.Swipe');


    // ============================================================== //
    // =====================	Matrix		========================= //
    // ============================================================== //
    
    /**
     * 3x3 변형행렬, 2D Matrix
     * @class	{Matrix}
     * @constructor
     * @param	{Number}	a	크기를 조절하거나 회전할 때 x축의 픽셀 위치에 영향을 주는 값.
     * @param	{Number}	b	회전하거나 기울일 때 y축의 픽셀 위치에 영향을 주는 값.
     * @param	{Number}	c	회전하거나 기울일 때 x축의 픽셀 위치에 영향을 주는 값.
     * @param	{Number}	d	크기를 조절하거나 회전할 때 y축의 픽셀 위치에 영향을 주는 값.
     * @param	{Number}	tx	x축을 따라 각 점이 평행 이동할 거리.
     * @param	{Number}	ty	y축을 따라 각 점이 평행 이동할 거리.
     */
    ixBand.geom.Matrix = $B.Class.extend({
        //degrees to radians
        DEG_TO_RAD: Math.PI / 180,
    
        initialize: function ( a, b, c, d, tx, ty ) {
            this.a = a || 1;
            this.b = b || 0;
            this.u = 0;
            this.c = c || 0;
            this.d = d || 1;
            this.v = 0;
            this.tx = tx || 0;
            this.ty = ty || 0;
            this.w = 1;
        },
    
        // ===============	Public Methods =============== //
    
        /**
         * matrix를 CSS3에서 사용할 수 있도록 문자열로 반환
         * @return {Matrix}
         */
        toString: function () {
            var m = this;
            return m.a + ',' + m.b + ',' + m.c + ',' + m.d + ',' + m.tx + ',' + m.ty;
        },
        /**
         * 행렬을 현재 행렬과 연결하여 두 행렬의 기하학적 효과를 효율적으로 결합
         * @param	{Matrix}	mtx
         * @return {Matrix}
         */
        concat: function ( mtx ) {
            var result = {},
                m = this;
    
            result.a = m.a * mtx.a + m.b * mtx.c + m.u * mtx.tx;
            result.b = m.a * mtx.b + m.b * mtx.d + m.u * mtx.ty;
            result.u = m.a * mtx.u + m.b * mtx.v + m.u * mtx.w;
            result.c = m.c * mtx.a + m.d * mtx.c + m.v * mtx.tx;
            result.d = m.c * mtx.b + m.d * mtx.d + m.v * mtx.ty;
            result.v = m.c * mtx.u + m.d * mtx.v + m.v * mtx.w;
            result.tx = m.tx * mtx.a + m.ty * mtx.c + m.w * mtx.tx;
            result.ty = m.tx * mtx.b + m.ty * mtx.d + m.w * mtx.ty;
            result.w = m.tx * mtx.u + m.ty * mtx.v + m.w * mtx.w;
            m.a = result.a;
            m.b = result.b;
            m.u = result.u;
            m.c = result.c;
            m.d = result.d;
            m.v = result.v;
            m.tx = result.tx;
            m.ty = result.ty;
            m.w = result.w;
            return m;
        },
        /**
         * 이 행렬의 복제본인 새 Matrix 객체와, 포함된 객체의 동일한 복사본을 함께 반환.
         * @return	{Matrix}	복제본 Matrix
         */
        clone: function () {
            var m = this;
            return	new $B.geom.Matrix( m.a, m.b, m.c, m.d, m.tx, m.ty );
        },
        /**
         * 행렬에 크기 조절 변형을 적용. x 축에는 sx가 곱해지고 y 축에는 sy가 곱해짐.
         * @param	{Number}	sx	scaleX
         * @param	{Number}	sy	scaleY.
         * @return {Matrix}
         */
        scale: function ( sx, sy ) {
            var mtx = new $B.geom.Matrix( sx, 0, 0, sy, 0, 0 );
            return this.concat( mtx );
        },
        /**
         * Matrix 객체에 회전 변형을 적용
         * @param	{Number}	angle	Degree
         * @return {Matrix}
         */
        rotate: function ( angle ) {
            var rad = this.DEG_TO_RAD * angle,
                cosVal = Math.cos( rad ),
                sinVal = Math.sin( rad ),
                mtx = new $B.geom.Matrix( cosVal, sinVal, -sinVal, cosVal, 0, 0 );
            return this.concat( mtx );
        },
        /**
         * Matrix 객체에 기울이기 또는 시어링 변형을 적용
         * @param	{Number}	rx	Degree
         * @param	{Number}	ry	Degree
         * @return {Matrix}
         */
        skew: function ( rx, ry ) {
            var radx = this.DEG_TO_RAD * rx,
                rady = this.DEG_TO_RAD * ry,
            //mtx = new $B.geom.Matrix( 1, rady, radx, 1, 0, 0 );
                mtx = new $B.geom.Matrix( 1, Math.tan(rady), Math.tan(radx), 1, 0, 0 );
            return this.concat( mtx );
        },
        /**
         * dx 및 dy 매개 변수에 지정된 대로 x 및 y 축을 따라 행렬을 평행 이동
         * @param	{Number}	dx	x 축을 따라 오른쪽으로 이동할 크기
         * @param	{Number}	dy	y 축을 따라 아래쪽으로 이동할 크기
         * @return {Matrix}
         */
        translate: function ( dx, dy ) {
            dy = dy || 0;
            var mtx = new $B.geom.Matrix( 1, 0, 0, 1, dx, dy );
            return this.concat( mtx );
        },
        /**
         * Matrix 객체가 나타내는 기하학적 변형을 지정된 점에 적용한 결과를 반환
         * @param	{Point}		point	x와 y를 가지고 있는 Object
         * @return	{Point}		x와 y좌표를 가지고 있는 Point 객체 반환
         */
        transform: function ( point ) {
            var result = {},
                m = this;
    
            result.x = m.a * point.x + m.c * point.y + m.tx;
            result.y = m.b * point.x + m.d * point.y + m.ty;
            return result;
        }
    }, '$B.geom.Matrix');


    // ============================================================== //
    // =====================	Matrix3D	========================= //
    // ============================================================== //
    
    /**
     * 4x4 변형행렬, 3D Matrix
     * @class {Matrix3D}
     */
    ixBand.geom.Matrix3D = $B.Class.extend({
        //degrees to radians
        DEG_TO_RAD: Math.PI / 180,
    
        initialize: function ( m11, m12, m13, m14, m21, m22, m23, m24, m31, m32, m33, m34 ) {
            /*
             | 1 0 0 0 |	sx	m12	m13	tx |
             | 0 1 0 0 |	m21	sy	m23	ty |
             | 0 0 1 0 |	m31	m32	sz	tz |
             | 0 0 0 1 |	m41	m42	m43	tw |
             */
            /*
             if ( a || b || c ) {
             this.rawData = [a, b, c, [0, 0, 0, 1]];
             } else {
             this.rawData = [
             [1, 0, 0, 0],
             [0, 1, 0, 0],
             [0, 0, 1, 0],
             [0, 0, 0, 1]];
             }
             */
    
            if ( m11 || m11 == 0 ) {
                this.m11 = m11;//scaleX
                this.m12 = m12;
                this.m13 = m13;
                this.m14 = m14;//tx
                this.m21 = m21;
                this.m22 = m22;//scaleY
                this.m23 = m23;
                this.m24 = m24;//ty
                this.m31 = m31;
                this.m32 = m32;
                this.m33 = m33;//scaleZ
                this.m34 = m34;//tz
            } else {
                this.m11 = 1;
                this.m12 = 0;
                this.m13 = 0;
                this.m14 = 0;
                this.m21 = 0;
                this.m22 = 1;
                this.m23 = 0;
                this.m24 = 0;
                this.m31 = 0;
                this.m32 = 0;
                this.m33 = 1;
                this.m34 = 0;
            }
    
            this.m41 = 0;
            this.m42 = 0;
            this.m43 = 0;
            this.m44 = 1;//tw
        },
    
        // ===============	Public Methods =============== //
    
        //matrix3d를 CSS3에서 사용할 수 있도록 문자열로 반환
        toString: function () {
            //var raw = this.rawData;
            //return raw[0].join(',') + ',' + raw[1].join(',') + ',' + raw[2].join(',') + ',' + raw[3].join(',');
            var m = this;
            return m.m11 +','+ m.m12 +','+ m.m13 +','+ m.m14 +','+ m.m21 +','+ m.m22 +','+ m.m23 +','+ m.m24 +','+ m.m31 +','+ m.m32 +','+ m.m33 +','+ m.m34 +','+ m.m41 +','+ m.m42 +','+ m.m43 +','+ m.m44;
        },
    
        /**
         * 행렬을 현재 행렬과 연결하여 두 행렬의 기하학적 효과를 효율적으로 결합
         * @param	{Matrix3D}	mtx3d
         * @return	{Matrix3D}
         */
        concat: function ( mtx3d ) {
            var om = this,
                nm = mtx3d,
                m11, m12, m13, m14, m21, m22, m23, m24, m31, m32, m33, m34, m41, m42, m43, m44;
    
            m11 = om.m11 * nm.m11 + om.m12 * nm.m21 + om.m13 * nm.m31 + om.m14 * nm.m41;
            m12 = om.m11 * nm.m12 + om.m12 * nm.m22 + om.m13 * nm.m32 + om.m14 * nm.m42;
            m13 = om.m11 * nm.m13 + om.m12 * nm.m23 + om.m13 * nm.m33 + om.m14 * nm.m43;
            m14 = om.m11 * nm.m14 + om.m12 * nm.m24 + om.m13 * nm.m34 + om.m14 * nm.m44;
    
            m21 = om.m21 * nm.m11 + om.m22 * nm.m21 + om.m23 * nm.m31 + om.m24 * nm.m41;
            m22 = om.m21 * nm.m12 + om.m22 * nm.m22 + om.m23 * nm.m32 + om.m24 * nm.m42;
            m23 = om.m21 * nm.m13 + om.m22 * nm.m23 + om.m23 * nm.m33 + om.m24 * nm.m43;
            m24 = om.m21 * nm.m14 + om.m22 * nm.m24 + om.m23 * nm.m34 + om.m24 * nm.m44;
    
            m31 = om.m31 * nm.m11 + om.m32 * nm.m21 + om.m33 * nm.m31 + om.m34 * nm.m41;
            m32 = om.m31 * nm.m12 + om.m32 * nm.m22 + om.m33 * nm.m32 + om.m34 * nm.m42;
            m33 = om.m31 * nm.m13 + om.m32 * nm.m23 + om.m33 * nm.m33 + om.m34 * nm.m43;
            m34 = om.m31 * nm.m14 + om.m32 * nm.m24 + om.m33 * nm.m34 + om.m34 * nm.m44;
    
            m41 = om.m41 * nm.m11 + om.m42 * nm.m21 + om.m43 * nm.m31 + om.m44 * nm.m41;
            m42 = om.m41 * nm.m12 + om.m42 * nm.m22 + om.m43 * nm.m32 + om.m44 * nm.m42;
            m43 = om.m41 * nm.m13 + om.m42 * nm.m23 + om.m43 * nm.m33 + om.m44 * nm.m43;
            m44 = om.m41 * nm.m14 + om.m42 * nm.m24 + om.m43 * nm.m34 + om.m44 * nm.m44;
    
            om.m11 = m11;
            om.m12 = m12;
            om.m13 = m13;
            om.m14 = m14;
    
            om.m21 = m21;
            om.m22 = m22;
            om.m23 = m23;
            om.m24 = m24;
    
            om.m31 = m31;
            om.m32 = m32;
            om.m33 = m33;
            om.m34 = m34;
    
            om.m41 = m41;
            om.m42 = m42;
            om.m43 = m43;
            om.m44 = m44;
    
    
            return this;
        },
        /**
         * 이 행렬의 복제본인 새 Matrix3D 객체와, 포함된 객체의 동일한 복사본을 함께 반환.
         * @return	{Matrix3D} 복제된 새 Matrix3D
         */
        clone: function () {
            var mtx3d = new $B.geom.Matrix3D();
            mtx3d.rawData = this.rawData.concat([]);
            return	mtx3d;
        },
        /**
         * 행렬에 크기 조절 변형을 적용.
         * @param	{Number}	sx	scaleX
         * @param	{Number}	sy	scaleY
         * @param	{Number}	sz	scaleZ
         * @return	{Matrix3D}
         */
        scale: function ( sx, sy, sz ) {
            var mtx3d = new $B.geom.Matrix3D( sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0 );
            return this.concat( mtx3d );
        },
        /**
         * 행렬에 X축 크기 조절 변형을 적용.
         * @param	{Number}	scale	scaleX
         * @return	{Matrix3D}
         */
        scaleX: function ( scale ) {
            return this.scale( scale, 1, 1 );
        },
        /**
         * 행렬에 Y축 크기 조절 변형을 적용.
         * @param	{Number}	scale	scaleY
         * @return	{Matrix3D}
         */
        scaleY: function ( scale ) {
            return this.scale( 1, scale, 1 );
        },
        /**
         * 행렬에 Z축 크기 조절 변형을 적용.
         * @param	{Number}	scale	scaleZ
         * @return	{Matrix3D}
         */
        scaleZ: function ( scale ) {
            return this.scale( 1, 1, scale );
        },
        /**
         * Matrix 객체에 X축 회전 변형을 적용
         * @param	{Number}	angle	Degree
         * @return	{Matrix3D}
         */
        rotateX: function ( angle ) {
            var rad = this.DEG_TO_RAD * angle,
                cosVal = Math.cos( rad ),
                sinVal = Math.sin( rad ),
                mtx3d = new $B.geom.Matrix3D( 1, 0, 0, 0, 0, cosVal, -sinVal, 0, 0, sinVal, cosVal, 0 );
            return this.concat( mtx3d );
        },
        /**
         * Matrix 객체에 Y축 회전 변형을 적용
         * @param	{Number}	angle	Degree
         * @return	{Matrix3D}
         */
        rotateY: function ( angle ) {
            var rad = this.DEG_TO_RAD * angle,
                cosVal = Math.cos( rad ),
                sinVal = Math.sin( rad ),
                mtx3d = new $B.geom.Matrix3D( cosVal,  0, sinVal, 0, 0, 1, 0, 0, -sinVal, 0,  cosVal, 0 );
            return this.concat( mtx3d );
        },
        /**
         * Matrix 객체에 Z축 회전 변형을 적용
         * @param	{Number}	angle	Degree
         * @return	{Matrix3D}
         */
        rotateZ: function ( angle ) {
            var rad = this.DEG_TO_RAD * angle,
                cosVal = Math.cos( rad ),
                sinVal = Math.sin( rad ),
                mtx3d = new $B.geom.Matrix3D( cosVal, -sinVal, 0, 0, sinVal, cosVal, 0, 0, 0, 0, 1, 0 );
            return this.concat( mtx3d );
        },
        /**
         * dx, dy, dz 매개 변수에 지정된 대로 x, y, z 축을 따라 행렬을 평행 이동
         * @param	{Number}	dx	x 축을 따라 오른쪽으로 이동할 크기
         * @param	{Number}	dy	y 축을 따라 아래쪽으로 이동할 크기
         * @param	{Number}	dz	z 축을 따라 이동할 크기
         * @return	{Matrix3D}
         */
        translate3d: function ( dx, dy, dz ) {
            var mtx3d = new $B.geom.Matrix3D( 1, 0, 0, dx, 0, 1, 0, dy, 0, 0, 1, dz );
            return this.concat( mtx3d );
        },
        /**
         * Matrix3D 객체가 나타내는 기하학적 변형을 지정된 점에 적용한 결과를 반환
         * @param	{Point3D}		point3D	x, y, z를 가지고 있는 Object
         * @return	{Point3D}		x, y, z좌표를 가지고 있는 Point3D 객체 반환
         */
        transform3d: function ( point3D ) {
            var result = {},
                m = this;
    
            result.x = m.m11 * point3D.x + m.m12 * point3D.y + m.m13 * point3D.z + m.m14;
            result.y = m.m21 * point3D.x + m.m22 * point3D.y + m.m23 * point3D.z + m.m24;
            result.z = m.m31 * point3D.x + m.m32 * point3D.y + m.m33 * point3D.z + m.m34;
            return result;
        }
    }, '$B.geom.Matrix3D');


    // ============================================================== //
    // =====================	HttpRequest	========================= //
    // ============================================================== //
    /**
     * HttpRequest (xml, text기반 통신), 로컬서버에서는 비정상작동 할수 있다.<br>
     * 같은 도메인의 데이타 파일만 가져올수 있다.<br>
     * JS파일 로드에서 사용된다.(new_script.text = e.text)
     * Evetn : complete, error, progress(IE10~지원, Android2.*~지원)
     * Event Property : type, target, xml, text, status(상태 코드수치), statusText(에러메세지를 받을때 활용), data
     * @class	{HttpRequest}
     * @constructor
     * @param	{String}	path	경로 : String
     * @param	{Object}	data	이벤트핸들러 에서 전달, 'e.data'
     * @param	{String}	method	'GET' or 'POST', 기본값 'GET'<br>POST요청은 URL매개변수의 길이가 2,048글자를 넘을때만 사용, IE에서 URL길이 2,048자이상은 잘라버리기때문.
     * @param	{String}	charset	기본값 'UTF-8'(method가 POST 일때만 적용)
     */
    ixBand.net.HttpRequest = $B.Class.extend({
        initialize: function ( path, data, method, charset ) {
            this._path = path;
            this._data = data;
            this.xhr = null;
            this._method = method || 'GET';
            this._charset = charset || 'UTF-8';
    
            this._setEvents();
        },
        // ===============	Public Methods =============== //
    
        /** HttpRequest 정지, 이벤트삭제 */
        abort: function () {
            this._removeEvents();
            this.xhr.abort();
            return this;
        },
        /**
         * HttpRequest connect<br>
         * 다시 호출할려면 abort시킨후 호출해야한다.
         * @param	{String}	params	예)count=100&time=100
         * @param	{Boolean}	cache	GET으로 요청할때 캐시가 false면 url에 requestTime을 추가하여 캐시를 방지한다.
         */
        load: function ( params, cache ) {
            var sp = ( this._path.indexOf('?') < 0 )? '?' : '&',
                url = ( cache )? this._path : this._path + sp + 'requestTime=' + new Date().getTime();
    
            //URI encode
            if ( params ) {
                var datas = params.split( '&' ),
                    paramNum = datas.length,
                    dataSet, i;
    
                params = '';
                for ( i = 0; i < paramNum; ++i ) {
                    dataSet = datas[i].split( '=' );
                    params += dataSet[0] + '=' + encodeURIComponent( dataSet[1] );
                    if ( i < paramNum - 1 ) params += '&';
                }
            }
    
            this.xhr.onreadystatechange = this._handler;
    
            //GET
            if ( /get/i.test(this._method) ) {
                if ( params && params != '' ) url += '&' + params;
                this.xhr.open( 'GET', url, true );
                this.xhr.send( null );
                //POST
            } else {
                this.xhr.open( 'POST', url, true );
                this.xhr.setRequestHeader( 'Content-type', 'application/x-www-form-urlencoded; charset=' + this._charset );
                this.xhr.send( params );
            }
            return this;
        },
    
        /**
         * 서버에 Stream으로 파일전송<br>
         * 다시 호출할려면 abort시킨후 호출해야한다.
         * method설정과 괸계없이 무조건 POST전송
         * @param	{String}	data	base64 image data
         */
        upload: function ( data ) {
            this.xhr.onreadystatechange = this._handler;
            this.xhr.open( 'POST', this._path, true );
            this.xhr.setRequestHeader( 'Content-type', 'application/octet-stream' );
            //this.xhr.setRequestHeader( 'Content-Type', 'application/upload' );
            this.xhr.send( data );
    
            return this;
        },
    
        // ===============	Private Methods =============== //
    
        _setEvents: function () {
            this._handler = $B.bind(function (e) {
                //DONE
                if ( this.xhr.readyState !== 4 ) return false;
                var evt = {target: this, xml: this.xhr.responseXML, text: this.xhr.responseText, status: this.xhr.status, statusText: this.xhr.statusText, data: this._data};
    
                if ( this.xhr.status == 200 ) {
                    this.dispatch( 'complete', evt );
                } else {
                    this.dispatch( 'error', evt );
                }
    
                this._removeEvents();
            }, this);
    
            //"Microsoft.XMLHTTP", "MSXML2.XMLHTTP.3.0"는 readyState 3를 지원하지 않는다.
            var i, activeXids = ['MSXML2.XMLHTTP.6.0', 'MSXML3.XMLHTTP', 'Microsoft.XMLHTTP', 'MSXML2.XMLHTTP.3.0'],
                activeXidNum = activeXids.length;
    
            if ( window.XMLHttpRequest ) {
                this.xhr = new XMLHttpRequest();
            } else {
                for ( i = 0; i < activeXidNum; ++i ) {
                    try {
                        this.xhr = new ActiveXObject( activeXids[i] );
                        break;
                    } catch (e) {}
                }
            }
        },
    
        _removeEvents: function () {
            if ( this.xhr ) this.xhr.onreadystatechange = null;
        }
    }, '$B.net.HttpRequest');


    // ============================================================== //
    // =====================	ImageLoader	========================= //
    // ============================================================== //
    /**
     * 이미지 로더
     * target을 지정하지 않았을때는 el.appendChild(e.img) 이런식으로 화면에 붙인다.<br>
     * img src를 넣을경우 특정 브라우져에서 정상로드시에도 error를 반환할때가 있다.<br>
     * 로컬에서 테스트시 ie6,7에서 complete 이벤트가 무한발생한다.
     * Event : complete, error
     * Event Property : type, img, data
     * @constructor
     * @param	{String}	path	이미지경로
     * @param	{HTMLImageElement}	target	img 타겟, 지정하지 않을때는 null을 설정한다.
     * @param	{Object}	data	이벤트핸들러 에서 전달, 'e.data'
     */
    ixBand.net.ImageLoader = $B.Class.extend({
        initialize: function ( path, target, data ) {
            this._path = path;
            this._data = data;
            this.img = target || new Image();
            this._isComplete = false;
    
            this._setEvents();
        },
    
        // ===============	Public Methods =============== //
        /** Load 취소 */
        unload: function () {
            if ( this._isComplete ) return;
            this._removeEvents();
            this.img.src = null;
            return this;
        },
    
        /** Load 시작, 다시 호출할려면 unload시킨후 호출. */
        load: function () {
            if ( this._isComplete ) return;
            $B( this.img ).addEvent( 'load', this._handler );
            $B( this.img ).addEvent( 'error', this._handler );
            this.img.src = this._path;
            return this;
        },
    
        // ===============	Private Methods =============== //
    
        _setEvents: function () {
            this._handler = $B.bind( function (e) {
                var evt = {target: this, img: this.img, data: this._data};
    
                switch (e.type) {
                    case 'load':
                        evt.type = 'complete';
                        this._isComplete = true;
                        this.dispatch( 'complete', evt );
                        break;
                    case 'error':
                        this.dispatch( 'error', evt );
                        break;
                }
    
                this._removeEvents();
            }, this);
        },
    
        _removeEvents: function () {
            $B( this.img ).removeEvent( 'load', this._handler );
            $B( this.img ).removeEvent( 'error', this._handler );
        }
    }, '$B.net.ImageLoader');


    // ============================================================== //
    // =====================	JSLoader	========================= //
    // ============================================================== //
    /**
     * JS파일 로더, 로컬서버에서는 비정상작동 할수 있다.
     * Event : complete, error 이벤트를 지원하지 않는다.
     * Event Property : type, script, data
     * @class	{JSLoader}
     * @constructor
     * @param	{String}	path	경로 : String
     * @param	{Object}	data	이벤트핸들러 에서 전달, 'e.data'
     */
    ixBand.net.JSLoader = $B.Class.extend({
        initialize: function ( path, data ) {
            this._path = path;
            this._isComplete = false;
            this._data = data;
            this.script = document.createElement( 'script' );
            this.script.type = 'text/javascript';
    
            this._setEvents();
        },
    
        // ===============	Public Methods =============== //
        /** Load 취소, Load가 완료된 후에는 unload되지 않는다. */
        unload: function () {
            if ( this._isComplete ) return;
            this._removeEvents();
            this.script.src = null;
        },
    
        /** Load 시작, 로드가 진행중이면 unload시킨후 로드해야 한다. 로드완료후 호출 불가능. */
        load: function () {
            if ( this._isComplete ) return;
    
            //IE
            if ( this.script.readyState ) {
                this.script.onreadystatechange = $B.bind( function (e) {
                    if ( this.script.readyState === 'loaded' || this.script.readyState === 'complete' ) {
                        this._removeEvents();
                        this._isComplete = true;
                        this.dispatch( 'load', {target: this, script: this.script, data: this._data} );
                    }
                }, this);
            } else {
                this.script.onload = $B.bind( function (e) {
                    this._removeEvents();
                    this._isComplete = true;
                    this.dispatch( 'load', {target: this, script: this.script, data: this._data} );
                }, this);
            }
    
            this.script.src = this._path;
            document.getElementsByTagName( 'head' )[0].appendChild( this.script );
        },
    
        //로드여부 반환
        complete: function () {
            return this._isComplete;
        },
    
        // ===============	Private Methods =============== //
    
        _removeEvents: function () {
            //IE
            if ( this.script.readyState ) {
                this.script.onreadystatechange = null;
            } else {
                this.script.onload = null;
            }
        }
    
    }, '$B.net.JSLoader');
})();
/**
 * ixSnack - Javascript Library (jQuery plugin)
 * jQuery v1.8~ (http://jquery.com) + ixBand v1.0~ (http://ixband.com)
 * @version v0.4.2 (1707120928)
 * The MIT License (MIT), http://ixsnack.com
 */
!function(a,b){"use strict";if(window.ixSnack){console&&(console.warn?console.warn('"ixSnack"\uc774 \uc911\ubcf5 \uc120\uc5b8\ub418\uc5b4 \uc815\uc0c1 \ub3d9\uc791\uc744 \ubcf4\uc7a5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.'):b.log('"ixSnack"\uc774 \uc911\ubcf5 \uc120\uc5b8\ub418\uc5b4 \uc815\uc0c1 \ub3d9\uc791\uc744 \ubcf4\uc7a5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.'))}var c=1,d={};window.ixSnack={VERSION:"0.4.2",MS_POINTER:navigator.pointerEnabled||navigator.msPointerEnabled,TRANSFORM:function(){if(!b.ua.MSIE||!b.ua.DOC_MODE_IE10_LT)for(var a="transform WebkitTransform".split(" "),c=0;c<a.length;++c)if(void 0!==document.createElement("div").style[a[c]])return b.string.hyphenCase(a[c]);return null}(),setPlugin:function(c,d,e,f,g){if("string"==typeof f){if(/^get[A-Z]/.test(f))return ixSnack.callPlugin(c.eq(0),d,f,g);c.each(function(b,c){ixSnack.callPlugin(a(c),d,f,g)})}else c.each(function(c,g){var h=a(g);ixSnack.hasPlugin(h,d)||(b.object.is(f)&&h.ixOptions(f),ixSnack.addPlugin(h,d,new e(h)))});return c},hasPlugin:function(a,b){return a.prop(b)&&a.hasClass("ix-"+b+"-apply")},addPlugin:function(a,b,e){a.prop(b,c).addClass("ix-"+b+"-apply"),d[c]=e,c++},removePlugin:function(a,b){a.removeProp(b).removeClass("ix-"+b+"-apply").removeClass("ix-options-apply"),delete d[a.prop(b)]},callPlugin:function(a,b,c,e,f){var g=a.prop(b);if(d[g]&&"function"==typeof d[g][c])return d[g][c](e,f)},objToOptions:function(a,c){for(var d in c){var e=c[d];if(e||"boolean"==typeof e||"number"==typeof e){var f=b.string.hyphenCase(d),g=new RegExp(f+"\\s*?:\\s*?([\\w\\-.,\\s\\/?&:=\\(\\)%]+);?","gi");g.test(a)?a=a.replace(g,f+":"+e+";"):(a&&!/;\s*?$/.test(a)&&(a+=";"),a+=" "+f+":"+e)}}return a},parseOptions:function(a){var c={};return String(a).replace(/([a-z\-]+)\s*?:\s*?([\w\-.,\s\/?&:=\(\)%\*\!\~]+);?/g,function(a,d,e){c[b.string.camelCase(d)]="add-first-str"===d||"add-last-str"===d?{value:decodeURIComponent(e),unit:""}:ixSnack.parseOptionValue(b.string.trim(e))}),c},parseOptionValue:function(a){var b={};return a.indexOf(" ")>-1?(b=[],String(a).replace(/([-\d\.]+|[a-z-]+)([a-z\%]+)?/g,function(a,c,d){b.push({value:ixSnack.parseDataType(c),unit:d||""})})):String(a).replace(/([-\d\.\s]+|[a-z-]+)([a-z\%]+)?/,function(a,c,d){b={value:ixSnack.parseDataType(c),unit:d||""}}),b},parseDataType:function(a){return a&&(a.indexOf("true")>-1?a=Boolean(a):a.indexOf("false")>-1?a=Boolean():/^-*[0-9\.]+$/.test(a)&&(a=Number(a))),a},getOptions:function(a){var c=ixSnack.parseOptions(a),d={axis:c.axis?c.axis.value:"horizontal",loop:!c.loop||c.loop.value,duration:c.duration?c.duration.value:0,autoPlay:!!c.autoPlay&&c.autoPlay.value,delay:c.delay?c.delay.value:4e3,blockClickEvent:!!c.blockClickEvent&&c.blockClickEvent.value,viewLength:c.viewLength?c.viewLength.value:1,motionType:c.motionType?c.motionType.value:"",viewportRatio:c.viewportRatio?c.viewportRatio:null,easing:c.easing?c.easing.value:"ease",itemSize:c.itemSize?c.itemSize:null,itemMargin:c.itemMargin?c.itemMargin:null,defaultIndex:c.defaultIndex?c.defaultIndex.value:0,datumPoint:c.datumPoint?c.datumPoint.value+c.datumPoint.unit:0,opposite:!!c.opposite&&c.opposite.value,paging:!!c.paging&&c.paging.value,correctEndpoint:!!c.correctEndpoint&&c.correctEndpoint.value,includeMargin:!!c.includeMargin&&c.includeMargin.value,bounce:!c.bounce||c.bounce.value,min:c.min?c.min.value:null,max:c.max?c.max.value:null,gap:c.gap?c.gap.value:1,snap:!!c.snap&&c.snap.value,values:c.values?c.values:null,numberFormat:!!c.numberFormat&&c.numberFormat.value,addFirstStr:c.addFirstStr?c.addFirstStr.value:"",addLastStr:c.addLastStr?c.addLastStr.value:"",value:c.value?c.value.value:null,disable:!!c.disable&&c.disable.value,touchDisable:!!c.touchDisable&&c.touchDisable.value,currencyFormat:c.currencyFormat?c.currencyFormat.value:"",numberFixed:c.numberFixed?c.numberFixed.value:0,swipeSensitivity:c.swipeSensitivity?c.swipeSensitivity.value:.5};return d.moveLength=c.moveLength?c.moveLength.value:d.viewLength,d.easing=b.string.camelCase(d.easing),d.paging&&d.loop&&(d.paging=!1),d.numberFormat||(d.currencyFormat=""),d},move:function(a,c,d,e,f,g){if(a.length){var h="";if(ixSnack.TRANSFORM)if(h=b.ua.TOUCH_DEVICE?ixSnack.TRANSFORM+":translate3d("+("horizontal"===d.axis?c+",0":"0,"+c)+",0);":ixSnack.TRANSFORM+":translate"+("horizontal"===d.axis?"X":"Y")+"("+c+");",g)b(a).transition(h,"none"),"function"==typeof e&&e({data:f});else{var i=ixSnack.getCssEasing?ixSnack.getCssEasing(d.easing):d.easing,j=ixSnack.TRANSFORM+" "+d.duration+"ms "+i+";",k="function"==typeof e?setTimeout(function(a){k&&clearTimeout(k),"function"==typeof e&&e({data:f})},2*d.duration):null;setTimeout(function(c){b(a).transition(h,j,{onTransitionEnd:function(a){k&&clearTimeout(k),"function"==typeof e&&e({data:f})}})},0)}else if(h="horizontal"===d.axis?{left:c}:{top:c},g)a.stop().css(h),"function"==typeof e&&e({data:f});else{var i="ease"===d.easing?"swing":d.easing;a.stop().animate(h,d.duration,i,function(){"function"==typeof e&&e({data:f})})}}},moveTo:function(a,b,c,d,e){this.move(a,b,c,d,e,!0)},size:function(a,b,c,d,e,f){var g="horizontal"===c.axis?"width":"height";this.animate(a,g,b,c,d,e,f)},animate:function(a,c,d,e,f,g,h){if(a.length)if(ixSnack.TRANSFORM)if(h)b(a).transition(c+":"+d,"none"),"function"==typeof f&&f({data:g});else{var i=ixSnack.getCssEasing?ixSnack.getCssEasing(e.easing):e.easing,j="function"==typeof f?setTimeout(function(a){j&&clearTimeout(j),"function"==typeof f&&f({data:g})},2*e.duration):null;setTimeout(function(h){b(a).transition(c+":"+d,c+" "+e.duration+"ms "+i+";",{onTransitionEnd:function(a){j&&clearTimeout(j),"function"==typeof f&&f({data:g})}})},0)}else{var k={};if(k[c]=d,h)a.stop().css(k),"function"==typeof f&&f({data:g});else{var i="ease"===e.easing?"swing":e.easing;a.stop().animate(k,e.duration,i,function(){"function"==typeof f&&f({data:g})})}}}},a.fn.extend({ixOptions:function(c){if(b.object.is(c))return this.each(function(b,d){var e=a(d).attr("data-ix-options"),f=e?ixSnack.objToOptions(e,c):ixSnack.objToOptions("",c);a(d).attr("data-ix-options",f).addClass("ix-options-apply")});var d=ixSnack.parseOptions(this.attr("data-ix-options"));if(b.string.is(c)){var e=d[b.string.camelCase(c)];d=e?b.array.is(e)?[e[0].unit?e[0].value+e[0].unit:e[0].value,e[1].unit?e[1].value+e[1].unit:e[1].value]:e.unit?e.value+e.unit:e.value:void 0}return d},ixSlideMax:function(a,b){return ixSnack.setPlugin(this,"slide-max",ixSnack.SlideMax,a,b)},ixSlideLite:function(a,b){return ixSnack.setPlugin(this,"slide-lite",ixSnack.SlideLite,a,b)},ixOverlayList:function(a,b){return ixSnack.setPlugin(this,"overlay-list",ixSnack.OverlayList,a,b)},ixRangeSlider:function(a,b){return ixSnack.setPlugin(this,"range-slider",ixSnack.RangeSlider,a,b)},ixSlider:function(a,b){return ixSnack.setPlugin(this,"slider",ixSnack.Slider,a,b)},ixRatioSize:function(c){return c&&b.object.is(c)&&this.ixOptions(c),this.each(function(b,c){var d,e,f=a(c),g=ixSnack.parseOptions(f.attr("data-ix-options")),h=g.axis?g.axis.value:"horizontal",i=g.controlType?g.controlType.value:"style",j=!1;g.ratio&&("horizontal"===h?(d=f.width(),e=d*(g.ratio[1].value/g.ratio[0].value),d&&("style"!==i&&"all"!==i||f.css("height",e+"px"),"attr"!==i&&"all"!==i||f.attr("height",e),j=!0)):(e=f.height(),d=e*(g.ratio[0].value/g.ratio[1].value),e&&("style"!==i&&"all"!==i||f.css("width",d+"px"),"attr"!==i&&"all"!==i||f.attr("width",d),j=!0)),j&&f.addClass("ix-ratio-size-apply"))})}}),ixSnack.BaseClass=b.Class.extend({getCurrentIndex:function(){return this._selectIdx},getTotalLength:function(){return this._totalLength},getComputedOption:function(a){return b.isString(a)?(a=b.string.camelCase(a),this._options.hasOwnProperty(a)?this._options[a]:void 0):b.object.clone(this._options)},enable:function(){this._swipe&&this._swipe.enable(),this._thumbController&&this._thumbController.enable(),this._disabled=!1},disable:function(){this._swipe&&this._swipe.disable(),this._thumbController&&this._thumbController.disable(),this._disabled=!0}},"ixSnack.BaseClass"),ixSnack.ListIndexManager=b.Class.extend({initialize:function(a,b){this._options=a||{},this._dispatches="object"==typeof b?b:{},this._selectIdx=0,this._originStartIdx=0,this._lastCloneStartIdx=0,this._originLength=this._options.originLength,this._options.loop&&this._originLength>this._options.viewLength&&(this._originStartIdx=this._options.firstCloneLength,this._lastCloneStartIdx=this._originStartIdx+this._originLength);var c=this._originStartIdx;this._options.defaultIndex&&(this._options.loop?(this.correct(this._options.defaultIndex+this._originStartIdx),c=this._selectIdx):c=this._getCorrectIndex(this._options.defaultIndex)),this._dispatch("init",c)},prev:function(a,b){if(!(this._originLength<=this._options.viewLength)){var c=a||this._options.moveLength;this._setNextIndex(-c,b)}},next:function(a,b){if(!(this._originLength<=this._options.viewLength)){var c=a||this._options.moveLength;this._setNextIndex(c,b)}},correct:function(a){if(this._options.loop&&!(this._originLength<=this._options.viewLength)){var b=this._getCorrectType(a);"next"===b?this._dispatch("correct",this._originStartIdx+(a-this._lastCloneStartIdx)):"prev"===b?this._dispatch("correct",this._lastCloneStartIdx-(this._originStartIdx-a)):this._selectIdx=a}},_setNextIndex:function(a,b){var c=this._selectIdx+a;this._options.loop?b&&(c<1?(this._dispatch("correct",this._lastCloneStartIdx-(this._originStartIdx-this._selectIdx)),c=this._selectIdx+a):c>this._options.totalLength-1&&(this._dispatch("correct",this._originStartIdx+(this._selectIdx-this._lastCloneStartIdx)),c=this._selectIdx+a)):c=this._getCorrectIndex(c),this._dispatch("change",c)},_getCorrectIndex:function(a){if(a<0)a=0;else if(a>this._originLength-this._options.viewLength){var b=this._originLength%this._options.viewLength;if(this._options.paging&&b){var c=Math.ceil(this._originLength/this._options.viewLength)-1,d=Math.ceil(a/this._options.viewLength);d>c&&(a=this._originLength-b)}else a=this._originLength-this._options.viewLength}return a},_getCorrectType:function(a){var b="",c=this._options.datumPoint?1:0;return a+2*this._options.viewLength>this._options.totalLength?b="next":a-this._options.viewLength<c&&(b="prev"),b},_getEndpoint:function(a){var b=!1;if(!this._options.loop)if(this._options.paging){var c=Math.ceil(this._originLength/this._options.viewLength)-1,d=Math.ceil(a/this._options.viewLength);d>=c&&(b=!0)}else a>=this._originLength-this._options.viewLength&&(b=!0);return b},_dispatch:function(a,c){this._selectIdx=c;var d="on"+b.string.capitalize(a);this._dispatches[d]&&this._dispatches[d].call(this,{type:a,index:c,endpoint:this._getEndpoint(c)})}},"ixSnack.ListIndexManager"),ixSnack.ThumbController=b.Class.extend({initialize:function(a,b){this._$controller=a.find("> .ix-controller"),this._$prevBtn=this._$controller.find(".ix-btn-prev"),this._$nextBtn=this._$controller.find(".ix-btn-next"),this._$thumbArea=this._$controller.find(".ix-thumbs"),this._options=b||{},this._isPrevButtonTag=this._isButtonTag(this._$prevBtn),this._isNextButtonTag=this._isButtonTag(this._$nextBtn),this._thumbHtml="",this._isDisabled=!1,this._isBlock=!1,this._selectIdx=0,this._setThumbs(),this._setEvents(),this._selectThumb(0),this._options.originLength<=this._options.viewLength&&(this._$prevBtn.addClass("disabled").attr("aria-disabled",!0),this._$nextBtn.addClass("disabled").attr("aria-disabled",!0),this._$controller.addClass("disabled"),this._$thumbs.find(".ix-btn").attr("aria-disabled",!0))},setIndex:function(a,b){return this._selectThumb(a),this._setArrowState(b),this},enable:function(){return this._isDisabled=!1,this},disable:function(){return this._isDisabled=!0,this},block:function(a){return"boolean"==typeof a?(this._isBlock=a,this):this._isBlock},clear:function(){this._$prevBtn.off("click",this._directionHandler),this._$nextBtn.off("click",this._directionHandler),this._$thumbs.off("click",".ix-btn",this._thumbHandler),this._$thumbArea.html(this._thumbHtml),this._$controller.removeClass("disabled"),this._$prevBtn.removeClass("disabled").removeAttr("aria-disabled"),this._$nextBtn.removeClass("disabled").removeAttr("aria-disabled"),this._removeWaiAria()},_selectThumb:function(a){var b=this._options.paging?Math.ceil(a/this._options.viewLength):a;this._$thumbs.removeClass("active").attr("selected",!1).eq(b).addClass("active").attr("selected",!0),this._selectIdx=a},_setEvents:function(){this._directionHandler=b.bind(function(b){b.preventDefault(),a(b.currentTarget).hasClass("disabled")||this._isDisabled||this._isBlock||(a(b.currentTarget).hasClass("ix-btn-prev")?this._dispatch("prev"):this._dispatch("next"))},this),this._thumbHandler=b.bind(function(b){b.preventDefault(),this._isDisabled||this._isBlock||this._dispatch("index",a(b.currentTarget).closest(".ix-thumb").attr("data-idx"))},this),this._$prevBtn.on("click",this._directionHandler),this._$nextBtn.on("click",this._directionHandler),this._$thumbs.on("click",".ix-btn",this._thumbHandler)},_setArrowState:function(a){this._options.originLength>this._options.viewLength&&!this._options.loop&&(a>0?(this._$prevBtn.removeClass("disabled").attr("aria-disabled",!1),this._isPrevButtonTag&&this._$prevBtn.attr("disabled",!1).prop("disabled",!1)):(this._$prevBtn.addClass("disabled").attr("aria-disabled",!0),this._isPrevButtonTag&&this._$prevBtn.attr("disabled",!0).prop("disabled",!0)),a<this._options.totalLength-this._options.viewLength?(this._$nextBtn.removeClass("disabled").attr("aria-disabled",!1),this._isNextButtonTag&&this._$nextBtn.attr("disabled",!1).prop("disabled",!1)):(this._$nextBtn.addClass("disabled").attr("aria-disabled",!0),this._isNextButtonTag&&this._$nextBtn.attr("disabled",!0).prop("disabled",!0)))},_setThumbs:function(){var c="",d=this._options.paging?Math.ceil(this._options.originLength/this._options.viewLength):this._options.originLength;this._thumbHtml=this._$thumbArea.html();for(var e=a("<div>").append(this._$thumbArea.find("> .ix-thumb")),f=e.html(),g=0;g<d;++g)c+=f.replace(/<!--[-\s]*ix-index[\s-]*-->/gim,g+1);this._$thumbArea.html(c),this._$thumbs=this._$thumbArea.find("> .ix-thumb").each(b.bind(function(b,c){var d=this._options.paging?b*this._options.viewLength:b;a(c).attr("data-idx",d)},this))},_isButtonTag:function(a){var b=!1;if(a.get(0)){var c=a.get(0).nodeName;b=/input/i.test(c)?/button/i.test(a.attr("type")):/button/i.test(c)}return b},_removeWaiAria:function(){this._$thumbs.removeAttr("selected")},_dispatch:function(a,b){this._selectIdx=Number(b),this.dispatch(a,{index:this._selectIdx})}},"ixSnack.ThumbController"),ixSnack.SlideMax=ixSnack.BaseClass.extend({initialize:function(a){this._$target=a,this._$viewport=this._$target.find("> .ix-list-viewport"),this._$ul=this._$viewport.find("> .ix-list-items"),this._options=ixSnack.getOptions(this._$target.attr("data-ix-options")),this._directionType="none",this._selectIdx=0,this._originIdx=-1,this._oldOriginIdx=-1,this._currentPos=0,this._disabled=!1,this._endpoint=!1,this._isTimerBlock=!1,this._getItems(!0),this._setItems(),this._setSize(),this._setAutoPlay(),this._setEvents(),this._options.motionType=this._options.motionType||"slide",this._options.originLength=this._originLength,this._options.totalLength=this._totalLength,this._options.moveLength>this._options.viewLength&&(this._options.moveLength=this._options.viewLength),this._options.duration||(this._options.duration=400),this._thumbController=new ixSnack.ThumbController(this._$target,this._options).addListener("next",b.bind(this._thumbHandler,this)).addListener("prev",b.bind(this._thumbHandler,this)).addListener("index",b.bind(this._thumbHandler,this)),this._listIndexManager=new ixSnack.ListIndexManager(this._options,{onChange:b.bind(this._listIndexEventHandler,this),onCorrect:b.bind(this._listIndexEventHandler,this),onInit:b.bind(this._listIndexEventHandler,this)}),this._dispatch("init")},startTimer:function(){this._disabled||(this._isTimerBlock=!1,this._playTimer())},stopTimer:function(){this._isTimerBlock=!0,this._pauseTimer()},changeIndex:function(a){this._selectOriginIdx(a)},next:function(a,b){this._disabled||this._thumbController.block()||(this._directionType="next",this._listIndexManager.next(a,b))},prev:function(a,b){this._disabled||this._thumbController.block()||(this._directionType="prev",this._listIndexManager.prev(a,b))},clear:function(){this._directionType="none",this._pauseTimer(),this._removeEvents(),this._removeSize(),this._$ul.stop(),this._$items.removeAttr("data-origin-idx").removeAttr("data-idx"),this._$cloneItems&&this._$cloneItems.remove(),ixSnack.removePlugin(this._$target,"slide-max"),this._removeWaiAria()},resize:function(){this._pauseTimer(),this._removeSize(),this._setSize(),this._moveItems(this._selectIdx,"none",!0,!0)},_thumbHandler:function(a){switch(a.type){case"next":this.next();break;case"prev":this.prev();break;case"index":this.changeIndex(a.index)}},_listIndexEventHandler:function(a){switch(a.type){case"change":this._dispatch("slideStart"),this._endpoint=a.endpoint,this._originIdx=Number(this._$items.eq(a.index).attr("data-origin-idx")),this._moveItems(a.index,this._options.motionType);break;case"correct":this._moveItems(a.index,"none",!0);break;case"init":this._endpoint=a.endpoint,this._originIdx=Number(this._$items.eq(a.index).attr("data-origin-idx")),this._moveItems(a.index,"none",!1,!0)}},_getItems:function(a){this._$items=this._$ul.find("> .ix-list-item"),this._totalLength=this._$items.length,a&&(this._originLength=this._totalLength)},_setItems:function(){this._totalLength&&(this._$items.each(function(b,c){a(c).attr("data-origin-idx",b)}),this._options.loop&&this._originLength>this._options.viewLength&&(this._cloneItems(),this._getItems()),this._$items.each(function(b,c){a(c).attr("data-idx",b).attr("aria-hidden",!0)}))},_cloneItems:function(){var a=this._$items.slice(this._totalLength-this._options.viewLength-1,this._totalLength).clone(),b=this._$items.slice(0,this._options.viewLength+1).clone();a.length&&a.insertBefore(this._$items.eq(0)),b.length&&this._$ul.append(b),this._options.firstCloneLength=a.length,this._$cloneItems=a.add(b),this._$cloneItems.addClass("ix-clone")},_setEvents:function(){!this._options.touchDisable&&b.ua.TOUCH_DEVICE&&this._totalLength>this._options.viewLength&&(this._swipe=new b.event.Swipe(this._$viewport.get(0),{axis:this._options.axis,preventDefault:"vertical"===this._options.axis&&b.ua.SAFARI&&parseFloat(b.ua.VERSION)>9}).sensitivity(this._options.swipeSensitivity).addListener("axis",b.bind(function(a){this._thumbController.block()||(this._pauseTimer(),this._dispatch("touchStart"))},this)).addListener("move",b.bind(function(a){this._thumbController.block()||"slide"===this._options.motionType&&this._touchMove(a)},this)).addListener("swipe",b.bind(function(a){if(!this._thumbController.block()){if(this._dispatch("touchEnd"),0===("horizontal"===this._options.axis?a.moveX:a.moveY))return void this._playTimer();this._targetSwipe(a.swipe)}},this))),this._mouseHandler=b.bind(function(a){"mouseover"===a.type?this._pauseTimer():this._playTimer()},this),this._options.autoPlay&&!b.ua.TOUCH_DEVICE&&this._$target.on("mouseover mouseout",this._mouseHandler)},_touchMove:function(a){var b="horizontal"===this._options.axis?a.growX:a.growY,c=this._isOverPosition(b+this._currentPos),d=c?.3*b+this._currentPos:b+this._currentPos;(c&&this._options.bounce||!c)&&(ixSnack.moveTo(this._$ul,d+"px",this._options),this._currentPos=d)},_targetSwipe:function(a){"left"===a||"up"===a?this.next():"right"===a||"down"===a?this.prev():(this._dispatch("slideStart"),this._moveItems(this._selectIdx,this._options.motionType))},_isOverPosition:function(a){var b=!1,c=0;return this._options.loop||(c=this._options.paging&&this._options.viewLength>1?this._indexToPosition(this._options.viewLength*Math.floor(this._totalLength/this._options.viewLength)):this._options.correctEndpoint?-(this._totalLength*this._itemSize-this._viewportSize):this._indexToPosition(this._totalLength-this._options.viewLength),a>0?b=!0:a<c&&(b=!0)),b},_moveItems:function(c,d,e,f){var g=this._getCorrectEndpoint(this._indexToPosition(c),c),h=this._oldOriginIdx===this._originIdx;this._pauseTimer(),this._thumbController.block(!0).setIndex(this._originIdx,c),"slide"===d?ixSnack.move(this._$ul,g+"px",this._options,b.bind(this._moveComplete,this),{idx:c,isCorrect:e,isSilent:f,isUnaltered:h}):ixSnack.moveTo(this._$ul,g+"px",this._options,b.bind(this._moveComplete,this),{idx:c,isCorrect:e,isSilent:f,isUnaltered:h}),this._$items.each(b.bind(function(b,d){var e=a(d);b>=c&&b<c+this._options.viewLength?e.attr("aria-hidden",!1):e.attr("aria-hidden",!0)},this)),this._currentPos=g,this._selectIdx=c,this._oldOriginIdx=this._originIdx},_moveComplete:function(a){!a.data.isCorrect&&this._listIndexManager&&this._listIndexManager.correct(a.data.idx),this._thumbController.block(!1),this._playTimer(),a.data.isSilent||a.data.isCorrect||(a.data.isUnaltered||this._dispatch("change"),this._dispatch("slideEnd"),this._directionType="none")},_getCorrectEndpoint:function(a,b){if(this._originLength>this._options.viewLength&&this._options.correctEndpoint&&!this._options.loop&&!this._options.paging&&this._endpoint){(this._totalLength-b)*this._itemSize<this._viewportSize&&(a=-(this._totalLength*this._itemSize-this._viewportSize))}return a},_removeWaiAria:function(){this._$items.removeAttr("aria-hidden")},_removeEvents:function(){this._$target.off("mouseover mouseout",this._mouseHandler),this._thumbController.clear(),this._swipe&&this._swipe.clear()},_setAutoPlay:function(){this._options.autoPlay&&this._totalLength&&(this._timer=new b.utils.Timer(this._options.delay,0).addListener("timer",b.bind(function(a){this._options.opposite?this.prev():this.next()},this)).start())},_indexToPosition:function(a){return-(a*this._itemSize)},_setSize:function(){if(this._options.viewportRatio&&this._$viewport.css("height",this._getViewportHeight()+"px"),this._totalLength){var a,b,c,d={},e={},f=this._getItemMargins(),g=f[0]+f[1];this._itemSize=this._getItemSize(),this._options.includeMargin||(this._itemSize+=g),"horizontal"===this._options.axis?(a="width",b="innerWidth",c=["marginLeft","marginRight"]):(a="height",b="innerHeight",c=["marginTop","marginBottom"]),e[a]=this._itemSize*this._totalLength+100+"px",d[a]=this._itemSize-g+"px",d[c[0]]=f[0]+"px",d[c[1]]=f[1]+"px",this._totalLength>this._options.viewLength&&(e[c[0]]=this._options.datumPoint),this._$items.css(d),this._$ul.css(e),this._viewportSize=this._$viewport[b]()}},_getViewportHeight:function(){return b(this._$viewport.get(0)).rect().width*(this._options.viewportRatio[1].value/this._options.viewportRatio[0].value)},_selectOriginIdx:function(a){a>this._originLength||a<0||(this._originIdx<a?this.next(a-this._originIdx,!0):this._originIdx>a&&this.prev(this._originIdx-a,!0))},_getItemMargins:function(){var b=[];if(this._options.itemMargin)b=[this._options.itemMargin[0].value,this._options.itemMargin[1].value];else{var c=this._$items.css("horizontal"===this._options.axis?["marginLeft","marginRight"]:["marginTop","marginBottom"]);a.each(c,function(a,c){b.push(parseFloat(c))})}return b},_getItemSize:function(){if(this._options.itemSize)return this._options.itemSize.value;var a="horizontal"===this._options.axis?"width":"height";return b(this._$items.get(0)).rect()[a]},_removeSize:function(){this._$viewport.attr("style",""),this._$ul.attr("style",""),this._$items.attr("style","")},_playTimer:function(){!this._isTimerBlock&&this._timer&&this._timer.reset().start()},_pauseTimer:function(){this._timer&&this._timer.stop()},_dispatch:function(a){var b="init change slideEnd".indexOf(a)>-1?this._endpoint:void 0;this._$target.triggerHandler({type:"ixSlideMax:"+a,currentIndex:this._originIdx,totalLength:this._originLength,endpoint:b,direction:this._directionType})}},"ixSnack.SlideMax"),ixSnack.SlideLite=ixSnack.BaseClass.extend({initialize:function(a){this._$target=a,this._$viewport=this._$target.find("> .ix-list-viewport"),this._$ul=this._$viewport.find("> .ix-list-items"),this._options=ixSnack.getOptions(this._$target.attr("data-ix-options")),this._selectIdx=0,this._disabled=!1,this._isTimerBlock=!1,this._currentPos=0,this._directionType="none",this._getItems(),this._setItems(),this._setSize(),this._setAutoPlay(),this._setEvents(),this._options.motionType=this._options.motionType||"slide",this._options.originLength=this._totalLength,this._options.totalLength=this._totalLength,this._totalLength<3&&(this._options.loop=!1),(this._options.defaultIndex>=this._totalLength||this._options.defaultIndex<0)&&(this._options.defaultIndex=0),this._options.duration||(this._options.duration=400),this._thumbController=new ixSnack.ThumbController(this._$target,this._options).setIndex(this._options.defaultIndex,this._options.defaultIndex).addListener("next",b.bind(this._thumbHandler,this)).addListener("prev",b.bind(this._thumbHandler,this)).addListener("index",b.bind(this._thumbHandler,this)),this._arrangeItems(this._options.defaultIndex),this._selectIdx=this._centerIdx,this._dispatch("init")},startTimer:function(){this._disabled||(this._isTimerBlock=!1,this._playTimer())},stopTimer:function(){this._isTimerBlock=!0,this._pauseTimer()},changeIndex:function(a){a>this._totalLength||a<0||!this._totalLength||(this._selectIdx<a?this.next(a):this._selectIdx>a&&this.prev(a))},next:function(a,b){this._disabled||this._thumbController.block()||!this._totalLength||(this._directionType="next",this._selectMove(this._selectIdx+1,a,"next",b))},prev:function(a,b){this._disabled||this._thumbController.block()||!this._totalLength||(this._directionType="prev",this._selectMove(this._selectIdx-1,a,"prev",b))},resize:function(){this._totalLength&&(this._pauseTimer(),this._removeSize(),this._setSize(),this._arrangeItems(this._selectIdx),this._playTimer())},clear:function(){this._directionType="none",this._pauseTimer(),this._removeEvents(),this._removeStyle(),this._$ul.stop(),this._$items.removeAttr("data-origin-idx").removeAttr("data-idx"),ixSnack.removePlugin(this._$target,"slide-lite"),this._removeWaiAria()},_thumbHandler:function(a){switch(a.type){case"next":this.next();break;case"prev":this.prev();break;case"index":this.changeIndex(a.index)}},_setEvents:function(){!this._options.touchDisable&&b.ua.TOUCH_DEVICE&&this._totalLength>1&&(this._swipe=new b.event.Swipe(this._$viewport.get(0),{axis:this._options.axis,preventDefault:"vertical"===this._options.axis&&b.ua.SAFARI&&parseFloat(b.ua.VERSION)>9}).sensitivity(this._options.swipeSensitivity).addListener("axis",b.bind(function(a){this._thumbController.block()||(this._pauseTimer(),this._dispatch("touchStart"))},this)).addListener("move",b.bind(function(a){this._thumbController.block()||"slide"===this._options.motionType&&this._touchMove(a)},this)).addListener("swipe",b.bind(function(a){if(!this._thumbController.block()){if(this._dispatch("touchEnd"),0===("horizontal"===this._options.axis?a.moveX:a.moveY))return void this._playTimer();this._targetSwipe(a.swipe)}},this))),this._mouseHandler=b.bind(function(a){"mouseover"===a.type?this._pauseTimer():this._playTimer()},this),this._options.autoPlay&&!b.ua.TOUCH_DEVICE&&this._$target.on("mouseover mouseout",this._mouseHandler)},_touchMove:function(a){var b="horizontal"===this._options.axis?a.growX:a.growY,c=this._isOverPosition(b+this._currentPos),d=c?.3*b+this._currentPos:b+this._currentPos;(c&&this._options.bounce||!c)&&(ixSnack.moveTo(this._$ul,d+"px",this._options),this._currentPos=d),this._dispatch("touchMove")},_targetSwipe:function(a){"left"===a||"up"===a?this.next():"right"===a||"down"===a?this.prev():(this._dispatch("slideStart"),this._moveItems(this._selectIdx,"none",this._options.motionType))},_isOverPosition:function(a){var b=!1;return this._options.loop||(this._selectIdx<=0&&a>-this._itemSize?b=!0:this._selectIdx>=this._totalLength-1&&a<-this._itemSize&&(b=!0)),b},_selectMove:function(a,b,c){"number"==typeof b&&a!==b&&(this._arrangeItems(b,c),a=b),a=this._correctSelectIdx(a),a===this._selectIdx&&(c="none"),this._dispatch("slideStart"),this._moveItems(a,c,this._options.motionType)},_correctSelectIdx:function(a){return a>this._totalLength-1?a=this._options.loop?0:this._totalLength-1:a<0&&(a=this._options.loop?this._totalLength-1:0),a},_arrangeItems:function(a,b){var c=this._getCenterIdx(a,b),d=this._getPrevIdx(a,b),e=this._getNextIdx(a,b),f="horizontal"===this._options.axis?"left":"top";d>-1&&this._$items.eq(d).css(f,"0px").show().attr("aria-hidden",!0),this._$items.eq(c).css(f,this._itemSize+"px").show().attr("aria-hidden",!1),e>-1&&this._$items.eq(e).css(f,2*this._itemSize+"px").show().attr("aria-hidden",!0),this._$items.filter(function(a){return d!==a&&e!==a&&c!==a}).hide().attr("aria-hidden",!0),ixSnack.moveTo(this._$ul,-this._itemSize+"px",this._options),this._currentPos=-this._itemSize,this._centerIdx=c,this._prevIdx=d,this._nextIdx=e},_moveItems:function(a,c,d,e){a=this._correctSelectIdx(a);var f=-this._itemSize;this._pauseTimer(),this._thumbController.block(!0).setIndex(a,a),"next"===c?f=-(2*this._itemSize):"prev"===c&&(f=0),"slide"===d?ixSnack.move(this._$ul,f+"px",this._options,b.bind(this._moveComplete,this),{idx:a,isSilent:e}):ixSnack.moveTo(this._$ul,f+"px",this._options,b.bind(this._moveComplete,this),{idx:a,isSilent:e}),this._currentPos=f},_moveComplete:function(a){var b=this._selectIdx;this._thumbController.block(!1),this._playTimer(),this._selectIdx=a.data.idx,this._arrangeItems(this._selectIdx),a.data.isSilent||(b!==this._selectIdx&&this._dispatch("change"),this._dispatch("slideEnd"),this._directionType="none")},_isEndpoint:function(){return!this._options.loop&&this._selectIdx===this._totalLength-1},_getPrevIdx:function(a,b){var c=b?"next"===b?-1:a:a-1;return"next"===b?c:this._options.loop?this._correctSelectIdx(c):c},_getNextIdx:function(a,b){var c=b?"prev"===b?-1:a:a+1;return"prev"===b?c:this._options.loop?this._correctSelectIdx(c):c},_getCenterIdx:function(a,b){return b?this._selectIdx:a},_setAutoPlay:function(){!this._options.autoPlay||this._totalLength<2||(this._timer=new b.utils.Timer(this._options.delay,this._totalLength).addListener("timer",b.bind(function(a){this._options.opposite?this.prev():this.next()},this)).addListener("complete",b.bind(function(a){this._playTimer()},this)).start())},_setSize:function(){if(this._options.viewportRatio&&this._$viewport.css("height",this._getViewportHeight()+"px"),this._totalLength){var a,b,c={},d={},e=this._getItemMargins(),f=e[0]+e[1];this._itemSize=this._getItemSize(),this._options.includeMargin||(this._itemSize+=f),"horizontal"===this._options.axis?(a="width",b=["marginLeft","marginRight"]):(a="height",b=["marginTop","marginBottom"]),d[a]=3*this._itemSize+100+"px",c[a]=this._itemSize-f+"px",c[b[0]]=e[0]+"px",c[b[1]]=e[1]+"px",this._$items.css(c),this._$ul.css(d)}},_getItemMargins:function(){var b=[];if(this._options.itemMargin)b=[this._options.itemMargin[0].value,this._options.itemMargin[1].value];else{var c=this._$items.css("horizontal"===this._options.axis?["marginLeft","marginRight"]:["marginTop","marginBottom"]);a.each(c,function(a,c){b.push(parseFloat(c))})}return b},_getViewportHeight:function(){return b(this._$viewport.get(0)).rect().width*(this._options.viewportRatio[1].value/this._options.viewportRatio[0].value)},_getItemSize:function(){if(this._options.itemSize)return this._options.itemSize.value;var a="horizontal"===this._options.axis?"width":"height";return b(this._$items.get(this._selectIdx)).rect()[a]},_removeSize:function(){var a="horizontal"===this._options.axis?"width":"height";this._$viewport.attr("style",""),this._$ul.css(a,""),this._$items.css(a,"").css("margin","")},_removeStyle:function(){this._$viewport.attr("style",""),this._$ul.attr("style",""),this._$items.attr("style","")},_removeEvents:function(){this._$target.off("mouseover mouseout",this._mouseHandler),this._thumbController.clear(),this._swipe&&this._swipe.clear()},_getItems:function(){this._$items=this._$ul.find("> .ix-list-item"),this._totalLength=this._$items.length},_setItems:function(){this._$items.each(function(b,c){a(c).attr("data-idx",b).attr("aria-hidden",!0)}).css({
position:"absolute"})},_removeWaiAria:function(){this._$items.removeAttr("aria-hidden")},_playTimer:function(){!this._isTimerBlock&&this._timer&&this._timer.reset().start()},_pauseTimer:function(){this._timer&&this._timer.stop()},_displacement:function(a){var b=0;return"change"===a||"slideEnd"===a?"next"===this._directionType?b=-1:"prev"===this._directionType&&(b=1):(b=1+this._currentPos/this._itemSize,b<-1?b=-1:b>1&&(b=1)),b},_dispatch:function(a){var b="init change slideEnd".indexOf(a)>-1?this._isEndpoint():void 0,c=this._selectIdx,d=this._displacement(a);this._totalLength||(c=NaN),this._$target.triggerHandler({type:"ixSlideLite:"+a,currentIndex:c,totalLength:this._totalLength,endpoint:b,direction:this._directionType,displacement:d})}},"ixSnack.SlideLite"),ixSnack.OverlayList=ixSnack.BaseClass.extend({initialize:function(a){this._$target=a,this._$viewport=this._$target.find("> .ix-list-viewport"),this._$ul=this._$viewport.find("> .ix-list-items"),this._options=ixSnack.getOptions(this._$target.attr("data-ix-options")),this._selectIdx=0,this._disabled=!1,this._isTimerBlock=!1,this._directionType="none",this._currentPos=0,this._getItems(),this._setItems(),this._setSize(),this._setAutoPlay(),this._setEvents(),this._options.motionType=this._options.motionType||"overlay",this._options.originLength=this._totalLength,this._options.totalLength=this._totalLength,(this._options.defaultIndex>=this._totalLength||this._options.defaultIndex<0)&&(this._options.defaultIndex=0),this._options.duration||(this._options.duration=400),"slide"===this._options.motionType&&this._totalLength<3&&(this._options.loop=!1),this._motion=this._getMotion().addListener("motionMove",b.bind(function(a){this._dispatch("touchMove")},this)).addListener("motionEnd",b.bind(this._motionHandler,this)),this._thumbController=new ixSnack.ThumbController(this._$target,this._options).setIndex(this._options.defaultIndex,this._options.defaultIndex).addListener("next",b.bind(this._thumbHandler,this)).addListener("prev",b.bind(this._thumbHandler,this)).addListener("index",b.bind(this._thumbHandler,this)),this._dispatch("init")},startTimer:function(){this._disabled||(this._isTimerBlock=!1,this._playTimer())},stopTimer:function(){this._isTimerBlock=!0,this._pauseTimer()},changeIndex:function(a){a>this._totalLength||a<0||!this._totalLength||(this._selectIdx<a?this.next(a,"changeIndex"):this._selectIdx>a&&this.prev(a,"changeIndex"))},next:function(a,b){if(!this._disabled&&!this._thumbController.block()&&this._totalLength){var c=this._motion.correctSelectIdx("number"==typeof a?a:this._selectIdx+1);this._selectIdx!=c&&(this._directionType="next",this._dispatch("slideStart"),this._pauseTimer(),this._thumbController.block(!0).setIndex(c,c),this._motion.next(c,"changeIndex"===b))}},prev:function(a,b){if(!this._disabled&&!this._thumbController.block()&&this._totalLength){var c=this._motion.correctSelectIdx("number"==typeof a?a:this._selectIdx-1);this._selectIdx!=c&&(this._directionType="prev",this._dispatch("slideStart"),this._pauseTimer(),this._thumbController.block(!0).setIndex(c,c),this._motion.prev(c,"changeIndex"===b))}},clear:function(){this._directionType="none",this._pauseTimer(),this._removeEvents(),this._removeStyle(),this._$items.removeAttr("data-origin-idx").removeAttr("data-idx"),ixSnack.removePlugin(this._$target,"overlay-list"),this._removeWaiAria()},resize:function(){this._totalLength&&(this._pauseTimer(),this._removeSize(),this._motion.resize(),this._setSize(),this._playTimer())},_motionHandler:function(a){var b=this._selectIdx;this._thumbController.block(!1),this._playTimer(),this._selectIdx=a.idx,a.isSilent||(b!==this._selectIdx&&this._dispatch("change"),this._dispatch("slideEnd"),this._directionType="none")},_thumbHandler:function(a){switch(a.type){case"next":this.next();break;case"prev":this.prev();break;case"index":this.changeIndex(a.index)}},_getMotion:function(){var a;switch(this._options.motionType){case"overlay":a=new ixSnack.OverlayList.OverlayMotion(this._$target,this._$ul,this._$items,this._options);break;case"slide":a=new ixSnack.OverlayList.SlideMotion(this._$target,this._$ul,this._$items,this._options);break;case"mask":a=new ixSnack.OverlayList.MaskMotion(this._$target,this._$ul,this._$items,this._options);break;default:a=new ixSnack.OverlayList.Motion(this._$target,this._$ul,this._$items,this._options)}return a},_removeSize:function(){var a="horizontal"===this._options.axis?"width":"height";this._$viewport.attr("style",""),this._$ul.css(a,""),this._$items.css(a,"").css("margin","")},_getItems:function(){this._$items=this._$ul.find("> .ix-list-item"),this._totalLength=this._$items.length},_setItems:function(){this._$items.each(function(b,c){a(c).attr("data-idx",b)}),"mask"!==this._options.motionType&&this._$items.css({position:"absolute"})},_setAutoPlay:function(){!this._options.autoPlay||this._totalLength<2||(this._timer=new b.utils.Timer(this._options.delay,this._totalLength).addListener("timer",b.bind(function(a){this._options.opposite?this.prev():this.next()},this)).addListener("complete",b.bind(function(a){this._playTimer()},this)).start())},_setEvents:function(){var a="horizontal"===this._options.axis?"moveX":"moveY";!this._options.touchDisable&&b.ua.TOUCH_DEVICE&&this._totalLength>1&&(this._swipe=new b.event.Swipe(this._$viewport.get(0),{axis:this._options.axis,preventDefault:"vertical"===this._options.axis&&b.ua.SAFARI&&parseFloat(b.ua.VERSION)>9}).sensitivity(this._options.swipeSensitivity).addListener("axis",b.bind(function(a){this._thumbController.block()||(this._pauseTimer(),this._dispatch("touchStart"))},this)).addListener("move",b.bind(function(a){this._thumbController.block()||this._motion.move(a)},this)).addListener("swipe",b.bind(function(b){if(!this._thumbController.block()){if(this._dispatch("touchEnd"),0===b[a])return void this._playTimer();this._targetSwipe(b.swipe)}},this))),this._mouseHandler=b.bind(function(a){"mouseover"===a.type?this._pauseTimer():this._playTimer()},this),this._options.autoPlay&&!b.ua.TOUCH_DEVICE&&this._$target.on("mouseover mouseout",this._mouseHandler)},_targetSwipe:function(a){"left"===a||"up"===a?this.next():"right"===a||"down"===a?this.prev():(this._dispatch("slideStart"),this._pauseTimer(),this._thumbController.block(!0),this._motion.none())},_removeWaiAria:function(){this._$items.removeAttr("aria-hidden")},_setSize:function(){this._options.viewportRatio&&this._$viewport.css("height",this._getViewportHeight()+"px")},_getViewportHeight:function(){return b(this._$viewport.get(0)).rect().width*(this._options.viewportRatio[1].value/this._options.viewportRatio[0].value)},_removeStyle:function(){this._$viewport.attr("style",""),this._$items.attr("style","")},_removeEvents:function(){this._$target.off("mouseover mouseout",this._mouseHandler),this._thumbController.clear(),this._swipe&&this._swipe.clear(),this._motion&&this._motion.clear()},_playTimer:function(){!this._isTimerBlock&&this._timer&&this._timer.reset().start()},_pauseTimer:function(){this._timer&&this._timer.stop()},_dispatch:function(a){var b="init change slideEnd".indexOf(a)>-1?this._motion.isEndpoint():void 0,c=this._selectIdx;this._totalLength||(c=NaN),this._$target.triggerHandler({type:"ixOverlayList:"+a,currentIndex:c,totalLength:this._totalLength,endpoint:b,direction:this._directionType,displacement:this._motion.displacement()})}},"ixSnack.OverlayList"),ixSnack.OverlayList.Motion=b.Class.extend({initialize:function(a,b,c,d){this._$target=a,this._$ul=b,this._$items=c,this._options=d,this._totalLength=this._$items.length,this._selectIdx=this._options.defaultIndex,this._overlayItem(this._selectIdx,!0)},resize:function(){},displacement:function(){return 0},none:function(){this.dispatch("motionEnd",{idx:this._selectIdx,isSilent:!1})},move:function(a){},next:function(a){this._overlayItem(a)},prev:function(a){this._overlayItem(a)},isEndpoint:function(){return!this._options.loop&&this._selectIdx===this._totalLength-1},isFirstpoint:function(){return!this._options.loop&&0===this._selectIdx},correctSelectIdx:function(a){return a>this._totalLength-1?a=this._options.loop?0:this._totalLength-1:a<0&&(a=this._options.loop?this._totalLength-1:0),a},clear:function(){this.removeListener()},_isOverPosition:function(a){var b=!1;return this._options.loop||(a>0&&this._selectIdx<=0?b=!0:a<0&&this._selectIdx>=this._totalLength-1&&(b=!0)),b},_overlayItem:function(a,c,d){if(d){var e=this._$items.eq(a).show();ixSnack.animate(e,"opacity",0,this._options,null,null,!0),this._$ul.append(e),ixSnack.animate(e,"opacity",1,this._options,b.bind(this._overlayComplete,this),{idx:a,isSilent:c})}else this._$items.hide().eq(a).show(),this._overlayComplete({data:{idx:a,isSilent:c}})},_overlayComplete:function(a){this._setWaiArea(a.data.idx),this._selectIdx=a.data.idx,this.dispatch("motionEnd",{idx:a.data.idx,isSilent:a.data.isSilent})},_getItemSize:function(){if(this._options.itemSize)return this._options.itemSize.value;var a="horizontal"===this._options.axis?"width":"height";return b(this._$items.get(this._selectIdx)).rect()[a]},_getItemMargins:function(){var b=[];if(this._options.itemMargin)b=[this._options.itemMargin[0].value,this._options.itemMargin[1].value];else{var c=this._$items.css("horizontal"===this._options.axis?["marginLeft","marginRight"]:["marginTop","marginBottom"]);a.each(c,function(a,c){b.push(parseFloat(c))})}return b},_setWaiArea:function(a){this._$items.attr("aria-hidden",!0).eq(a).attr("aria-hidden",!1)}},"ixSnack.OverlayList.Motion"),ixSnack.OverlayList.OverlayMotion=ixSnack.OverlayList.Motion.extend({initialize:function(a,b,c,d){this._$target=a,this._$ul=b,this._$items=c,this._options=d,this._totalLength=this._$items.length,this._selectIdx=this._options.defaultIndex,this._overlayItem(this._selectIdx,!0,!1)},next:function(a){this._overlayItem(a,!1,!0)},prev:function(a){this._overlayItem(a,!1,!0)}},"ixSnack.OverlayList.OverlayMotion"),ixSnack.OverlayList.SlideMotion=ixSnack.OverlayList.Motion.extend({initialize:function(a,b,c,d){this._$target=a,this._$ul=b,this._$items=c,this._options=d,this._totalLength=this._$items.length,this._selectIdx=this._options.defaultIndex,this._currentPos=0,this._growProp="horizontal"===this._options.axis?"growX":"growY",this._setSize(),this._arrangeItems(this._selectIdx),this._setWaiArea(this._selectIdx)},next:function(a,b){b&&!this._isGradualIndex(a)&&this._arrangeItems(a,"next"),this._overlayItem(a,"next")},prev:function(a,b){b&&!this._isGradualIndex(a)&&this._arrangeItems(a,"prev"),this._overlayItem(a,"prev")},none:function(){this._overlayItem(this._selectIdx,"none")},move:function(a){this._touchMove(a[this._growProp])},displacement:function(){return this._currentPos/this._itemSize},resize:function(){this._setSize(),this._arrangeItems(this._selectIdx)},_overlayItem:function(a,c){a=this.correctSelectIdx(a);var d,e,f=0,g={idx:a,isSilent:!1,moveType:c},h=b.bind(this._overlayComplete,this);"next"===c?(f=-this._itemSize,d=h):"prev"===c?(f=this._itemSize,e=h):this._options.loop||0!==this._selectIdx?e=h:d=h,this._prevIdx>-1&&ixSnack.move(this._$prev,f+"px",this._options,e,g),this._nextIdx>-1&&ixSnack.move(this._$next,f+"px",this._options,d,g),this._currentPos=f},_overlayComplete:function(a){"none"!==a.data.moveType&&this._arrangeItems(a.data.idx),ixSnack.OverlayList.Motion.prototype._overlayComplete.call(this,a),this._currentPos=0},_touchMove:function(a){var b=a+this._currentPos;-this._itemSize>b?b=-this._itemSize:this._itemSize<b&&(b=this._itemSize),this._isOverPosition(b)||(ixSnack.moveTo(this._$next,b+"px",this._options),ixSnack.moveTo(this._$prev,b+"px",this._options),this._currentPos=b,this.dispatch("motionMove"))},_arrangeItems:function(a,b){var c=this._getCenterIdx(a,b),d=this._getPrevIdx(a,b),e=this._getNextIdx(a,b),f="horizontal"===this._options.axis?"left":"top";this._$prev=this._$items.eq(d),this._$center=this._$items.eq(c),this._$next=this._$items.eq(e),d>-1&&this._$ul.append(this._$prev.css(f,"0px").show()),this._$center.css(f,this._itemSize+"px").show(),e>-1&&this._$ul.append(this._$next.css(f,2*this._itemSize+"px").show()),ixSnack.moveTo(this._$prev,"0px",this._options),ixSnack.moveTo(this._$center,"0px",this._options),ixSnack.moveTo(this._$next,"0px",this._options),this._$items.filter(function(a){return d!==a&&e!==a&&c!==a}).hide(),this._$ul.css(f,-this._itemSize+"px"),this._centerIdx=c,this._prevIdx=d,this._nextIdx=e},_getPrevIdx:function(a,b){var c=b?"next"===b?-1:a:a-1;return"next"===b?c:this._options.loop?this.correctSelectIdx(c):c},_getNextIdx:function(a,b){var c=b?"prev"===b?-1:a:a+1;return"prev"===b?c:this._options.loop?this.correctSelectIdx(c):c},_getCenterIdx:function(a,b){return b?this._selectIdx:a},_isGradualIndex:function(a){return 1===Math.abs(a-this._selectIdx)},_setSize:function(){if(this._totalLength){var a,b,c={},d={},e=this._getItemMargins(),f=e[0]+e[1];this._itemSize=this._getItemSize(),this._options.includeMargin||(this._itemSize+=f),"horizontal"===this._options.axis?(a="width",b=["marginLeft","marginRight"]):(a="height",b=["marginTop","marginBottom"]),d[a]=3*this._itemSize+100+"px",c[a]=this._itemSize-f+"px",c[b[0]]=e[0]+"px",c[b[1]]=e[1]+"px",this._$items.css(c),this._$ul.css(d)}}},"ixSnack.OverlayList.SlideMotion"),ixSnack.OverlayList.MaskMotion=ixSnack.OverlayList.Motion.extend({initialize:function(a,b,c,d){this._$target=a,this._$ul=b,this._$items=c,this._options=d,this._totalLength=this._$items.length,this._selectIdx=this._options.defaultIndex,this._currentPos=0,this._positionProp="horizontal"===this._options.axis?"right":"bottom",this._growProp="horizontal"===this._options.axis?"growX":"growY",this._setSize(),this._arrangeItems(this._selectIdx),this._setWaiArea(this._selectIdx)},next:function(a,b){b&&!this._isGradualIndex(a)&&this._arrangeItems(a,"next"),this._overlayItem(a,"next")},prev:function(a,b){b&&!this._isGradualIndex(a)&&this._arrangeItems(a,"prev"),this._overlayItem(a,"prev")},none:function(){this._overlayItem(this._selectIdx,"none")},move:function(a){this._touchMove(a[this._growProp])},displacement:function(){return this._currentPos/this._itemSize},resize:function(){this._$items.children().css({width:"",height:""}),this._setSize(),this._arrangeItems(this._selectIdx)},clear:function(){ixSnack.OverlayList.Motion.prototype.clear.call(this),this._$items.children().css({right:"",bottom:"",width:"",height:""})},_overlayItem:function(a,c){a=this.correctSelectIdx(a);var d=0,e={idx:a,isSilent:!1,moveType:c},f=b.bind(this._overlayComplete,this);"next"===c?d=-this._itemSize:"prev"===c&&(d=this._itemSize),this._size(d,f,e,!0)},_overlayComplete:function(a){"none"!==a.data.moveType&&this._arrangeItems(a.data.idx),ixSnack.OverlayList.Motion.prototype._overlayComplete.call(this,a),this._currentPos=0},_touchMove:function(a){var b=a+this._currentPos;-this._itemSize>b?b=-this._itemSize:this._itemSize<b&&(b=this._itemSize),this._isOverPosition(b)||(this._size(b),this.dispatch("motionMove"))},_size:function(a,b,c,d){var e,f,g,h,i,j,k=a/this._itemSize*100,l=!d;a<0?(e="0%",f=this._correctPercent(100+k)+"%",g=this._correctPercent(Math.abs(k))+"%"):(e=this._correctPercent(k)+"%",f=this._correctPercent(100-k)+"%",g="0%"),d&&("next"===c.moveType?h=b:"prev"===c.moveType?j=b:i=b),this._setChildrenStyle(this._$prev,"prev",a),this._setChildrenStyle(this._$center,"center",a),this._setChildrenStyle(this._$next,"next",a),this._prevIdx>-1&&ixSnack.size(this._$prev,e,this._options,j,c,l),ixSnack.size(this._$center,f,this._options,i,c,l),this._nextIdx>-1&&ixSnack.size(this._$next,g,this._options,h,c,l),this._currentPos=a},_correctPercent:function(a){return a<0?a=0:a>100&&(a=100),a},_arrangeItems:function(c,d){var e=this._getPrevIdx(c,d),f=this._getCenterIdx(c,d),g=this._getNextIdx(c,d);this._$prev=this._$items.eq(e),this._$center=this._$items.eq(f),this._$next=this._$items.eq(g),this._$items.each(b.bind(function(b,c){if(e!==b||g!==b||f!==b){var d=a(c).hide();ixSnack.size(d,"100%",this._options,null,null,!0)}},this)),e>-1&&this._setActiveItem(this._$prev,"close"),this._setActiveItem(this._$center,"open"),g>-1&&this._setActiveItem(this._$next,"close"),this._prevIdx=e,this._centerIdx=f,this._nextIdx=g},_setActiveItem:function(a,b){ixSnack.size(a,"open"===b?"100%":"0%",this._options,null,null,!0),this._$ul.append(a),a.show()},_setChildrenStyle:function(a,b,c){var d={};c<0?d[this._positionProp]="next"===b?0:"":c>0&&(d[this._positionProp]="prev"===b?"":0),a.children().css(d)},_getPrevIdx:function(a,b){var c=b?"next"===b?-1:a:a-1;return"next"===b?c:this._options.loop?this.correctSelectIdx(c):c},_getNextIdx:function(a,b){var c=b?"prev"===b?-1:a:a+1;return"prev"===b?c:this._options.loop?this.correctSelectIdx(c):c},_getCenterIdx:function(a,b){return b?this._selectIdx:a},_isGradualIndex:function(a){return 1===Math.abs(a-this._selectIdx)},_getChildrenSize:function(){var a;return a="horizontal"===this._options.axis?"outerWidth":"outerHeight",this._$items.eq(this._selectIdx).children()[a]()},_setSize:function(){if(this._totalLength){var a,b={};this._itemSize=this._getItemSize(),a="horizontal"===this._options.axis?"width":"height",b[a]=this._getChildrenSize()+"px",this._$items.children().css(b)}}},"ixSnack.OverlayList.MaskMotion"),ixSnack.BaseSlider=b.Class.extend({initialize:function(a,b,c){this._$icon=a,this._$input=b,this._options=c||{},this._disabled=!1,this._offsetProp="horizontal"===this._options.axis?"left":"top"},setEvents:function(){return this._inputKeyHandler=b.bind(function(a){switch(a.type){case"keydown":if(this._isPermissionKeyCode(a.which)){if(this._isEnterKey(a.which)){var b=this._value;this._setInputValue(!1,!0,!0),b!=this._value&&this.value(this._value,!1,!0)}}else a.preventDefault();break;case"focusin":this._setInputValue(!0,!1,!0);break;case"focusout":var b=this._value;this._setInputValue(!1,!0,!0),b!=this._value&&this.value(this._value,!1,!0)}},this),this._iconKeyHandler=b.bind(function(a){if(!this._disabled){var b=this._getArrowKeyType(a.which);b&&a.preventDefault(),"forward"===b?this.value(this._value+this._options.gap,!1,!0):"backward"===b&&this.value(this._value-this._options.gap,!1,!0)}},this),this._$input.on("keydown focusin focusout",this._inputKeyHandler),this._$icon.on("keydown",this._iconKeyHandler),this},type:function(a){return a?(this._type=a,this):this._type},min:function(a,b){return"number"==typeof a?(this._min=a,this._moveMin="number"==typeof b?b:a,this):this._min},max:function(a,b){return"number"==typeof a?(this._max=a,this._moveMax="number"==typeof b?b:a,this):this._max},value:function(a,b,c){if("number"==typeof a){if(!isNaN(a)){var d="boolean"!=typeof c||c;this._options.correctEndpoint&&b||this._options.snap?this._value=this._valueToGapValue(a):this._value=this._correctMoveValue(a),this._setInputValue(!0,d,!1),this._move(this._valueToPercent(this._value),b,c)}return this}return this._valueToGapValue(this._value)},percent:function(a,b){return"number"==typeof a?(a=this._correctPercent(a),this.value(this._percentToValue(a),b),this):this._percent},enable:function(){return this._disabled=!1,this._$icon.removeClass("disabled"),this._$input.attr("disabled",!1),this},disable:function(){return this._disabled=!0,this._$icon.addClass("disabled"),this._$input.attr("disabled",!0),this},focus:function(){return this._$icon.focus(),this},clear:function(){return this._removeEvents(),this},isDisabled:function(){return this._disabled},dispatch:function(a,c){return b.Class.prototype.dispatch.call(this,a,{value:this.value(),currentValue:this._value,isUserInput:c}),this},_move:function(a,c,d){var e={},f="horizontal"===this._options.axis?a:100-a;e[this._offsetProp]=f+"%",this._percent=f,c?(this._$icon.stop().animate(e,this._options.duration,b.bind(function(){this.dispatch("change",d)},this)),this._options.correctEndpoint&&this._options.duration&&this.dispatch("mouseup")):(this._$icon.stop().css(e),this.dispatch("change",d))},_correctValue:function(a){return a<this._min?a=this._min:a>this._max&&(a=this._max),a},_correctMoveValue:function(a){return a<this._moveMin?a=this._moveMin:a>this._moveMax&&(a=this._moveMax),a},_correctPercent:function(a){return a<0?a=0:a>100&&(a=100),a},_setInputValue:function(a,b,c){var d=this._value;a||(d=this._$input.val(),this._isNumber(d)||(d=this._value));var e=this._valueToGapValue(d),f=e;b&&(f=this._options.addFirstStr+this._valueToNumberFormat(f)+this._options.addLastStr),this._$input.val(f),c&&(this._value=this._correctMoveValue(e))},_valueToGapValue:function(a){var b=Math.round(a/this._options.gap)*this._options.gap,c=b+this._options.gap,d=b-this._options.gap,e=0;return this._options.gap?c>this._options.max&&b<a?(e=this._max-b)&&(b+=Math.round((a-b)/e)*e):d<this._options.min&&b>a&&(e=this._min-b)&&(b+=Math.round((a-b)/e)*e):b=a,this._correctValue(b)},_percentToValue:function(a){return a/100*(this._options.max-this._options.min)+this._options.min},_valueToPercent:function(a){return(a-this._options.min)/(this._options.max-this._options.min)*100},_valueToNumberFormat:function(a){return this._options.numberFixed&&(a=Number(a).toFixed(this._options.numberFixed)),this._options.numberFormat&&(a=b.string.numberFormat(a),this._options.currencyFormat&&(a=this._getCurrencyFormat(a,this._options.currencyFormat))),a},_getCurrencyFormat:function(a,b){switch(b){case"de":case"es":case"nl":case"it":case"be":a=a.replace(/[.,]/g,function(a){return","===a?".":","});break;case"no":case"fr":case"sk":case"pl":a=a.replace(/[.,]/g,function(a){return","===a?" ":","})}return a},_isPermissionKeyCode:function(a){return!!b.ua.ANDROID||(a>47&&a<58||a>95&&a<106||8==a||9==a||16==a||46==a||this._isEnterKey(a)||189==a||109==a||190==a||110==a||this._getArrowKeyType(a))},_getArrowKeyType:function(a){var b=void 0;return 37==a||40==a?b="backward":38!=a&&39!=a||(b="forward"),b},_isNumber:function(a){var b=Number(a);return"number"==typeof b&&!isNaN(b)},_isEnterKey:function(a){return 13==a},_removeEvents:function(){this._$input.off("keydown focusin focusout",this._inputKeyHandler),this._$icon.off("keydown",this._iconKeyHandler)}},"ixSnack.BaseSlider"),ixSnack.Slider=ixSnack.BaseClass.extend({initialize:function(a){this._$target=a,this._$input=this._$target.find(".ix-input"),this._$icon=this._$target.find(".ix-icon"),this._$slideBar=this._$target.find(".ix-slider-bar"),this._$progress=this._$target.find(".ix-progress"),this._options=ixSnack.getOptions(this._$target.attr("data-ix-options")),this._currentPer=0,this._disabled=!1,this._isInit=!1,this._isMouseDown=!1,this._isMouseUp=!1,this._setOptions(),this._setEvents(),this._setProgress(),this._options.disable&&this.disable(),this._dispatch("init",!1)},changeValue:function(a){a&&this._slider.value(this._correctValue(a))},getValue:function(){return this._slider.value()},enable:function(){this._slider.enable(),this._$target.removeClass("disabled"),this._disabled=!1,this._setTouchAction("horizontal"===this._options.axis?"pan-y":"pan-x")},disable:function(){this._slider.disable(),this._$target.addClass("disabled"),this._disabled=!0,this._setTouchAction("auto")},clear:function(){this._removeEvents(),this.enable(),this._gAxis&&this._gAxis.clear(),this._slider&&this._slider.clear(),ixSnack.removePlugin(this._$target,"slider")},_setOptions:function(){this._options.max<this._options.min&&(this._options.max=this._options.min),this._options.snap&&(this._options.correctEndpoint=!1),this._options.gap>this._options.max-this._options.min&&(this._options.gap=this._options.max-this._options.min),"horizontal"===this._options.axis?(this._offsetProp="left",this._posProp="pageX",this._sizeProp="width"):(this._offsetProp="top",this._posProp="pageY",this._sizeProp="height"),"number"!=typeof this._options.value&&(this._options.value=this._options.min),this._options.value=this._correctValue(this._options.value)},_setEvents:function(){this._onTouch=b.bind(this._touchHandler,this),this._onDrag=b.bind(this._dragHandler,this),this._slider=new ixSnack.BaseSlider(this._$icon,this._$input,this._options),this._slider.addListener("change",b.bind(function(a){var b=this._isChangeValue(a.value);this._value=a.value,this._currentPer=this._slider.percent(),this._setProgress(),a.isUserInput&&this._dispatch("slideStart",!0),b&&this._dispatch("change",a.isUserInput||this._isMouseDown),(this._isMouseUp||a.isUserInput)&&this._dispatch("slideEnd",!0)},this)).addListener("mouseup",b.bind(function(a){this._currentPer=this._slider.percent(),this._setProgress(!0)},this)).min(this._options.min).max(this._options.max).value(this._options.value).setEvents(),b.ua.TOUCH_DEVICE?(this._touchEvent=new b.event.TouchEvent(this._$slideBar),this._docTouchEvent=new b.event.TouchEvent(document),ixSnack.MS_POINTER?(this._setTouchAction("horizontal"===this._options.axis?"pan-y":"pan-x"),this._touchEvent.addListener("touchstart",this._onTouch)):(this._gAxis=new b.event.GestureAxis(this._$slideBar,{aType:this._options.axis,preventDefault:"vertical"===this._options.axis&&b.ua.SAFARI&&parseFloat(b.ua.VERSION)>9}).addListener("axis",this._onTouch),this._$slideBar.on("mousedown",this._onDrag))):this._$slideBar.on("mousedown",this._onDrag)},_touchHandler:function(a){if(!this._disabled){var b=0;switch("axis"!=a.type&&(a.preventDefault(),a.stopPropagation()),a.type){case"axis":case"touchstart":this._docTouchEvent.addListener("touchmove",this._onTouch,{passive:!1}),this._docTouchEvent.addListener("touchend",this._onTouch),this._docTouchEvent.addListener("touchcancel",this._onTouch),b=this._pxToPercent(this._getEventPos(a)),this._isMouseDown=!0,this._dispatch("slideStart",!0),this._slider.focus().percent(b);break;case"touchcancel":case"touchend":this._isMouseUp=!0,this._docTouchEvent.removeListener(),b="horizontal"===this._options.axis?this._currentPer:100-this._currentPer,this._slider.percent(b,!0);break;case"touchmove":this._slider.percent(this._pxToPercent(this._getEventPos(a)))}}},_dragHandler:function(b){if(!this._disabled){b.preventDefault(),b.stopPropagation();var c=this._pxToPercent(this._getEventPos(b));switch(b.type){case"mousedown":this._isMouseDown=!0,a(document).on("mousemove",this._onDrag),a(document).on("mouseup",this._onDrag),this._dispatch("slideStart",!0),this._slider.focus().percent(c);break;case"mouseup":this._isMouseUp=!0,a(document).off("mousemove",this._onDrag),a(document).off("mouseup",this._onDrag),this._slider.percent(c,!0);break;case"mousemove":this._slider.percent(c)}}},_setProgress:function(a){if(this._slider){var b={},c=this._slider.percent(),d="horizontal"===this._options.axis?c:100-c,e="horizontal"===this._options.axis?0:c;b[this._sizeProp]=d+"%",b[this._offsetProp]=e+"%",a&&this._options.correctEndpoint&&this._options.duration?this._$progress.stop().animate(b,this._options.duration):this._$progress.stop().css(b)}},_isChangeValue:function(a){return this._value!==a},_setTouchAction:function(a){b.ua.TOUCH_DEVICE&&b.ua.WINDOWS&&(this._$slideBar.css({"-ms-touch-action":a,"touch-action":a}),"auto"==a?this._$slideBar.off("dragstart",this._dragStartHandler):this._$slideBar.on("dragstart",this._dragStartHandler))},_dragStartHandler:function(a){a.preventDefault()},_correctValue:function(a){return a<this._options.min&&(a=this._options.min),a>this._options.max&&(a=this._options.max),a},_removeEvents:function(){this._docTouchEvent&&this._docTouchEvent.clear(),this._touchEvent&&this._touchEvent.clear(),this._setTouchAction("auto"),this._$slideBar.off("mousedown",this._onDrag),a(document).off("mousemove mouseup",this._onDrag)},_getEventPos:function(a){var b=this._$slideBar.offset()[this._offsetProp];return"axis"===a.type||a.type.indexOf("touch")===-1?a[this._posProp]-b:a.touches[0][this._posProp]-b},_pxToPercent:function(a){var b=a/this._$slideBar[this._sizeProp]()*100;return"horizontal"===this._options.axis?b:100-b},_dispatch:function(a,b){if("init"===a)this._isInit=!0;else if(!this._isInit)return;"slideEnd"===a&&(this._isMouseDown=!1,this._isMouseUp=!1),this._$target.triggerHandler({type:"ixSlider:"+a,value:this.getValue(),userInteraction:b})}},"ixSnack.Slider"),ixSnack.RangeSlider=ixSnack.BaseClass.extend({initialize:function(a){this._$target=a,this._$minInput=this._$target.find(".ix-min-input"),this._$maxInput=this._$target.find(".ix-max-input"),this._$minIcon=this._$target.find(".ix-min-icon"),this._$maxIcon=this._$target.find(".ix-max-icon"),this._$slideBar=this._$target.find(".ix-slider-bar"),this._$progress=this._$target.find(".ix-progress"),this._options=ixSnack.getOptions(this._$target.attr("data-ix-options")),this._currentPer=0,this._disabled=!1,this._isInit=!1,this._isMouseDown=!1,this._isMouseUp=!1,this._setOptions(),this._setEvents(),this._setProgress(),"string"==typeof this._options.disable?this.disable(this._options.disable):this._options.disable&&this.disable(),this._dispatch("init",!1)},changeValues:function(a){if(b.isArray(a)&&2===a.length){var c=this._correctValues(a);this._minSlider.max(c[1]).value(c[0]),this._maxSlider.min(c[0]).value(c[1])}},getValues:function(){return[this._minSlider.value(),this._maxSlider.value()]},enable:function(a){a&&"min"!==a||this._minSlider.enable(),a&&"max"!==a||this._maxSlider.enable(),this._minSlider.isDisabled()||this._maxSlider.isDisabled()||(this._$target.removeClass("disabled"),this._disabled=!1),this._setTouchAction("horizontal"===this._options.axis?"pan-y":"pan-x")},disable:function(a){a&&"min"!==a||this._minSlider.disable(),a&&"max"!==a||this._maxSlider.disable(),this._minSlider.isDisabled()&&this._maxSlider.isDisabled()&&(this._$target.addClass("disabled"),this._disabled=!0,this._setTouchAction("auto"))},clear:function(){this._removeEvents(),this.enable(),this._gAxis&&this._gAxis.clear(),this._minSlider&&this._minSlider.clear(),this._maxSlider&&this._maxSlider.clear(),ixSnack.removePlugin(this._$target,"range-slider")},_setOptions:function(){this._options.values&&this._options.values.length>1?this._options.values=[this._options.values[0].value,this._options.values[1].value]:this._options.values=[this._options.min,this._options.max],this._options.max<this._options.min&&(this._options.max=this._options.min),this._options.snap&&(this._options.correctEndpoint=!1),this._options.gap>this._options.max-this._options.min&&(this._options.gap=this._options.max-this._options.min),"horizontal"===this._options.axis?(this._offsetProp="left",this._posProp="pageX",this._sizeProp="width"):(this._offsetProp="top",this._posProp="pageY",this._sizeProp="height"),this._options.values=this._correctValues(this._options.values)},_correctValues:function(a){var b=a[0],c=a[1];return b<this._options.min&&(b=this._options.min),c>this._options.max&&(c=this._options.max),b>c&&(b=c),[b,c]},_setEvents:function(){this._onTouch=b.bind(this._touchHandler,this),this._onDrag=b.bind(this._dragHandler,this),this._minSlider=new ixSnack.BaseSlider(this._$minIcon,this._$minInput,this._options),this._minSlider.addListener("change",b.bind(function(a){var b=this._isChangeValue(a.value,this._maxValue);this._minValue=a.value,this._currentPer=this._minSlider.percent(),this._setProgress(),a.isUserInput&&this._dispatch("slideStart",!0,this._minSlider.type()),this._maxSlider&&this._maxSlider.min(a.value,a.currentValue),b&&this._dispatch("change",a.isUserInput||this._isMouseDown,this._minSlider.type()),(this._isMouseUp||a.isUserInput)&&this._dispatch("slideEnd",!0,this._minSlider.type())},this)).addListener("mouseup",b.bind(function(a){this._currentPer=this._minSlider.percent(),this._setProgress(!0)},this)).type("min").min(this._options.min).max(this._options.values[1]).value(this._options.values[0]).setEvents(),this._maxSlider=new ixSnack.BaseSlider(this._$maxIcon,this._$maxInput,this._options),this._maxSlider.addListener("change",b.bind(function(a){var b=this._isChangeValue(this._minValue,a.value);this._maxValue=a.value,this._currentPer=this._maxSlider.percent(),this._setProgress(),a.isUserInput&&this._dispatch("slideStart",!0,this._maxSlider.type()),this._minSlider&&this._minSlider.max(a.value,a.currentValue),b&&this._dispatch("change",a.isUserInput||this._isMouseDown,this._maxSlider.type()),(this._isMouseUp||a.isUserInput)&&this._dispatch("slideEnd",!0,this._maxSlider.type())
},this)).addListener("mouseup",b.bind(function(a){this._currentPer=this._maxSlider.percent(),this._setProgress(!0)},this)).type("max").min(this._options.values[0]).max(this._options.max).value(this._options.values[1]).setEvents(),b.ua.TOUCH_DEVICE?(this._touchEvent=new b.event.TouchEvent(this._$slideBar),this._docTouchEvent=new b.event.TouchEvent(document),ixSnack.MS_POINTER?(this._setTouchAction("horizontal"===this._options.axis?"pan-y":"pan-x"),this._touchEvent.addListener("touchstart",this._onTouch)):(this._gAxis=new b.event.GestureAxis(this._$slideBar,{aType:this._options.axis,preventDefault:"vertical"===this._options.axis&&b.ua.SAFARI&&parseFloat(b.ua.VERSION)>9}).addListener("axis",this._onTouch),this._$slideBar.on("mousedown",this._onDrag))):this._$slideBar.on("mousedown",this._onDrag)},_touchHandler:function(a){if(!this._disabled)switch("axis"!=a.type&&(a.preventDefault(),a.stopPropagation()),a.type){case"axis":case"touchstart":this._docTouchEvent.addListener("touchmove",this._onTouch,{passive:!1}),this._docTouchEvent.addListener("touchend",this._onTouch),this._docTouchEvent.addListener("touchcancel",this._onTouch);var b=this._pxToPercent(this._getEventPos(a));this._isMouseDown=!0,this._activeSlider=this._getNearSlider(b),this._dispatch("slideStart",!0,this._activeSlider.type()),this._activeSlider.percent(b);break;case"touchcancel":case"touchend":this._isMouseUp=!0,this._docTouchEvent.removeListener();var b="horizontal"===this._options.axis?this._currentPer:100-this._currentPer;this._activeSlider.percent(b,!0);break;case"touchmove":this._activeSlider.percent(this._pxToPercent(this._getEventPos(a)))}},_dragHandler:function(b){if(!this._disabled){b.preventDefault(),b.stopPropagation();var c=this._pxToPercent(this._getEventPos(b));switch(b.type){case"mousedown":this._isMouseDown=!0,a(document).on("mousemove",this._onDrag),a(document).on("mouseup",this._onDrag),this._activeSlider=this._getNearSlider(c),this._dispatch("slideStart",!0,this._activeSlider.type()),this._activeSlider.percent(c);break;case"mouseup":this._isMouseUp=!0,a(document).off("mousemove",this._onDrag),a(document).off("mouseup",this._onDrag),this._activeSlider.percent(c,!0);break;case"mousemove":this._activeSlider.percent(c)}}},_setProgress:function(a){if(this._minSlider&&this._maxSlider){var b,c,d={};"horizontal"===this._options.axis?(b=this._minSlider.percent(),c=this._maxSlider.percent()):(b=this._maxSlider.percent(),c=this._minSlider.percent()),d[this._offsetProp]=b+"%",d[this._sizeProp]=c-b+"%",a&&this._options.correctEndpoint&&this._options.duration?this._$progress.stop().animate(d,this._options.duration):this._$progress.stop().css(d)}},_isChangeValue:function(a,b){return this._minValue!=a||this._maxValue!=b},_setTouchAction:function(a){b.ua.TOUCH_DEVICE&&b.ua.WINDOWS&&(this._$slideBar.css({"-ms-touch-action":a,"touch-action":a}),"auto"==a?this._$slideBar.off("dragstart",this._dragStartHandler):this._$slideBar.on("dragstart",this._dragStartHandler))},_dragStartHandler:function(a){a.preventDefault()},_removeEvents:function(){this._docTouchEvent&&this._docTouchEvent.clear(),this._touchEvent&&this._touchEvent.clear(),this._setTouchAction("auto"),this._$slideBar.off("mousedown",this._onDrag),a(document).off("mousemove mouseup",this._onDrag)},_getEventPos:function(a){var b=this._$slideBar.offset()[this._offsetProp];return"axis"===a.type||a.type.indexOf("touch")===-1?a[this._posProp]-b:a.touches[0][this._posProp]-b},_pxToPercent:function(a){var b=a/this._$slideBar[this._sizeProp]()*100;return"horizontal"===this._options.axis?b:100-b},_getNearSlider:function(a){var b=this._minSlider,c=this._minSlider.percent(),d=this._maxSlider.percent(),e="horizontal"===this._options.axis?a:100-a,f=Math.abs(c-e),g=Math.abs(d-e);return this._minSlider.isDisabled()||this._maxSlider.isDisabled()?this._minSlider.isDisabled()&&(b=this._maxSlider):f===g?"horizontal"===this._options.axis?this._currentPer<e&&(b=this._maxSlider):this._currentPer>e&&(b=this._maxSlider):f>g&&(b=this._maxSlider),b.focus()},_dispatch:function(a,b,c){if("init"===a)this._isInit=!0;else if(!this._isInit)return;"slideEnd"===a&&(this._isMouseDown=!1,this._isMouseUp=!1),this._$target.triggerHandler({type:"ixRangeSlider:"+a,values:this.getValues(),userInteraction:b,currentType:c})}},"ixSnack.RangeSlider")}(jQuery,ixBand);
/**
 * SnackLibs.js
 * CSS transition을 사용할때 필요한 easing 정리
 * https://matthewlein.com/ceaser/ 기반으로 작업
 * 하위 브라우저 에서는 jquery.easing 을 사용한다.
 * https://github.com/gdsmith/jquery.easing
 * @version 160127
 */
;(function(a){var b={ease:"0.250, 0.100, 0.250, 1.000",swing:"0.250, 0.100, 0.250, 1.000",linear:"0.250, 0.250, 0.750, 0.750",easeInQuad:"0.550, 0.085, 0.680, 0.530",easeOutQuad:"0.250, 0.460, 0.450, 0.940",easeInOutQuad:"0.455, 0.030, 0.515, 0.955",easeInCubic:"0.550, 0.055, 0.675, 0.190",easeOutCubic:"0.215, 0.610, 0.355, 1.000",easeInOutCubic:"0.645, 0.045, 0.355, 1.000",easeInQuart:"0.895, 0.030, 0.685, 0.220",easeOutQuart:"0.165, 0.840, 0.440, 1.000",easeInOutQuart:"0.770, 0.000, 0.175, 1.000",
easeInQuint:"0.755, 0.050, 0.855, 0.060",easeOutQuint:"0.230, 1.000, 0.320, 1.000",easeInOutQuint:"0.860, 0.000, 0.070, 1.000",easeInSine:"0.470, 0.000, 0.745, 0.715",easeOutSine:"0.390, 0.575, 0.565, 1.000",easeInOutSine:"0.445, 0.050, 0.550, 0.950",easeInExpo:"0.950, 0.050, 0.795, 0.035",easeOutExpo:"0.190, 1.000, 0.220, 1.000",easeInOutExpo:"1.000, 0.000, 0.000, 1.000",easeInCirc:"0.600, 0.040, 0.980, 0.335",easeOutCirc:"0.075, 0.820, 0.165, 1.000",easeInOutCirc:"0.785, 0.135, 0.150, 0.860",easeInBack:"0.600, -0.280, 0.735, 0.045",
easeOutBack:"0.175, 0.885, 0.320, 1.275",easeInOutBack:"0.680, -0.550, 0.265, 1.550"};a.getCssEasing=function(a){return"cubic-bezier("+b[a]+")"}})(ixSnack);

/*! tooltipster v4.2.5 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){function b(a){this.$container,this.constraints=null,this.__$tooltip,this.__init(a)}function c(b,c){var d=!0;return a.each(b,function(a,e){return void 0===c[a]||b[a]!==c[a]?(d=!1,!1):void 0}),d}function d(b){var c=b.attr("id"),d=c?h.window.document.getElementById(c):null;return d?d===b[0]:a.contains(h.window.document.body,b[0])}function e(){if(!g)return!1;var a=g.document.body||g.document.documentElement,b=a.style,c="transition",d=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;c=c.charAt(0).toUpperCase()+c.substr(1);for(var e=0;e<d.length;e++)if("string"==typeof b[d[e]+c])return!0;return!1}var f={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},g="undefined"!=typeof window?window:null,h={hasTouchCapability:!(!g||!("ontouchstart"in g||g.DocumentTouch&&g.document instanceof g.DocumentTouch||g.navigator.maxTouchPoints)),hasTransitions:e(),IE:!1,semVer:"4.2.5",window:g},i=function(){this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__instancesLatestArr=[],this.__plugins={},this._env=h};i.prototype={__bridge:function(b,c,d){if(!c[d]){var e=function(){};e.prototype=b;var g=new e;g.__init&&g.__init(c),a.each(b,function(a,b){0!=a.indexOf("__")&&(c[a]?f.debug&&console.log("The "+a+" method of the "+d+" plugin conflicts with another plugin or native methods"):(c[a]=function(){return g[a].apply(g,Array.prototype.slice.apply(arguments))},c[a].bridged=g))}),c[d]=g}return this},__setWindow:function(a){return h.window=a,this},_getRuler:function(a){return new b(a)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(b){var c=this;if("string"==typeof b){var d=b,e=null;return d.indexOf(".")>0?e=c.__plugins[d]:a.each(c.__plugins,function(a,b){return b.name.substring(b.name.length-d.length-1)=="."+d?(e=b,!1):void 0}),e}if(b.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return c.__plugins[b.name]=b,b.core&&c.__bridge(b.core,c,b.name),this},_trigger:function(){var a=Array.prototype.slice.apply(arguments);return"string"==typeof a[0]&&(a[0]={type:a[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,a),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,a),this},instances:function(b){var c=[],d=b||".tooltipstered";return a(d).each(function(){var b=a(this),d=b.data("tooltipster-ns");d&&a.each(d,function(a,d){c.push(b.data(d))})}),c},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){var c=b?b+" ":"";return a(c+".tooltipstered").toArray()},setDefaults:function(b){return a.extend(f,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.tooltipster=new i,a.Tooltipster=function(b,c){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(b,c)},a.Tooltipster.prototype={__init:function(b,c){var d=this;if(d._$origin=a(b),d.__options=a.extend(!0,{},f,c),d.__optionsFormat(),!h.IE||h.IE>=d.__options.IEmin){var e=null;if(void 0===d._$origin.data("tooltipster-initialTitle")&&(e=d._$origin.attr("title"),void 0===e&&(e=null),d._$origin.data("tooltipster-initialTitle",e)),null!==d.__options.content)d.__contentSet(d.__options.content);else{var g,i=d._$origin.attr("data-tooltip-content");i&&(g=a(i)),g&&g[0]?d.__contentSet(g.first()):d.__contentSet(e)}d._$origin.removeAttr("title").addClass("tooltipstered"),d.__prepareOrigin(),d.__prepareGC(),a.each(d.__options.plugins,function(a,b){d._plug(b)}),h.hasTouchCapability&&a(h.window.document.body).on("touchmove."+d.__namespace+"-triggerOpen",function(a){d._touchRecordEvent(a)}),d._on("created",function(){d.__prepareTooltip()})._on("repositioned",function(a){d.__lastPosition=a.position})}else d.__options.disabled=!0},__contentInsert:function(){var a=this,b=a._$tooltip.find(".tooltipster-content"),c=a.__Content,d=function(a){c=a};return a._trigger({type:"format",content:a.__Content,format:d}),a.__options.functionFormat&&(c=a.__options.functionFormat.call(a,a,{origin:a._$origin[0]},a.__Content)),"string"!=typeof c||a.__options.contentAsHTML?b.empty().append(c):b.text(c),a},__contentSet:function(b){return b instanceof a&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var b=this,c=b._$origin,d=b._$origin.is("area");if(d){var e=b._$origin.parent().attr("name");c=a('img[usemap="#'+e+'"]')}var f=c[0].getBoundingClientRect(),g=a(h.window.document),i=a(h.window),j=c,k={available:{document:null,window:null},document:{size:{height:g.height(),width:g.width()}},window:{scroll:{left:h.window.scrollX||h.window.document.documentElement.scrollLeft,top:h.window.scrollY||h.window.document.documentElement.scrollTop},size:{height:i.height(),width:i.width()}},origin:{fixedLineage:!1,offset:{},size:{height:f.bottom-f.top,width:f.right-f.left},usemapImage:d?c[0]:null,windowOffset:{bottom:f.bottom,left:f.left,right:f.right,top:f.top}}};if(d){var l=b._$origin.attr("shape"),m=b._$origin.attr("coords");if(m&&(m=m.split(","),a.map(m,function(a,b){m[b]=parseInt(a)})),"default"!=l)switch(l){case"circle":var n=m[0],o=m[1],p=m[2],q=o-p,r=n-p;k.origin.size.height=2*p,k.origin.size.width=k.origin.size.height,k.origin.windowOffset.left+=r,k.origin.windowOffset.top+=q;break;case"rect":var s=m[0],t=m[1],u=m[2],v=m[3];k.origin.size.height=v-t,k.origin.size.width=u-s,k.origin.windowOffset.left+=s,k.origin.windowOffset.top+=t;break;case"poly":for(var w=0,x=0,y=0,z=0,A="even",B=0;B<m.length;B++){var C=m[B];"even"==A?(C>y&&(y=C,0===B&&(w=y)),w>C&&(w=C),A="odd"):(C>z&&(z=C,1==B&&(x=z)),x>C&&(x=C),A="even")}k.origin.size.height=z-x,k.origin.size.width=y-w,k.origin.windowOffset.left+=w,k.origin.windowOffset.top+=x}}var D=function(a){k.origin.size.height=a.height,k.origin.windowOffset.left=a.left,k.origin.windowOffset.top=a.top,k.origin.size.width=a.width};for(b._trigger({type:"geometry",edit:D,geometry:{height:k.origin.size.height,left:k.origin.windowOffset.left,top:k.origin.windowOffset.top,width:k.origin.size.width}}),k.origin.windowOffset.right=k.origin.windowOffset.left+k.origin.size.width,k.origin.windowOffset.bottom=k.origin.windowOffset.top+k.origin.size.height,k.origin.offset.left=k.origin.windowOffset.left+k.window.scroll.left,k.origin.offset.top=k.origin.windowOffset.top+k.window.scroll.top,k.origin.offset.bottom=k.origin.offset.top+k.origin.size.height,k.origin.offset.right=k.origin.offset.left+k.origin.size.width,k.available.document={bottom:{height:k.document.size.height-k.origin.offset.bottom,width:k.document.size.width},left:{height:k.document.size.height,width:k.origin.offset.left},right:{height:k.document.size.height,width:k.document.size.width-k.origin.offset.right},top:{height:k.origin.offset.top,width:k.document.size.width}},k.available.window={bottom:{height:Math.max(k.window.size.height-Math.max(k.origin.windowOffset.bottom,0),0),width:k.window.size.width},left:{height:k.window.size.height,width:Math.max(k.origin.windowOffset.left,0)},right:{height:k.window.size.height,width:Math.max(k.window.size.width-Math.max(k.origin.windowOffset.right,0),0)},top:{height:Math.max(k.origin.windowOffset.top,0),width:k.window.size.width}};"html"!=j[0].tagName.toLowerCase();){if("fixed"==j.css("position")){k.origin.fixedLineage=!0;break}j=j.parent()}return k},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=a(h.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=a(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var c=(new Date).getTime();b.__touchEvents=a.grep(b.__touchEvents,function(a,b){return c-a.time>6e4}),d(b._$origin)||b.close(function(){b.destroy()})},2e4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var a=this;if(a._$origin.off("."+a.__namespace+"-triggerOpen"),h.hasTouchCapability&&a._$origin.on("touchstart."+a.__namespace+"-triggerOpen touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen",function(b){a._touchRecordEvent(b)}),a.__options.triggerOpen.click||a.__options.triggerOpen.tap&&h.hasTouchCapability){var b="";a.__options.triggerOpen.click&&(b+="click."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.tap&&h.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&a._open(b)})}if(a.__options.triggerOpen.mouseenter||a.__options.triggerOpen.touchstart&&h.hasTouchCapability){var b="";a.__options.triggerOpen.mouseenter&&(b+="mouseenter."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.touchstart&&h.hasTouchCapability&&(b+="touchstart."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){!a._touchIsTouchEvent(b)&&a._touchIsEmulatedEvent(b)||(a.__pointerIsOverOrigin=!0,a._openShortly(b))})}if(a.__options.triggerClose.mouseleave||a.__options.triggerClose.touchleave&&h.hasTouchCapability){var b="";a.__options.triggerClose.mouseleave&&(b+="mouseleave."+a.__namespace+"-triggerOpen "),a.__options.triggerClose.touchleave&&h.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&(a.__pointerIsOverOrigin=!1)})}return a},__prepareTooltip:function(){var b=this,c=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":c,zIndex:b.__options.zIndex}),a.each(b.__previousThemes,function(a,c){b._$tooltip.removeClass(c)}),a.each(b.__options.theme,function(a,c){b._$tooltip.addClass(c)}),b.__previousThemes=a.merge([],b.__options.theme),b},__scrollHandler:function(b){var c=this;if(c.__options.triggerClose.scroll)c._close(b);else if(d(c._$origin)&&d(c._$tooltip)){var e=null;if(b.target===h.window.document)c.__Geometry.origin.fixedLineage||c.__options.repositionOnScroll&&c.reposition(b);else{e=c.__geometry();var f=!1;if("fixed"!=c._$origin.css("position")&&c.__$originParents.each(function(b,c){var d=a(c),g=d.css("overflow-x"),h=d.css("overflow-y");if("visible"!=g||"visible"!=h){var i=c.getBoundingClientRect();if("visible"!=g&&(e.origin.windowOffset.left<i.left||e.origin.windowOffset.right>i.right))return f=!0,!1;if("visible"!=h&&(e.origin.windowOffset.top<i.top||e.origin.windowOffset.bottom>i.bottom))return f=!0,!1}return"fixed"==d.css("position")?!1:void 0}),f)c._$tooltip.css("visibility","hidden");else if(c._$tooltip.css("visibility","visible"),c.__options.repositionOnScroll)c.reposition(b);else{var g=e.origin.offset.left-c.__Geometry.origin.offset.left,i=e.origin.offset.top-c.__Geometry.origin.offset.top;c._$tooltip.css({left:c.__lastPosition.coord.left+g,top:c.__lastPosition.coord.top+i})}}c._trigger({type:"scroll",event:b,geo:e})}return c},__stateSet:function(a){return this.__state=a,this._trigger({type:"state",state:a}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,a.each(this.__timeouts.close,function(a,b){clearTimeout(b)}),this.__timeouts.close=[],this},__trackerStart:function(){var a=this,b=a._$tooltip.find(".tooltipster-content");return a.__options.trackTooltip&&(a.__contentBcr=b[0].getBoundingClientRect()),a.__tracker=setInterval(function(){if(d(a._$origin)&&d(a._$tooltip)){if(a.__options.trackOrigin){var e=a.__geometry(),f=!1;c(e.origin.size,a.__Geometry.origin.size)&&(a.__Geometry.origin.fixedLineage?c(e.origin.windowOffset,a.__Geometry.origin.windowOffset)&&(f=!0):c(e.origin.offset,a.__Geometry.origin.offset)&&(f=!0)),f||(a.__options.triggerClose.mouseleave?a._close():a.reposition())}if(a.__options.trackTooltip){var g=b[0].getBoundingClientRect();g.height===a.__contentBcr.height&&g.width===a.__contentBcr.width||(a.reposition(),a.__contentBcr=g)}}else a._close()},a.__options.trackerInterval),a},_close:function(b,c,d){var e=this,f=!0;if(e._trigger({type:"close",event:b,stop:function(){f=!1}}),f||d){c&&e.__callbacks.close.push(c),e.__callbacks.open=[],e.__timeoutsClear();var g=function(){a.each(e.__callbacks.close,function(a,c){c.call(e,e,{event:b,origin:e._$origin[0]})}),e.__callbacks.close=[]};if("closed"!=e.__state){var i=!0,j=new Date,k=j.getTime(),l=k+e.__options.animationDuration[1];if("disappearing"==e.__state&&l>e.__closingTime&&e.__options.animationDuration[1]>0&&(i=!1),i){e.__closingTime=l,"disappearing"!=e.__state&&e.__stateSet("disappearing");var m=function(){clearInterval(e.__tracker),e._trigger({type:"closing",event:b}),e._$tooltip.off("."+e.__namespace+"-triggerClose").removeClass("tooltipster-dying"),a(h.window).off("."+e.__namespace+"-triggerClose"),e.__$originParents.each(function(b,c){a(c).off("scroll."+e.__namespace+"-triggerClose")}),e.__$originParents=null,a(h.window.document.body).off("."+e.__namespace+"-triggerClose"),e._$origin.off("."+e.__namespace+"-triggerClose"),e._off("dismissable"),e.__stateSet("closed"),e._trigger({type:"after",event:b}),e.__options.functionAfter&&e.__options.functionAfter.call(e,e,{event:b,origin:e._$origin[0]}),g()};h.hasTransitions?(e._$tooltip.css({"-moz-animation-duration":e.__options.animationDuration[1]+"ms","-ms-animation-duration":e.__options.animationDuration[1]+"ms","-o-animation-duration":e.__options.animationDuration[1]+"ms","-webkit-animation-duration":e.__options.animationDuration[1]+"ms","animation-duration":e.__options.animationDuration[1]+"ms","transition-duration":e.__options.animationDuration[1]+"ms"}),e._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),e.__options.animationDuration[1]>0&&e._$tooltip.delay(e.__options.animationDuration[1]),e._$tooltip.queue(m)):e._$tooltip.stop().fadeOut(e.__options.animationDuration[1],m)}}else g()}return e},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,c){var e=this;if(!e.__destroying&&d(e._$origin)&&e.__enabled){var f=!0;if("closed"==e.__state&&(e._trigger({type:"before",event:b,stop:function(){f=!1}}),f&&e.__options.functionBefore&&(f=e.__options.functionBefore.call(e,e,{event:b,origin:e._$origin[0]}))),f!==!1&&null!==e.__Content){c&&e.__callbacks.open.push(c),e.__callbacks.close=[],e.__timeoutsClear();var g,i=function(){"stable"!=e.__state&&e.__stateSet("stable"),a.each(e.__callbacks.open,function(a,b){b.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}),e.__callbacks.open=[]};if("closed"!==e.__state)g=0,"disappearing"===e.__state?(e.__stateSet("appearing"),h.hasTransitions?(e._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i)):e._$tooltip.stop().fadeIn(i)):"stable"==e.__state&&i();else{if(e.__stateSet("appearing"),g=e.__options.animationDuration[0],e.__contentInsert(),e.reposition(b,!0),h.hasTransitions?(e._$tooltip.addClass("tooltipster-"+e.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":e.__options.animationDuration[0]+"ms","-ms-animation-duration":e.__options.animationDuration[0]+"ms","-o-animation-duration":e.__options.animationDuration[0]+"ms","-webkit-animation-duration":e.__options.animationDuration[0]+"ms","animation-duration":e.__options.animationDuration[0]+"ms","transition-duration":e.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=e.__state&&(e._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i))},0)):e._$tooltip.css("display","none").fadeIn(e.__options.animationDuration[0],i),e.__trackerStart(),a(h.window).on("resize."+e.__namespace+"-triggerClose",function(b){var c=a(document.activeElement);(c.is("input")||c.is("textarea"))&&a.contains(e._$tooltip[0],c[0])||e.reposition(b)}).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)}),e.__$originParents=e._$origin.parents(),e.__$originParents.each(function(b,c){a(c).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)})}),e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&h.hasTouchCapability){e._on("dismissable",function(a){a.dismissable?a.delay?(m=setTimeout(function(){e._close(a.event)},a.delay),e.__timeouts.close.push(m)):e._close(a):clearTimeout(m)});var j=e._$origin,k="",l="",m=null;e.__options.interactive&&(j=j.add(e._$tooltip)),e.__options.triggerClose.mouseleave&&(k+="mouseenter."+e.__namespace+"-triggerClose ",l+="mouseleave."+e.__namespace+"-triggerClose "),e.__options.triggerClose.touchleave&&h.hasTouchCapability&&(k+="touchstart."+e.__namespace+"-triggerClose",l+="touchend."+e.__namespace+"-triggerClose touchcancel."+e.__namespace+"-triggerClose"),j.on(l,function(a){if(e._touchIsTouchEvent(a)||!e._touchIsEmulatedEvent(a)){var b="mouseleave"==a.type?e.__options.delay:e.__options.delayTouch;e._trigger({delay:b[1],dismissable:!0,event:a,type:"dismissable"})}}).on(k,function(a){!e._touchIsTouchEvent(a)&&e._touchIsEmulatedEvent(a)||e._trigger({dismissable:!1,event:a,type:"dismissable"})})}e.__options.triggerClose.originClick&&e._$origin.on("click."+e.__namespace+"-triggerClose",function(a){e._touchIsTouchEvent(a)||e._touchIsEmulatedEvent(a)||e._close(a)}),(e.__options.triggerClose.click||e.__options.triggerClose.tap&&h.hasTouchCapability)&&setTimeout(function(){if("closed"!=e.__state){var b="",c=a(h.window.document.body);e.__options.triggerClose.click&&(b+="click."+e.__namespace+"-triggerClose "),e.__options.triggerClose.tap&&h.hasTouchCapability&&(b+="touchend."+e.__namespace+"-triggerClose"),c.on(b,function(b){e._touchIsMeaningfulEvent(b)&&(e._touchRecordEvent(b),e.__options.interactive&&a.contains(e._$tooltip[0],b.target)||e._close(b))}),e.__options.triggerClose.tap&&h.hasTouchCapability&&c.on("touchstart."+e.__namespace+"-triggerClose",function(a){e._touchRecordEvent(a)})}},0),e._trigger("ready"),e.__options.functionReady&&e.__options.functionReady.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}if(e.__options.timer>0){var m=setTimeout(function(){e._close()},e.__options.timer+g);e.__timeouts.close.push(m)}}}return e},_openShortly:function(a){var b=this,c=!0;if("stable"!=b.__state&&"appearing"!=b.__state&&!b.__timeouts.open&&(b._trigger({type:"start",event:a,stop:function(){c=!1}}),c)){var d=0==a.type.indexOf("touch")?b.__options.delayTouch:b.__options.delay;d[0]?b.__timeouts.open=setTimeout(function(){b.__timeouts.open=null,b.__pointerIsOverOrigin&&b._touchIsMeaningfulEvent(a)?(b._trigger("startend"),b._open(a)):b._trigger("startcancel")},d[0]):(b._trigger("startend"),b._open(a))}return b},_optionsExtract:function(b,c){var d=this,e=a.extend(!0,{},c),f=d.__options[b];return f||(f={},a.each(c,function(a,b){var c=d.__options[a];void 0!==c&&(f[a]=c)})),a.each(e,function(b,c){void 0!==f[b]&&("object"!=typeof c||c instanceof Array||null==c||"object"!=typeof f[b]||f[b]instanceof Array||null==f[b]?e[b]=f[b]:a.extend(e[b],f[b]))}),e},_plug:function(b){var c=a.tooltipster._plugin(b);if(!c)throw new Error('The "'+b+'" plugin is not defined');return c.instance&&a.tooltipster.__bridge(c.instance,this,c.name),this},_touchIsEmulatedEvent:function(a){for(var b=!1,c=(new Date).getTime(),d=this.__touchEvents.length-1;d>=0;d--){var e=this.__touchEvents[d];if(!(c-e.time<500))break;e.target===a.target&&(b=!0)}return b},_touchIsMeaningfulEvent:function(a){return this._touchIsTouchEvent(a)&&!this._touchSwiped(a.target)||!this._touchIsTouchEvent(a)&&!this._touchIsEmulatedEvent(a)},_touchIsTouchEvent:function(a){return 0==a.type.indexOf("touch")},_touchRecordEvent:function(a){return this._touchIsTouchEvent(a)&&(a.time=(new Date).getTime(),this.__touchEvents.push(a)),this},_touchSwiped:function(a){for(var b=!1,c=this.__touchEvents.length-1;c>=0;c--){var d=this.__touchEvents[c];if("touchmove"==d.type){b=!0;break}if("touchstart"==d.type&&a===d.target)break}return b},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),a.tooltipster._trigger.apply(a.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var c=this;if(c[b]){var d=a.tooltipster._plugin(b);d.instance&&a.each(d.instance,function(a,d){c[a]&&c[a].bridged===c[b]&&delete c[a]}),c[b].__destroy&&c[b].__destroy(),delete c[b]}return c},close:function(a){return this.__destroyed?this.__destroyError():this._close(null,a),this},content:function(a){var b=this;if(void 0===a)return b.__Content;if(b.__destroyed)b.__destroyError();else if(b.__contentSet(a),null!==b.__Content){if("closed"!==b.__state&&(b.__contentInsert(),b.reposition(),b.__options.updateAnimation))if(h.hasTransitions){var c=b.__options.updateAnimation;b._$tooltip.addClass("tooltipster-update-"+c),setTimeout(function(){"closed"!=b.__state&&b._$tooltip.removeClass("tooltipster-update-"+c)},1e3)}else b._$tooltip.fadeTo(200,.5,function(){"closed"!=b.__state&&b._$tooltip.fadeTo(200,1)})}else b._close();return b},destroy:function(){var b=this;if(b.__destroyed)b.__destroyError();else{"closed"!=b.__state?b.option("animationDuration",0)._close(null,null,!0):b.__timeoutsClear(),b._trigger("destroy"),b.__destroyed=!0,b._$origin.removeData(b.__namespace).off("."+b.__namespace+"-triggerOpen"),a(h.window.document.body).off("."+b.__namespace+"-triggerOpen");var c=b._$origin.data("tooltipster-ns");if(c)if(1===c.length){var d=null;"previous"==b.__options.restoration?d=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(d="string"==typeof b.__Content?b.__Content:a("<div></div>").append(b.__Content).html()),d&&b._$origin.attr("title",d),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else c=a.grep(c,function(a,c){return a!==b.__namespace}),b._$origin.data("tooltipster-ns",c);b._trigger("destroyed"),b._off(),b.off(),b.__Content=null,b.__$emitterPrivate=null,b.__$emitterPublic=null,b.__options.parent=null,b._$origin=null,b._$tooltip=null,a.tooltipster.__instancesLatestArr=a.grep(a.tooltipster.__instancesLatestArr,function(a,c){return b!==a}),clearInterval(b.__garbageCollector)}return b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(a){return this.close(a)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(a){return this.__destroyed?this.__destroyError():this._open(null,a),this},option:function(b,c){return void 0===c?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=c,this.__optionsFormat(),a.inArray(b,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(a,b){var c=this;return c.__destroyed?c.__destroyError():"closed"!=c.__state&&d(c._$origin)&&(b||d(c._$tooltip))&&(b||c._$tooltip.detach(),c.__Geometry=c.__geometry(),c._trigger({type:"reposition",event:a,helper:{geo:c.__Geometry}})),c},show:function(a){return this.open(a)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments),c="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof b[0]){var d="#*$~&";return this.each(function(){var e=a(this).data("tooltipster-ns"),f=e?a(this).data(e[0]):null;if(!f)throw new Error("You called Tooltipster's \""+b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw new Error('Unknown method "'+b[0]+'"');this.length>1&&"content"==b[0]&&(b[1]instanceof a||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log(c);var g=f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(d=g,!1):void 0}),"#*$~&"!==d?d:this}a.tooltipster.__instancesLatestArr=[];var e=b[0]&&void 0!==b[0].multiple,g=e&&b[0].multiple||!e&&f.multiple,h=b[0]&&void 0!==b[0].content,i=h&&b[0].content||!h&&f.content,j=b[0]&&void 0!==b[0].contentCloning,k=j&&b[0].contentCloning||!j&&f.contentCloning,l=b[0]&&void 0!==b[0].debug,m=l&&b[0].debug||!l&&f.debug;return this.length>1&&(i instanceof a||"object"==typeof i&&null!=i&&i.tagName)&&!k&&m&&console.log(c),this.each(function(){var c=!1,d=a(this),e=d.data("tooltipster-ns"),f=null;e?g?c=!0:m&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):c=!0,c&&(f=new a.Tooltipster(this,b[0]),e||(e=[]),e.push(f.__namespace),d.data("tooltipster-ns",e),d.data(f.__namespace,f),f.__options.functionInit&&f.__options.functionInit.call(f,f,{origin:this}),f._trigger("init")),a.tooltipster.__instancesLatestArr.push(f)}),this},b.prototype={__init:function(b){this.__$tooltip=b,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=a('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(h.window.document.body)},__forceRedraw:function(){var a=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(a)},constrain:function(a,b){return this.constraints={width:a,height:b},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:a}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var a=this.__$tooltip[0].getBoundingClientRect(),b={size:{height:a.height||a.bottom-a.top,width:a.width||a.right-a.left}};if(this.constraints){var c=this.__$tooltip.find(".tooltipster-content"),d=this.__$tooltip.outerHeight(),e=c[0].getBoundingClientRect(),f={height:d<=this.constraints.height,width:a.width<=this.constraints.width&&e.width>=c[0].scrollWidth-1};b.fits=f.height&&f.width}return h.IE&&h.IE<=11&&b.size.width!==h.window.document.documentElement.clientWidth&&(b.size.width=Math.ceil(b.size.width)+1),b}};var j=navigator.userAgent.toLowerCase();-1!=j.indexOf("msie")?h.IE=parseInt(j.split("msie")[1]):-1!==j.toLowerCase().indexOf("trident")&&-1!==j.indexOf(" rv:11")?h.IE=11:-1!=j.toLowerCase().indexOf("edge/")&&(h.IE=parseInt(j.toLowerCase().split("edge/")[1]));var k="tooltipster.sideTip";return a.tooltipster._plugin({name:k,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(a){var b=this;b.__instance=a,b.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),b.__previousState="closed",b.__options,b.__optionsFormat(),b.__instance._on("state."+b.__namespace,function(a){"closed"==a.state?b.__close():"appearing"==a.state&&"closed"==b.__previousState&&b.__create(),b.__previousState=a.state}),b.__instance._on("options."+b.__namespace,function(){b.__optionsFormat()}),b.__instance._on("reposition."+b.__namespace,function(a){b.__reposition(a.event,a.helper)})},__close:function(){this.__instance.content()instanceof a&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var b=a('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px"),
this.__instance._$tooltip=b,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var b=this;if(b.__options=b.__instance._optionsExtract(k,b.__defaults()),b.__options.position&&(b.__options.side=b.__options.position),"object"!=typeof b.__options.distance&&(b.__options.distance=[b.__options.distance]),b.__options.distance.length<4&&(void 0===b.__options.distance[1]&&(b.__options.distance[1]=b.__options.distance[0]),void 0===b.__options.distance[2]&&(b.__options.distance[2]=b.__options.distance[0]),void 0===b.__options.distance[3]&&(b.__options.distance[3]=b.__options.distance[1]),b.__options.distance={top:b.__options.distance[0],right:b.__options.distance[1],bottom:b.__options.distance[2],left:b.__options.distance[3]}),"string"==typeof b.__options.side){var c={top:"bottom",right:"left",bottom:"top",left:"right"};b.__options.side=[b.__options.side,c[b.__options.side]],"left"==b.__options.side[0]||"right"==b.__options.side[0]?b.__options.side.push("top","bottom"):b.__options.side.push("right","left")}6===a.tooltipster._env.IE&&b.__options.arrow!==!0&&(b.__options.arrow=!1)},__reposition:function(b,c){var d,e=this,f=e.__targetFind(c),g=[];e.__instance._$tooltip.detach();var h=e.__instance._$tooltip.clone(),i=a.tooltipster._getRuler(h),j=!1,k=e.__instance.option("animation");switch(k&&h.removeClass("tooltipster-"+k),a.each(["window","document"],function(d,k){var l=null;if(e.__instance._trigger({container:k,helper:c,satisfied:j,takeTest:function(a){l=a},results:g,type:"positionTest"}),1==l||0!=l&&0==j&&("window"!=k||e.__options.viewportAware))for(var d=0;d<e.__options.side.length;d++){var m={horizontal:0,vertical:0},n=e.__options.side[d];"top"==n||"bottom"==n?m.vertical=e.__options.distance[n]:m.horizontal=e.__options.distance[n],e.__sideChange(h,n),a.each(["natural","constrained"],function(a,d){if(l=null,e.__instance._trigger({container:k,event:b,helper:c,mode:d,results:g,satisfied:j,side:n,takeTest:function(a){l=a},type:"positionTest"}),1==l||0!=l&&0==j){var h={container:k,distance:m,fits:null,mode:d,outerSize:null,side:n,size:null,target:f[n],whole:null},o="natural"==d?i.free():i.constrain(c.geo.available[k][n].width-m.horizontal,c.geo.available[k][n].height-m.vertical),p=o.measure();if(h.size=p.size,h.outerSize={height:p.size.height+m.vertical,width:p.size.width+m.horizontal},"natural"==d?c.geo.available[k][n].width>=h.outerSize.width&&c.geo.available[k][n].height>=h.outerSize.height?h.fits=!0:h.fits=!1:h.fits=p.fits,"window"==k&&(h.fits?"top"==n||"bottom"==n?h.whole=c.geo.origin.windowOffset.right>=e.__options.minIntersection&&c.geo.window.size.width-c.geo.origin.windowOffset.left>=e.__options.minIntersection:h.whole=c.geo.origin.windowOffset.bottom>=e.__options.minIntersection&&c.geo.window.size.height-c.geo.origin.windowOffset.top>=e.__options.minIntersection:h.whole=!1),g.push(h),h.whole)j=!0;else if("natural"==h.mode&&(h.fits||h.size.width<=c.geo.available[k][n].width))return!1}})}}),e.__instance._trigger({edit:function(a){g=a},event:b,helper:c,results:g,type:"positionTested"}),g.sort(function(a,b){if(a.whole&&!b.whole)return-1;if(!a.whole&&b.whole)return 1;if(a.whole&&b.whole){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return d>c?-1:c>d?1:"natural"==a.mode?-1:1}if(a.fits&&!b.fits)return-1;if(!a.fits&&b.fits)return 1;if(a.fits&&b.fits){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return d>c?-1:c>d?1:"natural"==a.mode?-1:1}return"document"==a.container&&"bottom"==a.side&&"natural"==a.mode?-1:1}),d=g[0],d.coord={},d.side){case"left":case"right":d.coord.top=Math.floor(d.target-d.size.height/2);break;case"bottom":case"top":d.coord.left=Math.floor(d.target-d.size.width/2)}switch(d.side){case"left":d.coord.left=c.geo.origin.windowOffset.left-d.outerSize.width;break;case"right":d.coord.left=c.geo.origin.windowOffset.right+d.distance.horizontal;break;case"top":d.coord.top=c.geo.origin.windowOffset.top-d.outerSize.height;break;case"bottom":d.coord.top=c.geo.origin.windowOffset.bottom+d.distance.vertical}"window"==d.container?"top"==d.side||"bottom"==d.side?d.coord.left<0?c.geo.origin.windowOffset.right-this.__options.minIntersection>=0?d.coord.left=0:d.coord.left=c.geo.origin.windowOffset.right-this.__options.minIntersection-1:d.coord.left>c.geo.window.size.width-d.size.width&&(c.geo.origin.windowOffset.left+this.__options.minIntersection<=c.geo.window.size.width?d.coord.left=c.geo.window.size.width-d.size.width:d.coord.left=c.geo.origin.windowOffset.left+this.__options.minIntersection+1-d.size.width):d.coord.top<0?c.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?d.coord.top=0:d.coord.top=c.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:d.coord.top>c.geo.window.size.height-d.size.height&&(c.geo.origin.windowOffset.top+this.__options.minIntersection<=c.geo.window.size.height?d.coord.top=c.geo.window.size.height-d.size.height:d.coord.top=c.geo.origin.windowOffset.top+this.__options.minIntersection+1-d.size.height):(d.coord.left>c.geo.window.size.width-d.size.width&&(d.coord.left=c.geo.window.size.width-d.size.width),d.coord.left<0&&(d.coord.left=0)),e.__sideChange(h,d.side),c.tooltipClone=h[0],c.tooltipParent=e.__instance.option("parent").parent[0],c.mode=d.mode,c.whole=d.whole,c.origin=e.__instance._$origin[0],c.tooltip=e.__instance._$tooltip[0],delete d.container,delete d.fits,delete d.mode,delete d.outerSize,delete d.whole,d.distance=d.distance.horizontal||d.distance.vertical;var l=a.extend(!0,{},d);if(e.__instance._trigger({edit:function(a){d=a},event:b,helper:c,position:l,type:"position"}),e.__options.functionPosition){var m=e.__options.functionPosition.call(e,e.__instance,c,l);m&&(d=m)}i.destroy();var n,o;"top"==d.side||"bottom"==d.side?(n={prop:"left",val:d.target-d.coord.left},o=d.size.width-this.__options.minIntersection):(n={prop:"top",val:d.target-d.coord.top},o=d.size.height-this.__options.minIntersection),n.val<this.__options.minIntersection?n.val=this.__options.minIntersection:n.val>o&&(n.val=o);var p;p=c.geo.origin.fixedLineage?c.geo.origin.windowOffset:{left:c.geo.origin.windowOffset.left+c.geo.window.scroll.left,top:c.geo.origin.windowOffset.top+c.geo.window.scroll.top},d.coord={left:p.left+(d.coord.left-c.geo.origin.windowOffset.left),top:p.top+(d.coord.top-c.geo.origin.windowOffset.top)},e.__sideChange(e.__instance._$tooltip,d.side),c.geo.origin.fixedLineage?e.__instance._$tooltip.css("position","fixed"):e.__instance._$tooltip.css("position",""),e.__instance._$tooltip.css({left:d.coord.left,top:d.coord.top,height:d.size.height,width:d.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(n.prop,n.val),e.__instance._$tooltip.appendTo(e.__instance.option("parent")),e.__instance._trigger({type:"repositioned",event:b,position:d})},__sideChange:function(a,b){a.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+b)},__targetFind:function(a){var b={},c=this.__instance._$origin[0].getClientRects();if(c.length>1){var d=this.__instance._$origin.css("opacity");1==d&&(this.__instance._$origin.css("opacity",.99),c=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(c.length<2)b.top=Math.floor(a.geo.origin.windowOffset.left+a.geo.origin.size.width/2),b.bottom=b.top,b.left=Math.floor(a.geo.origin.windowOffset.top+a.geo.origin.size.height/2),b.right=b.left;else{var e=c[0];b.top=Math.floor(e.left+(e.right-e.left)/2),e=c.length>2?c[Math.ceil(c.length/2)-1]:c[0],b.right=Math.floor(e.top+(e.bottom-e.top)/2),e=c[c.length-1],b.bottom=Math.floor(e.left+(e.right-e.left)/2),e=c.length>2?c[Math.ceil((c.length+1)/2)-1]:c[c.length-1],b.left=Math.floor(e.top+(e.bottom-e.top)/2)}return b}}}),a});
/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

window.Granite = window.Granite || {};

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

/**
 * A helper class providing a set of Sling-related utilities.
 * @static
 * @singleton
 * @class Granite.Sling
 */
Granite.Sling = {

        /**
         * The selector for infinite hierarchy depth when retrieving
         * repository content.
         * @static
         * @final
         * @type String
         */
        SELECTOR_INFINITY: ".infinity",

        /**
         * The parameter name for the used character set.
         * @static
         * @final
         * @type String
         */
        CHARSET: "_charset_",

        /**
         * The parameter name for the status.
         * @static
         * @final
         * @type String
         */
        STATUS: ":status",

        /**
         * The parameter value for the status type "browser".
         * @static
         * @final
         * @type String
         */
        STATUS_BROWSER: "browser",

        /**
         * The parameter name for the operation.
         * @static
         * @final
         * @type String
         */
        OPERATION: ":operation",

        /**
         * The parameter value for the delete operation.
         * @static
         * @final
         * @type String
         */
        OPERATION_DELETE: "delete",

        /**
         * The parameter value for the move operation.
         * @static
         * @final
         * @type String
         */
        OPERATION_MOVE: "move",

        /**
         * The parameter name suffix for deleting.
         * @static
         * @final
         * @type String
         */
        DELETE_SUFFIX: "@Delete",

        /**
         * The parameter name suffix for setting a type hint.
         * @static
         * @final
         * @type String
         */
        TYPEHINT_SUFFIX: "@TypeHint",

        /**
         * The parameter name suffix for copying.
         * @static
         * @final
         * @type String
         */
        COPY_SUFFIX: "@CopyFrom",

        /**
         * The parameter name suffix for moving.
         * @static
         * @final
         * @type String
         */
        MOVE_SUFFIX: "@MoveFrom",

        /**
         * The parameter name for the ordering.
         * @static
         * @final
         * @type String
         */
        ORDER: ":order",

        /**
         * The parameter name for the replace flag.
         * @static
         * @final
         * @type String
         */
        REPLACE: ":replace",

        /**
         * The parameter name for the destination flag.
         * @static
         * @final
         * @type String
         */
        DESTINATION: ":dest",

        /**
         * The parameter name for the save parameter prefix.
         * @static
         * @final
         * @type String
         */
        SAVE_PARAM_PREFIX: ":saveParamPrefix",

        /**
         * The parameter name for input fields that should
         * be ignored by Sling.
         * @static
         * @final
         * @type String
         */
        IGNORE_PARAM: ":ignore",

        /**
         * The parameter name for login requests.
         * @static
         * @final
         * @type String
         */
        REQUEST_LOGIN_PARAM: "sling:authRequestLogin",

        /**
         * Login URL
         * @static
         * @final
         * @type String
         */
        LOGIN_URL: "/system/sling/login.html",

        /**
         * Logout URL
         * @static
         * @final
         * @type String
         */
        LOGOUT_URL: "/system/sling/logout.html"
};

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
(function (Granite, $) {
    /**
     * A helper class providing a set of general utilities.
     * @static
     * @singleton
     * @class Granite.Util
     */
    Granite.Util = (function() {

        var self = {

            /**
             * Replaces occurrences of <code>{n}</code> in the specified text with
             * the texts from the snippets.
             * <p>Example 1 (single snippet):<pre><code>
    var text = Granite.Util.patchText("{0} has signed in.", "Jack");
               </code></pre>Result 1:<pre><code>
    Jack has signed in.
               </code></pre></p>
             * <p>Example 2 (multiple snippets):<pre><code>
    var text = "{0} {1} has signed in from {2}.";
    text = Granite.Util.patchText(text, ["Jack", "McFarland", "10.0.0.99"]);
               </code></pre>Result 2:<pre><code>
    Jack McFarland has signed in from 10.0.0.99.
               </code></pre></p>
             * @static
             * @param {String} text The text
             * @param {String/String[]} snippets The text(s) replacing
             *        <code>{n}</code>
             * @return {String} The patched text
             */
            patchText: function(text, snippets) {
                if (snippets) {
                    if (!$.isArray(snippets)) {
                        text = text.replace("{0}", snippets);
                    } else {
                        for (var i=0; i < snippets.length; i++) {
                            text = text.replace(("{" + i + "}"), snippets[i]);
                        }
                    }
                }
                return text;
            },

            /**
             * Returns the top most accessible window. Check {@link setIFrameMode} to avoid security exception message
             * on WebKit browsers if this method is called in an iFrame included in a window from different domain.
             * @static
             * @return {Window} The top window
             */
            getTopWindow: function() {
                var win = window;
                if( this.iFrameTopWindow ) {
                    return this.iFrameTopWindow;
                }
                try {
                    // try to access parent
                    // win.parent.location.href throws an exception if not authorized (e.g. different location in a portlet)
                    while(win.parent && win !== win.parent && win.parent.location.href) {
                        win = win.parent;
                    }
                } catch( error) {}
                return win;
            },

            /**
             * Allows to define if Granite.Util is running in an iFrame and parent window is in another domain
             * (and optionally define what would be the top window in that case.
             * This is necessary to use {@link getTopWindow} in a iFrame on WebKit based browsers because
             * {@link getTopWindow} iterates on parent windows to find the top one which triggers a security exception
             * if one parent window is in a different domain. Exception cannot be caught but is not breaking the JS
             * execution.
             * @param {Object} topWindow (optional) The iFrame top window. Must be running on the same host to avoid
             * security exception. Defaults to window.
             */
            setIFrameMode: function(topWindow) {
                this.iFrameTopWindow = topWindow || window;
            },

            /**
             * Applies default properties if inexistent inzo the base object.
             * Child objects are merged recursively.
             * REMARK: 
             *   - objects are recursively merged
             *   - simple type obejct properties are copied over the base
             *   - arrays are cloned and override the base (no value merging)
             * 
             * @static
             * @param {Object} base object
             * @param {Object} pass objects to be copied onto the base
             * @return {Object} The base object with defaults
             */
            applyDefaults: function() {
                var override, base = arguments[0] || {};

                for (var i=1; i < arguments.length; i++) {
                    override = arguments[i];

                    for (var name in override) {
                        var value = override[name];

                        if (override.hasOwnProperty(name) && value) {

                            if (typeof value === "object" && !(value instanceof Array)) {
                                // nested object
                                base[name] = self.applyDefaults(base[name], value);
                            } else if (value instanceof Array) {
                                //override array
                                base[name] = value.slice(0);
                            } else {
                                // simple type
                                base[name] = value;
                            }
                        }
                        
                    }
                }

                return base;
            },

            /**
             * Get keycode from event
             * @param event Event
             * @returns {Number} Keycode
             */
            getKeyCode: function(event) {
                return event.keyCode ? event.keyCode : event.which;
            }

        };

        return self;

    }());

}(Granite, jQuery));
/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

(function (Granite, util, sling, $) {

    /**
     * A helper class providing a set of HTTP-related utilities.
     * @static
     * @singleton
     * @class Granite.HTTP
     */
    Granite.HTTP = (function() {
        /**
         * The context path used on the server.
         * May only be set by {@link #detectContextPath}.
         * @private
         * @type String
         */
        var contextPath = null,

        /**
         * The regular expression to detect the context path used
         * on the server using the URL of this script.
         * @private
         * @final
         * @type RegExp
         */
            SCRIPT_URL_REGEXP = /^(?:http|https):\/\/[^\/]+(\/.*)\/(?:etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs).*\.js(\?.*)?$/,

        /**
         * The regular expression to detect unescaped special characters in a path.
         * @private
         * @final
         * @type RegExp
         */
            ENCODE_PATH_REGEXP = /[^1\w-\.!~\*'\(\)\/%;:@&=\$,]/,

        /**
         * Indicates after a session timeout if a refresh has already been triggered
         * in order to avoid multiple alerts.
         * @private
         * @type String
         */
            loginRedirected = false,

            self = {};

        /**
         * Returns the scheme and authority (user, hostname, port) part of
         * the specified URL or an empty string if the URL does not include
         * that part.
         * @static
         * @param {String} url The URL
         * @return {String} The scheme and authority part
         */
        self.getSchemeAndAuthority = function (url) {
            var end;

            try {
                if (url.indexOf("://") == -1) return ""; // e.g. url was /en.html
                end = url.indexOf("/", url.indexOf("://") + 3);

                return (end == -1) ?
                    url :   // e.g. url was http://www.day.com
                    url.substring(0, end);  // e.g. url was http://www.day.com/en.html
            }
            catch (e) {
                return "";
            }
        };

        /**
         * Returns the context path used on the server.
         * @static
         * @return {String} The context path
         */
        self.getContextPath = function () {
            return contextPath;
        };

        /**
         * Detects the context path used on the server.
         * @private
         * @static
         */
        self.detectContextPath = function () {
            try {
                if (window.CQURLInfo) {
                    contextPath = CQURLInfo.contextPath || "";
                } else {
                    var scripts = document.getElementsByTagName("script");
                    for (var i = 0; i < scripts.length; i++) {
                        // in IE the first script is not the expected widgets js: loop
                        // until it is found
                        var result = SCRIPT_URL_REGEXP.exec(scripts[i].src);
                        if (result) {
                            contextPath = result[1];
                            return;
                        }
                    }
                    contextPath = "";
                }
            } catch (e) {
            }
        };

        /**
         * Makes sure the specified relative URL starts with the context path
         * used on the server. If an absolute URL is passed, it will be returned
         * as-is.
         * @static
         * @param {String} url The URL
         * @return {String} The externalized URL
         */
        self.externalize = function (url) {
            try {
                if (url.indexOf("/") == 0 && contextPath &&
                    url.indexOf(contextPath + "/") != 0) {
                    url = contextPath + url;
                }
            }
            catch (e) {
            }
            return url;
        };

        /**
         * Removes scheme, authority and context path from the specified
         * absolute URL if it has the same scheme and authority as the
         * specified document (or the current one). If a relative URL is passed,
         * the context path will be stripped if present.
         * @static
         * @param {String} url The URL
         * @param {String} doc (optional) The document
         * @return {String} The internalized URL
         */
        self.internalize = function (url, doc) {
        	if (url.charAt(0) == '/') {
        		if (contextPath && url.indexOf(contextPath) == 0) {
        			return url.substring(contextPath.length);
        		} else {
        			return url;
        		}
        	}
        	
        	if (!doc) doc = document;
            var docHost = self.getSchemeAndAuthority(doc.location.href);
            var urlHost = self.getSchemeAndAuthority(url);
            if (docHost == urlHost) {
                return url.substring(urlHost.length + (contextPath ? contextPath.length : 0));
            }
            else {
                return url;
            }
        };

        /**
         * Removes all parts but the path from the specified URL.
         * <p>Examples:<pre><code>
         /x/y.sel.html?param=abc => /x/y
         </code></pre>
         * <pre><code>
         http://www.day.com/foo/bar.html => /foo/bar
         </code></pre><p>
         * @static
         * @param {String} url The URL, may be empty. If empty <code>window.location.href</code> is taken.
         * @return {String} The path
         */
        self.getPath = function (url) {

            if (!url) {
                if (window.CQURLInfo && CQURLInfo.requestPath) {
                    return CQURLInfo.requestPath;
                } else {
                    url = window.location.pathname;
                }
            } else {
                url = self.removeParameters(url);
                url = self.removeAnchor(url);
            }

            url = self.internalize(url);
            var i = url.indexOf(".", url.lastIndexOf("/"));
            if (i != -1) {
                url = url.substring(0, i);
            }
            return url;
        };

        /**
         * Removes the anchor from the specified URL.
         * @static
         * @param {String} url The URL
         * @return {String} The URL without anchor
         */
        self.removeAnchor = function (url) {
            if (url.indexOf("#") != -1) {
                return url.substring(0, url.indexOf("#"));
            }
            return url;
        };

        /**
         * Removes all parameter from the specified URL.
         * @static
         * @param {String} url The URL
         * @return {String} The URL without parameters
         */
        self.removeParameters = function (url) {
            if (url.indexOf("?") != -1) {
                return url.substring(0, url.indexOf("?"));
            }
            return url;
        };

        /**
         * Encodes the path of the specified URL if it is not already encoded.
         * Path means the part of the URL before the first question mark or
         * hash sign.<br>
         * See {@link #encodePath} for details about the encoding.<br>
         * Sample:<br>
         * <code>/x/y+z.png?path=/x/y+z >> /x/y%2Bz.png?path=x/y+z</code><br>
         * Note that the sample would not work because the "+" in the request
         * parameter would be interpreted as a space. Parameters must be encoded
         * separately.
         * @param {String} url The URL to encoded
         * @return {String} The encoded URL
         */
        self.encodePathOfURI = function (url) {
            var parts, delim;
            if (url.indexOf("?") != -1) {
                parts = url.split("?");
                delim = "?";
            }
            else if (url.indexOf("#") != -1) {
                parts = url.split("#");
                delim = "#";
            }
            else {
                parts = [url];
            }
            if (ENCODE_PATH_REGEXP.test(parts[0])) {
                parts[0] = self.encodePath(parts[0]);
            }
            return parts.join(delim);
        };

        /**
         * Encodes the specified path using encodeURI. Additionally <code>+</code>,
         * <code>#</code> and <code>?</code> are encoded.<br>
         * The following characters are not encoded:<br>
         * <code>0-9 a-z A-Z</code><br>
         * <code>- _ . ! ~ * ( )</code><br>
         * <code>/ : @ & =</code><br>
         * @param {String} path The path to encode
         * @return {String} The encoded path
         */
       self.encodePath = function (path) {
            // ensure IPV6 address square brackets are not encoded - see bug #34844
            path = encodeURI(path).replace(/%5B/g, '[').replace(/%5D/g, ']');
            path = path.replace(/\+/g, "%2B");
            path = path.replace(/\?/g, "%3F");
            path = path.replace(/;/g, "%3B");
            path = path.replace(/#/g, "%23");
            path = path.replace(/=/g, "%3D");
            path = path.replace(/\$/g, "%24");
            path = path.replace(/,/g, "%2C");
            path = path.replace(/'/g, "%27");
            path = path.replace(/"/g, "%22");
            return path;
       };

        /**
        * Returns if the redirect to the login page has already been triggered.
        * @return {Boolean}
        */
        self.handleLoginRedirect = function () {
            if (!loginRedirected) {
                loginRedirected = true;
                alert(Granite.I18n.get("Your request could not be completed because you have been signed out."));
                var l = util.getTopWindow().document.location;
                l.href = self.externalize(sling.LOGIN_URL) +
                    "?resource=" + l.pathname + encodeURIComponent(l.search) +
                    l.hash;
            }
        };

        /**
        * Gets the XHR hooked URL if called in a portlet context
        * @param {String} url The URL to get
        * @param {String} method The method to use to retrieve the XHR hooked URL
        * @param {Object} params The parameters
        * @return {String} The XHR hooked URL if available, the provided URL otherwise
        */
        self.getXhrHook = function (url, method, params) {
            method = method || "GET";
            if (window.G_XHR_HOOK && $.isFunction(G_XHR_HOOK)) {
                var p = {
                    "url": url,
                    "method": method
                };
                if (params) {
                    p["params"] = params;
                }
                return G_XHR_HOOK(p);
            }
            return null;
        };

        /**
         * Evaluates and returns the body of the specified response object.
         * Alternatively, a URL can be specified, in which case it will be
         * requested using a synchornous {@link #get} in order to acquire
         * the response object.
         * @static
         * @param {Object/String} response The response object or URL
         * @return {Object} The evaluated response body
         * @since 5.3
         */
        self.eval = function(response) {
            if (typeof response != "object") {
                response = $.ajax({
                    url: response,
                    type: 'get',
                    async: false
                });
            }
            try {
                // support responseText for backward compatibility (pre 5.3)
                return eval("(" + (response.body ? response.body :
                    response.responseText) + ")");
            } catch (e) {
            }
            return null;
        };

        return self;
    }());

}(Granite, Granite.Util, Granite.Sling, jQuery));

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

(function (document, Granite, util, http, $) {
    /**
     * A helper class providing a set of utilities related to internationalization (i18n).
     *
     * <h3>Locale Priorities</h3>
     * <p>The locale is read based on the following priorities:</p>
     * <ol>
     *   <li>manually specified locale</li>
     *   <li><code>document.documentElement.lang</code></li>
     *   <li><code>Granite.I18n.LOCALE_DEFAULT</code></li>
     * </ol>
     * 
     * <h3>Dictionary Priorities</h3>
     * <p>The dictionary URL is read based on the following priorities:</p>
     * <ol>
     *   <li>manually specified URL (<code>urlPrefix</code, <code>urlSuffix</code>)</li>
     *   <li><code>data-i18n-dictionary-src</code> attribute at &lt;html&gt; element, which has the type of <a href="http://tools.ietf.org/html/rfc6570">URI Template</a> string</li>
     *   <li>The URL resolved from default <code>urlPrefix</code> and <code>urlSuffix</code></li>
     * </ol>
     * 
     * <h3>URI Template of data-i18n-dictionary-src</h3>
     * <p>It expects the variable named <code>locale</code>, which will be fetched from the locale (based on priorities above).
     * E.g. <code>&lt;html lang="en" data-i18n-dictionary-src="/libs/cq/i18n/dict.{+locale}.json"&gt;</code>.</p>
     * 
     * @static
     * @singleton
     * @class Granite.I18n
     */
    Granite.I18n = (function() {

        /**
         * The map where the dictionaries are stored under their locale.
         * @private
         * @type Object
         */
        var dicts = {},

        /**
         * The prefix for the URL used to request dictionaries from the server.
         * @private
         * @type String
         */
            urlPrefix = "/libs/cq/i18n/dict.",

        /**
         * The suffix for the URL used to request dictionaries from the server.
         * @private
         * @type String
         */
            urlSuffix = ".json",

        /**
         * The manually specified locale as a String or a function that returns the locale as a string.
         * @private
         * @static
         * @type String
         */
            manualLocale = undefined,

        /**
         * If the current locale represents pseudo translations.
         * In that case the dictionary is expected to provide just a special
         * translation pattern to automatically convert all original strings.
         */
            pseudoTranslations = false,

            languages = null,

            self = {},
            
        /**
         * Indicates if the dictionary parameters are specified manually.
         */
            manualDictionary = false,
        
            getDictionaryUrl = function(locale) {
                if (manualDictionary) {
                    return urlPrefix + locale + urlSuffix;
                }
                
                var dictionarySrc = $("html").attr("data-i18n-dictionary-src");
                
                if (!dictionarySrc) {
                    return urlPrefix + locale + urlSuffix;
                }
                
                // dictionarySrc is a URITemplate
                // Use simple string replacement for now; for more complicated scenario, please use Granite.URITemplate
                return dictionarySrc.replace("{locale}", encodeURIComponent(locale)).replace("{+locale}", locale);
            };

        /**
         * The default locale (en).
         * @static
         * @final
         * @type String
         */
        self.LOCALE_DEFAULT = "en";

        /**
         * Language code for pseudo translations.
         * @static
         * @final
         * @type String
         */
        self.PSEUDO_LANGUAGE = "zz";

        /**
         * Dictionary key for pseudo translation pattern.
         * @static
         * @final
         * @type String
         */
        self.PSEUDO_PATTERN_KEY = "_pseudoPattern_";

        /**
         * Initializes I18n with the given config options:
         * <ul>
         * <li>locale: the current locale (defaults to "en")</li>
         * <li>urlPrefix: the prefix for the URL used to request dictionaries from
         * the server (defaults to "/libs/cq/i18n/dict.")</li>
         * <li>urlSuffix: the suffix for the URL used to request dictionaries from
         * the server (defaults to ".json")</li>
         * </ul>
         * Sample config. The dictioniary would be requested from
         * "/apps/i18n/dict.fr.json":
         <code><pre>{
         "locale": "fr",
         "urlPrefix": "/apps/i18n/dict.",
         "urlSuffix": ".json"
         }</pre></code>
         * @param {Object} config The config
         */
        self.init = function (config) {
            config  = config || {};
            
            this.setLocale(config.locale);
            this.setUrlPrefix(config.urlPrefix);
            this.setUrlSuffix(config.urlSuffix);
        };

        /**
         * Sets the current locale.
         * @static
         * @param {String/Function} locale The locale or a function that returns the locale as a string
         */
        self.setLocale = function (locale) {
            if (!locale) return;
            
            manualLocale = locale;
        };

        /**
         * Returns the current locale based on the priorities.
         * @static
         * @return {String} The locale
         */
        self.getLocale = function () {
            if ($.isFunction(manualLocale)) {
                // execute function first time only and store result in currentLocale
                manualLocale = manualLocale();
            }
            
            return manualLocale || document.documentElement.lang || self.LOCALE_DEFAULT;
        };

        /**
         * Sets the prefix for the URL used to request dictionaries from
         * the server. The locale and URL suffix will be appended.
         * @static
         * @param {String} prefix The URL prefix
         */
        self.setUrlPrefix = function (prefix) {
            if (!prefix) return;
            
            urlPrefix = prefix;
            manualDictionary = true;
        };

        /**
         * Sets the suffix for the URL used to request dictionaries from
         * the server. It will be appended to the URL prefix and locale.
         * @static
         * @param {String} suffix The URL suffix
         */
        self.setUrlSuffix = function (suffix) {
            if (!suffix) return;
            
            urlSuffix = suffix;
            manualDictionary = true;
        };

        /**
         * Returns the dictionary for the specified locale. This method
         * will request the dictionary using the URL prefix, the locale,
         * and the URL suffix. If no locale is specified, the current
         * locale is used.
         * @static
         * @param {String} locale (optional) The locale
         * @return {Object} The dictionary
         */
        self.getDictionary = function (locale) {
            locale = locale || self.getLocale();
            
            if (!dicts[locale]) {
                pseudoTranslations = (locale.indexOf(self.PSEUDO_LANGUAGE) == 0);

                try {
                    var response = $.ajax(getDictionaryUrl(locale), {
                        async: false,
                        dataType: "json"
                    });
                    dicts[locale] = $.parseJSON(response.responseText);
                } catch (e) {}
                if (!dicts[locale]) {
                    dicts[locale] = {};
                }
            }
            return dicts[locale];
        };

        /**
         * Translates the specified text into the current language.
         * @static
         * @param {String} text The text to translate
         * @param {String[]} snippets The snippets replacing <code>{n}</code> (optional)
         * @param {String} note A hint for translators (optional)
         * @return {String} The translated text
         */
        self.get = function (text, snippets, note) {
            var dict, newText, lookupText;

            dict = self.getDictionary();

            // note that pseudoTranslations is initialized in the getDictionary() call above
            lookupText = pseudoTranslations ? self.PSEUDO_PATTERN_KEY :
                note ? text + " ((" + note + "))" :
                    text;
            if (dict) {
                newText = dict[lookupText];
            }
            if (!newText) {
                newText = text;
            }
            if (pseudoTranslations) {
                newText = newText.replace("{string}", text).replace("{comment}", note ? note : "");
            }
            return util.patchText(newText, snippets);
        };

        /**
         * Translates the specified text into the current language. Use this
         * method to translate String variables, e.g. data from the server.
         * @static
         * @param {String} text The text to translate
         * @param {String} note A hint for translators (optional)
         * @return {String} The translated text
         */
        self.getVar = function (text, note) {
            if (!text) {
                return null;
            }
            return self.get(text, null, note);
        };

        /**
         * Returns the available languages, including a "title" property with a display name:
         * for instance "German" for "de" or "German (Switzerland)" for "de_ch".
         * @static
         * @return {Object} An object with language codes as keys and an object with "title",
         *                  "language", "country" and "defaultCountry" members.
         */
        self.getLanguages = function () {
            if (!languages) {
                try {
                    // use overlay servlet so customers can define /apps/wcm/core/resources/languages
                    var json = http.eval("/libs/wcm/core/resources/languages.overlay.infinity.json"); // TODO: broken!!!
                    $.each(json, function(name, lang) {
                        lang.title = self.getVar(lang.language);
                        if (lang.title && lang.country && lang.country != "*") {
                            lang.title += " ("+self.getVar(lang.country)+")";
                        }
                    });
                    languages = json;
                } catch (e) {
                    languages = {};
                }
            }
            return languages;
        };

        /**
         * Parses a language code string such as "de_CH" and returns an object with
         * language and country extracted. The delimiter can be "_" or "-".
         * @static
         * @param {String} langCode a language code such as "de" or "de_CH" or "de-ch"
         * @return {Object} an object with "code" ("de_CH"), "language" ("de") and "country" ("CH")
         *                  (or null if langCode was null)
         */
        self.parseLocale = function (langCode) {
            if (!langCode) {
                return null;
            }
            var pos = langCode.indexOf("_");
            if (pos < 0) {
                pos = langCode.indexOf("-");
            }

            var language, country;
            if (pos < 0) {
                language = langCode;
                country = null;
            } else {
                language = langCode.substring(0, pos);
                country = langCode.substring(pos + 1);
            }
            return {
                code: langCode,
                language: language,
                country: country
            };
        };

        return self;

    }());

}(document, Granite, Granite.Util, Granite.HTTP, jQuery));

/*
 *
 * ADOBE CONFIDENTIAL
 * __________________
 *
 *  Copyright 2012 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

/**
 * Implements the "Adobe Dynamic Touch Indicator" that tracks touch events and displays a visual indicator for
 * screen sharing and presentation purposes.
 *
 * To enable it call <code>Granite.TouchIndicator.init()</code> e.g. on document ready:
 * <pre><code>

 Granite.$(document).ready(function() {
     Granite.TouchIndicator.init();
 });

 </code></pre>
 *
 * AdobePatentID="2631US01"
 */
(function (Granite, $) {

    var touchIndicator = function() {

        var CSS = {
            "visibility": "hidden",
            "position": "absolute", // fixed would be better, but flickers on ipad while scrolling
            "width": "30px",
            "height": "30px",
            "-webkit-border-radius": "20px",
            "border-radius": "20px",
            "border": "5px solid orange",
            "-webkit-user-select": "none",
            "user-select": "none",
            "opacity": "0.5",
            "z-index": "2000",
            "pointer-events": "none"
        };

        var used = {};

        var unused = [];

        return {
            debugWithMouse: false,

            init: function() {
                var self = this;

                $(document).on("touchstart.touchindicator touchmove.touchindicator touchend.touchindicator", function(e) {
                    var touches = e.originalEvent.touches;
                    self.update(touches);
                    return true;
                });

                if (this.debugWithMouse) {
                    $(document).on("mousemove.touchindicator", function(e){
                        e.identifer = "fake";
                        self.update([e]);
                        return true;
                    });
                }
            },

            update: function(touches) {
                // go over all touch events present in the array
                var retained = {};
                for (var i = 0; i<touches.length; i++) {
                    var touch = touches[i];
                    var id = touch.identifier;

                    // check if we already have a indicator with the correct id
                    var indicator = used[id];
                    if (!indicator) {
                        // if not, check if we have an unused one
                        indicator = unused.pop();

                        // if not, create a new one and append it to the dom
                        if (!indicator) {
                            indicator = $("<div></div>").css(CSS);
                            $("body").append(indicator);
                        }
                    }

                    retained[id] = indicator;
                    indicator.offset({
                        left: touch.pageX - 20,
                        top: touch.pageY - 20
                    });
                    indicator.css("visibility", "visible");
                }

                // now hide all unused ones and stuff them in the unused array
                for (id in used) {
                    if (used.hasOwnProperty(id) && !retained[id]) {
                        indicator = used[id];
                        indicator.css("visibility", "hidden");
                        unused.push(indicator);
                    }
                }
                used = retained;
            }
        }
    };
    Granite.TouchIndicator = new touchIndicator();

}(Granite, jQuery));

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
(function (Granite, util, http, $) {

    /**
     * A tool to determine whether any opt-out cookie is set and whether a given cookie name
     * is white-listed. The opt-out and white-list cookie names are determined by a server
     * side configuration (com.adobe.granite.security.commons.OptOutService) and provided to
     * this tool by an optionally included component (/libs/granite/security/components/optout)
     * which provides a global JSON object named <code>GraniteOptOutConfig</code>.
     *
     * @static
     * @singleton
     * @class Granite.OptOutUtil
     */
    Granite.OptOutUtil = (function () {

        var self = {};

        /**
         * Contains the names of cookies the presence of which indicates the user has opted out.
         * @private
         * @type Array
         */
        var optOutCookieNames = [];

        /**
         * Contains the names of cookies which may still be set in spite of the user having opted out.
         * @private
         * @type Array
         */
        var whitelistedCookieNames = [];

        /**
         * Initializes this tool with an opt-out configuration. The following options are supported:
         * <ul>
         *     <li>cookieNames: an array of cookie names representing opt-out cookies. Defaults to empty.</li>
         *     <li>whitelistCookieNames: an array of cookies representing white-listed cookies. Defaults to empty.</li>
         * </ul>
         * Sample config:
         * <code>
         *     <pre>
         *         {
         *         "cookieNames":["omniture_optout","cq-opt-out"],
         *         "whitelistCookieNames":["someAppCookie", "anotherImportantAppCookie"]
         *         }
         *     </pre>
         * </code>
         * @param config The opt-out configuration
         */
        self.init = function (config) {
            if (config) {
                optOutCookieNames = config.cookieNames
                        ? config.cookieNames : optOutCookieNames;
                whitelistedCookieNames = config.whitelistCookieNames
                        ? config.whitelistCookieNames : whitelistedCookieNames;
            }
        };

        /**
         * Returns the array of configured cookie names representing opt-out cookies.
         * @static
         * @return {Array} The cookie names
         */
        self.getCookieNames = function () {
            return optOutCookieNames;
        };

        /**
         * Returns the array of configured cookie names representing white-listed cookies.
         * @static
         * @return {Array} The cookie names
         */
        self.getWhitelistCookieNames = function () {
            return whitelistedCookieNames;
        };

        /**
         * Determines whether the user (browser) has elected to opt-out. This is indicated by the presence of
         * one of the cookies retrieved through #getCookieNames().
         * @return {Boolean} True if an opt-cookie was found in the browser's cookies.
         */
        self.isOptedOut = function () {
            var browserCookies = document.cookie.split(";");
            for (var i = 0; i < browserCookies.length; i++) {
                var cookie = browserCookies[i];
                var cookieName = $.trim(cookie.split("=")[0]);
                if ($.inArray(cookieName, self.getCookieNames()) > -1) {
                    return true;
                }
            }

            return false;
        };

        /**
         * Determines whether the given <code>cookieName</code> may be used to set a cookie. This is the case
         * if either opt-out is inactive (#isOptedOut() == false) or it is active and the give cookie name was
         * found in the white-list (#getWhitelistCookieNames()).
         * @param cookieName The name of the cookie to check.
         * @return {Boolean} True if a cookie of this name may be used with respect to the opt-out status.
         */
        self.maySetCookie = function (cookieName) {
            return !(self.isOptedOut() && $.inArray(cookieName, self.getWhitelistCookieNames()) === -1);
        };

        return self;

    }());

}(Granite, Granite.Util, Granite.HTTP, jQuery));
/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */


//------------------------------------------------------------------------------
// Initialize the Granite utils library

Granite.OptOutUtil.init(window.GraniteOptOutConfig);
Granite.HTTP.detectContextPath();


/**
 * hmc 기본 설정 파일
 */
;(function ( $ ) {
    var hmc = {
        /**
         * ServiceApi setting
         *      path    {String}    api path
         *      cache   {Boolean}   default: false
         *      method  {String}    default: 'GET'
         */
        ServiceApi: {
            ping: { path:'/api/ping' },
            test: { path:'/api/fly/{funding}/{bounds}' }
        },

        //통화 종류 설정
        CURRENCY: 'GBP',

        //날짜 표현식 설정
        DATE_TYPE: 'DD-MM-YYYY',

        //이미지 파일명 규칙
        MODEL_FILE_NAME_RULE: 'Hmc-{type}-{model}-{trim}-{color}-{wheel}-{index, 3}.{extension}'
    };


    //i18n setting
/*    if ( window.Granite && Granite.I18n ) {
        Granite.I18n.setLocale( hmc.COUNTRY || 'eb' );
    } else {
        window.Granite = {
            I18n: {
                get: function ( code ) {
                    return 'ERROR:' + code;
                }
            }
        };
    }*/
    if (Granite && Granite.I18n) {
    	//Granite.I18n.setLocale("en_global");
    	Granite.I18n.setLocale( hmc.I18N_LOCALE || 'en_us' );
    } else {
        window.Granite = {
                I18n: {
                    get: function ( code ) {
                        return 'ERROR:' + code;
                    }
                }
            };
        }


    window.hmc = window.hmc || {};
    window.hmc = _.extend( window.hmc, hmc );
})( jQuery );

/**
 * hmc 기본 설정 파일
 */
;(function ( $ ) {
    var hmgt = {
        /**
         * ServiceApi setting
         *      path    {String}    api path
         *      cache   {Boolean}   default: false
         *      method  {String}    default: 'GET'
         */
        /*
            hmgt.ServiceApi.postcode({
                postcode: ‘000 999’,
            }).done(function () {
            }).fail(function () {
            });
        */
        ServiceApi: {
            carlist: { path:'/api/hmc_gt/car.list' },
            carcategory: { path:'/api/hmc_gt/car.categories' },
            buildMyHmcTrimData: { path:'/api/hmc_gt/bmk.trim' },//code=picanto
            postcode: { path:'/api/hmc_gt/postcode.postcode' }, //postcodei
            postcodeAddress: { path:'/api/hmc_gt/postcode.address' },//id
            findDealer: { path:'/api/hmc_gt/findByDealer.selectClosestList', method:'POST' },
            findDealerAll: { path:'/api/hmc_gt/findByDealer.list?displayYn=Y&delYn=N&pagePerLines=99999999', method:'GET' },
            findAoiDealer: { path:'/api/hmc_gt/findByDealer.aoiList', method:'GET' },
            getDealerDetail: { path:'/api/hmc_gt/findByDealer.detail', method:'GET' },
            getDealerDetailWithDealerNumber: { path:'/api/hmc_gt/findByDealer.detailWithDealerNumber', method:'GET' },
            testADriver: { path:'/api/hmc_gt/util.testdrive', method:'POST' },
            testADriverBmk: { path:'/api/hmc_gt/testdriver.bmk' },
            requestABrochure: { path:'/api/hmc_gt/util.brochure', method:'POST' },
            formNewsLetter: { path:'/api/hmc_gt/form.newsletter', method:'POST' },
			formCampaign: { path:'/api/hmc_gt/form.campaign', method:'POST' },
            formBusiness: { path:'/api/hmc_gt/form.business', method:'POST' },
            formMagazine: { path:'/api/hmc_gt/form.magazine', method:'POST' },
            dealerContactus: { path:'/api/hmc_gt/form.contactus', method:'POST' },
            sendToDealer: { path:'/api/hmc_gt/util.accessories', method:'POST' },
            getToken: { path:'/api/hmc_gt/form.token' }
        },

        //통화 종류 설정
        CURRENCY: 'GBP',

        //날짜 표현식 설정
        DATE_TYPE: 'DD-MM-YYYY',

        //이미지 파일명 규칙
        MODEL_FILE_NAME_RULE: 'Hmc-{type}-{model}-{trims}-{color}-{wheel}-{index, 3}.{extension}',

        FULL_URL: ( location.port == '4502' || location.port == '4503' )? '/content/kwcms/kme/gt/en' : '/gt',
        FULL_IMAGE_URL: '/content/dam/kwcms/kme/gt/en/assets',
        FILE_EXTENTION: ( location.port == '4502' || location.port == '4503' )? '.html' : '/'
    };

    //i18n setting
/*    if ( window.Granite && Granite.I18n ) {
        //Granite.I18n.setLocale( hmgt.COUNTRY || 'eb' );
    } else {
        window.Granite = {
            I18n: {
                get: function ( code ) {
                    return 'ERROR:' + code;
                }
            }
        };
    }*/
    if (Granite && Granite.I18n) {
    	//Granite.I18n.setLocale("en_global");
    	Granite.I18n.setLocale( hmc.I18N_LOCALE || 'en_us' );
    } else {
        window.Granite = {
                I18n: {
                    get: function ( code ) {
                        return 'ERROR:' + code;
                    }
                }
            };
        }

    // ie css-hack
    var ua = navigator.userAgent,
        doc = document.documentElement;

    if ((ua.match(/MSIE 10.0/i))) {
        doc.className = doc.className + " ie10";

    } else if((ua.match(/MSIE 9.0/i))) {
        doc.className = doc.className + " ie9";

    } else if((ua.match(/rv:11.0/i))){
        doc.className = doc.className + " ie11";
    };


    window.hmgt = window.hmgt || {};
    window.hmgt = _.extend( window.hmgt, hmgt );
})( jQuery );
/**
 * Event 객체 - Class 객체에서 사용
 */
;(function ( $, hmc ) {
    var Events = function () {
        this._eventPool_ = {};
    };

    /** =============== Public Methods =============== */
    Events.prototype = {
        /**
         * 이벤트 등록
         * @param {String}    type      event type
         * @param {Function}  callback  return 받을 function
         */
        addListener: function ( type, callback ) {
            if ( typeof type === 'string' && typeof callback === 'function' && !this.hasListener(type, callback) ) {
                var events = this._eventPool_[type];
                if ( !events ) events = this._eventPool_[type] = [];
                events.push( callback );
            }
        },

        /**
         * 이벤트 삭제
         * @param {String}    type      event type
         * @param {Function}  callback  return 받을 function
         */
        removeListener: function ( type, callback ) {
            var events = this._eventPool_[type];

            if ( events ) {
                if ( typeof callback === 'function' ) {
                    _.some( events, function ( fnc, idx ) {
                        if ( callback === fnc ) {
                            events.splice( idx, 1 );
                            return true;
                        }
                    });
                } else {
                    delete this._eventPool_[type];
                }
            }
        },

        /**
         * 이벤트 등록여부 확인, type만 입력하면 type만 비교한다.
         * @param   {String}    type      event type
         * @param   {Function}  callback  등록된 handler
         * @return  {Boolean}
         */
        hasListener: function ( type, callback ) {
            var result = false,
                events = this._eventPool_[type];

            if ( events ) {
                if ( typeof callback === 'function' ) {
                    _.some( events, function ( fnc ) {
                        if ( callback === fnc ) {
                            return result = true;
                        }
                    });
                } else {
                    result = true;
                }
            }

            return result;
        },

        /**
         * 등록된 이벤트 실행
         * @param {String}  type     event type
         * @param {Object}  datas    전달할 datas
         */
        dispatch: function ( type, datas ) {
            var _this = this,
                events = this._eventPool_[type];

            if ( events ) {
                _.each( events, function ( handler ) {
                    var evt = {type: type};

                    if ( typeof datas === 'object' ) {
                        for ( var key in datas ) {
                            if ( key !== 'type' ) evt[key] = datas[key];
                        }
                    }
                    handler.call( _this, evt );
                });
            }
        }
    };

    hmc.Events = hmc.Events || Events;
})( jQuery, hmc );
/**
 * JS 기본 Class 역활
 * Default Methods
 *      extend(), superMethod(), initialize(), addListener(), removeListener(), hasListener(), dispatch()
 */
;(function ( $, hmc, Events ) {
    var Class = {
        /**
         * Methods 상속, 상속이 너무 깊어지면 오류 확률이 높아지니 주의
         * 순환참조 주의
         * @param {Object} methods
         */
        extend: function ( methods ) {
            var Base = function () {};

            Base.prototype = {
                /**
                 * 따로 실행시키지 않아도 기본 new 될때 실행되어 진다.
                 */
                initialize: function () {
                    return this;
                },

                /**
                 * Default Initialize Method apply, super
                 */
                superMethod: function () {
                    return this;
                }
            };

            var Clone = extendMethods( Base, Events.prototype, true );
            return extendMethods( Clone, methods, true );
        }
    };

    function extendMethods ( Class, methods, notFilter ) {
        if ( typeof methods === 'object' ) {
            var Clone = function () {
                //reset event pool;
                this._eventPool_= {};

                if ( typeof this.initialize === 'function' ) {
                    this.initialize.apply( this, arguments );
                }
            };

            /**
             * Methods 상속
             * @param {Object} methods
             */
            Clone.extend = function ( methods ) {
                return extendMethods( this, methods );
            };

            for ( var name in Class.prototype ) {
                Clone.prototype[name] = Class.prototype[name];
            }

            if ( Class.prototype.initialize ) {
                Clone.prototype.superMethod = Class.prototype.initialize;
            }

            for ( var name_ in methods ) {
                if ( name_ !== 'superMethod' ) {
                    if ( notFilter ) {
                        Clone.prototype[name_] = methods[name_];
                    } else {
                        if ( name_ !== 'addListener' && name_ !== 'removeListener' && name_ !== 'hasListener' && name_ !== 'dispatch' ) {
                            Clone.prototype[name_] = methods[name_];
                        }
                    }
                }
            }
        }

        return Clone;
    }


    hmc.Class = hmc.Class || Class;
})( jQuery, hmc, hmc.Events );
/**
 * Body 끝에서 실행시킬 JS 관리
 * ex) hmc.queue.add( function () { //code });
 */
;(function( hmc ) {
    var _queue = [],
        _hasRun = false;

    var Queue = {
        add: function ( fn ) {
            if ( _hasRun ) {
                fn();
            } else {
                _queue.push( fn );
            }
        },

        run: function () {
            var queueLength = _queue.length;

            for ( var i = 0; i < queueLength; ++i ) {
                _queue[i]();
            }
            _hasRun = true;
        }
    };

    hmc.queue = Queue;
})( hmc );
/**
 * ajax 기본 설정, hmc.js 의 ServiceApi 설정을 참조한다.
 * ex) ServiceApi.ping({datas}).done(function () {});
 */
;(function($, ServiceApi) {
    var Request = {
        /**
         * @param {String}  url
         * @param {Object}  settings
         * @returns {Promise}
         */
        ajax: function ( url, settings ) {
            var options, success, error;

            if ( _.isObject(settings) ) {
                options = settings;
            } else {
                options = {};
            }

            options = $.extend({
                dataType: 'json',
                cache: options.cache || false,
                timeout: 2 * 60 * 1000,
                url: url,
                method: options.method || 'GET'
            }, options );

            if ( options.method === 'POST' && !options.contentType ) {
                //this is comment options.contentType = 'application/json; charset=UTF-8';

                options.contentType = 'application/x-www-form-urlencoded';
            }

            success = options.success || $.noop;
            error = options.error;

            options.headers = $.extend({
                'cache': options.cache || false,
                'timeout': 2 * 60 * 1000,
                'X-CSRF-Token': options.data.token || ''
            }, options.headers );

            if ( options.method === 'POST' ) {
                options.headers.requestTime = new Date().getTime();
            }

            options.error = function ( xhr, textStatus, errorThrown ) {
                var err;

                if ( xhr.readyState === 0 || (this.statusCode && this.statusCode[xhr.status] && arguments[3] !== true) ) {
                    return
                }


                if ( xhr ) {
                    err = xhr.responseJSON || xhr.responseText || errorThrown;
                } else {
                    err = errorThrown;
                }

                if ( error ) {
                    error.call( this, xhr, textStatus, err );
                }
            };


            options.success = function( data, textStatus, xhr ) {
                if ( xhr.status === 200 || xhr.status === 204 ) {
                    success.apply( this, arguments );
                } else {
                    return this.error.call( this, xhr, 'error', data );
                }
            };

            return $.ajax( options );
        }
    };


    var ApiRequest = function ( api ) {
        this.request = function ( datas ) {
            var path = convertPath( api);

            return Request.ajax( path, {
                cache: api.cache,
                method: api.method,
                data: _.isObject(datas)? _.extend({
                    locale: hmc.COUNTRY + '-' + hmc.LANGUAGE
                }, datas) : {}
            });
        };

        function convertPath ( api ) {
            var path = api.path;

 			/*this is comment if ( _.isObject(datas) ) {
             path = path.replace( /\{([a-zA-Z0-9\-\.]+)\}/g, function ( str, propName ) {
             return datas[propName] || '';
             });
             }*/
            //localhost
            if ( location.hostname === 'localhost' ) {
                path = 'http://localhost:4502' + path;
            }

            return path;
        }
    };

    //api url, data setting
    for ( var key in ServiceApi ) {
        if ( ServiceApi.hasOwnProperty(key) ) {
            var api = ServiceApi[key];
            ServiceApi[key] = new ApiRequest( api ).request;
        }
    }

    //methods setting
    $.each( ['get', 'post', 'put', 'delete', 'ajax'], function ( i, method ) {
        if ( method === 'ajax' ) {
            ServiceApi[method] = Request.ajax;
        } else {
            ServiceApi[method] = function ( url, settings ) {
                var options;
                if ( arguments.length > 1 ) {
                    options = settings;
                    options.url = url;
                } else {
                    options = arguments[0];
                }

                options = $.extend( {method: method.toUpperCase()}, options );

                if ( arguments.length > 1 ) {
                    return Request.ajax( url, options );
                } else {
                    return Request.ajax( options );
                }
            };
        }
    });

})(jQuery, hmgt.ServiceApi);


/**
 * Handlebars Helpers
 */
(function () {
    Handlebars.registerHelper( 'consoleLog', function () {
        if ( typeof console.log === 'function' )
        return;
    });

    /*this is comment
    var i18nFromSrc = function (source) {
        var params = Array.prototype.slice.call(arguments, 1),
            options = params.pop();

        var i18nFunction = options.hash.locale ? _.partial( Granite.I18n.localeGet, options.hash.locale ) : Granite.I18n.get;
        return new Handlebars.SafeString( i18nFunction(source, params) );
    };
    */

    Handlebars.registerHelper( 'i18n', function (  ) {
    //this is comment return i18nFromSrc.apply( null, arguments );
    });

    //ex) {{#xif Age ">=" 42}} true {{else}} false {{/xif}}
    Handlebars.registerHelper('xif', function (lvalue, operator, rvalue, options) {
        var operators, result;

        if ( arguments.length < 3 ) {
            throw new Error( 'Handlerbars Helper "compare" needs 2 parameters' );
        }

        if ( options === undefined ) {
            options = rvalue;
            rvalue = operator;
            operator = "===";
        }

        operators = {
            '==': function (l, r) { return l === r; },
            '===': function (l, r) { return l === r; },
            '!=': function (l, r) { return l !== r; },
            '!==': function (l, r) { return l !== r; },
            '<': function (l, r) { return l < r; },
            '>': function (l, r) { return l > r; },
            '<=': function (l, r) { return l <= r; },
            '>=': function (l, r) { return l >= r; },
            'typeof': function (l, r) { return typeof l === r; }
        };

        if ( !operators[operator] ) {
            throw new Error( "'xif' doesn't know the operator " + operator );
        }

        result = operators[operator]( lvalue, rvalue );

        if ( result ) {
            return options.fn( this );
        } else {
            return options.inverse( this );
        }
    });

    // 모든 value가 true이거나 값이 있는지
    //ex) {{#every value1 value2}} view1 {{else}} view2 {{/every}}
    Handlebars.registerHelper( 'every', function () {
        var args = Array.prototype.slice.call( arguments ),
            options = args.pop(),
            result = _.every( args, function ( arg ) {
                return arg ? true : false;
            });

        if ( result ) {
            return options.fn( this );
        } else {
            return options.inverse( this );
        }
    });

    // value중에 하나라도 true이거나 값이 있는지
    //ex) {{#some value1 value2}} view1 {{else}} view2 {{/some}}
    Handlebars.registerHelper( 'some', function () {
        var args = Array.prototype.slice.call( arguments ),
            options = args.pop(),
            result = _.some( args, function ( arg ) {
                return arg ? true : false;
            });

        if ( result ) {
            return options.fn( this );
        } else {
            return options.inverse( this );
        }
    });

    //popup size class return
    Handlebars.registerHelper( 'popupSizeClass', function ( size ) {
        var result = 'hmc_md_size';

        if ( size === 'S' ) {
            result = 'hmc_sm_size';
        } else if ( size === 'L' ) {
            result = 'hmc_lg_size';
        }

        return result;
    });

    //popup size class return for GT
    Handlebars.registerHelper( 'popupSizeClassForGT', function ( size ) {
        var result = '';

        if ( size === 'S' ) {
            result = 'wSmall';
        } else if ( size === 'L' ) {
            result = 'wBig';
        } else if ( size === 'M') {
            result = 'wMiddle';
        }

        return result;
    });

    //decodeURIComponent
    Handlebars.registerHelper( 'decodeString', function ( string ) {
        return decodeURIComponent( string );
    });
})();

/**
 * 공통 기능
 */
;(function ( $, $B, hmc ) {
    var _search = location.search;
    $(window).load(function() {
		window.sessionStorage.setItem("last-url", window.location.href);
    });

    var Common = {

        numberFormat: function( value ){
            return value.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1.');
        },
        //설정된 통화 형식에 맞는 format 으로 변환 ex) 3000.20 > 3.000,20
        currencyFormat: function ( price ) {
 /*
   this is comment    if (typeof price === 'string' || price instanceof String){
                price = price.replace(/[^\d]+/g, '');//콤마(,) 제거
            }
            */
            if( !price ){
                price = '0';
            }

            var _price = String( price );
            //1) 계산되지 않은 값 중, 파운드 기호가 붙어서 넘어오는 경우 처리
            var currency = '£';
            if( _price.indexOf('£') > -1 ){
                currency = '';
            }

            //2) 쩜(.) 없이 정수만 넘어올 경우 .00 처리
            if( _price.indexOf('.') === -1 ){
            	_price += '.00';
            }

            //3) 쩜(.)은 있지만 한 자리밖에 없을 경우 처리
            if( _price.split('.')[1].length === 1 ){
            	_price += '0';
            }

           //3) 세자리마다 콤마를 찍어준다.(쩜.)있어도 정상작동 됨)
            var price_ = String( price );
            price_ = price_.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');

            return currency + price_;
        },

        calculateDetailPrice: function ( price, fittingTime, multiplier ) {
            var T = Number('1e'+2),
                PriceVAT = 0.2,
                FittingPrice = 65,
                FittingVAT = 0.2,
                FittingTime = Number( fittingTime ) || 0,
                _price_ = Number( price );
            //Math.round((sumPrice + Number(option.price))*T)/T
            //var totalPrice = ( price + (price * PriceVAT) ) + ( (FittingPrice * FittingTime) + (FittingPrice * FittingTime * FittingVAT));
            var calculate1 = Math.round((_price_ + (_price_ * PriceVAT))*T)/T,
                calculate2 = Math.round((FittingPrice * FittingTime)*T)/T,
                calculate3 = Math.round((FittingPrice * FittingTime * FittingVAT)*T)/T;

            var totalPrice = Math.round((calculate1 + ( calculate2 + calculate3 ))*T)/T;

            var multi = multiplier || 1;

            var gTotalPrice = totalPrice * multi;

            return Math.round(gTotalPrice * 100) / 100;
        },

        /**
         * Url Parameter 반환
         * @param   {String}            prop  반환 받을 property name, 설정하지 않으면 Object 형태로 모두 반환
         * @return  {* | Object}
         */
        getUrlParam: function ( prop ) {
            var result = {};
            _search.replace(/(\w*)\=([^&]*)/g, function ( str, prop, value ) {
                result[prop] = Common.parseDataType( value );
            });

            if ( typeof prop === 'string' ) {
                if ( result[prop] ) {
                    result = result[prop];
                } else {
                    result = '';
                }
            }

            return result;
        },

        /**
         * AEM Url Parameter 반환
         * @param   {String}        검색된 param array에서 해당하는 index
         * @return  {Array, *}      검색되는 param이 없으면 undefined 반환
         */
        getAemUrlParam: function ( index ) {
            var result = [],
                pathname = location.pathname;

            pathname.replace( /([^\/]+)\/*$/, _.bind(function ( str, f1 ) {
                var match = f1.split( '.' );

                if ( match && match.length > 1 ) {
                    _.each( match, _.bind(function ( val, idx ) {
                        if ( idx > 0 && val.indexOf('html') === -1 ) {
                            val = this.parseDataType( val );
                            result.push( val );
                        }
                    }, this));
                }
            }, this));

            if ( index || index === 0 ) {
                if ( (index > result.length - 1) || (index < 0) ) {
                    result = undefined;
                } else {
                    result = result[index];
                }
            } else {
                if ( !result.length ) {
                    result = undefined;
                }
            }
            return result;
        },

        getAemUrlParamObject: function () {
            var result = {},
                pathname = location.pathname;

            pathname.replace( /([^\/]+)\/*$/, _.bind(function ( str, f1 ) {
                var match = f1.split( '.' );
                match.shift();
                if ( pathname.indexOf( '.html' ) > 0 ) {
                    match.pop();
                }
                if ( match && match.length > 1 ) {
                    var key;
                    _.each( match, _.bind(function ( val, idx ) {
                        if( idx === 0 || idx%2 === 0 ){
                            key = decodeURIComponent( val );
                        }else{
                            val = this.parseDataType( val );
                            result[ key ] = decodeURIComponent( val );
                        }
                    }, this));
                }
            }, this));

            return result;
        },

        /**
         * URL의 해당 데이타를 AEM URL Prameter 형식으로 생성 조합하여 반환
         * @param   {Array}        params   URL을 생성할 데이타
         * @param   {Boolean}      isAdd    기존 url param의 추가 할것인지 설정, default=false
         * @return  {String}
         */
        createAemUrlWithParam: function ( params, isAdd ) {
            var origin = location.protocol + location.hostname + location.port,
                pathname = location.pathname;

            if ( _.isArray(params) && params.length > 0 ) {
                var paramStr = decodeURIComponent( params.join('.') );

                pathname = pathname.replace( /([^\/]+)\/*$/, function ( str, f1 ) {
                    var extention = ( /.html$/.test(f1) ? 'html' : '' ),
                        fileName = f1.replace( /.html$/, '' );

                    if ( isAdd ) {
                        return fileName + '.' + paramStr + '.' + extention;
                    } else {
                        fileName.replace( /[^.]+/, function ( val ) {
                            fileName = val;
                        });

                        return fileName + '.' + paramStr + '.' + extention;
                    }
                });
            }

            return origin + pathname;
        },

        /**
         * 문자열 value를 각 데이타 타입에 맞도록 반환
         * @param {String}  str
         * @returns {*}
         */
        parseDataType: function ( str ) {
            if ( str ) {
                if ( str.indexOf('true') > -1 ) {
                    str = Boolean( str );
                } else if ( str.indexOf('false') > -1 ) {
                    str = Boolean();
                } else if ( /^[0-9\.\-]+$/.test(str) ) {
                    str = Number( str );
                }
            }
            return str;
        },

        formSubmit: function(e, secondaryBtn) {
            var submitBtn = ($('.btnLarge.btnType1').length > 0) ? $('.btnLarge.btnType1') : secondaryBtn;
            if(e && e.keyCode === 13) {
                submitBtn.trigger('click');
            }
        },

        /**
         * Javascript API Include
         * @param {String}    type  API Type
         * @param {String}    path  API Javascript Path
         */
        includeApi: function ( type, path ) {
            var d = document, s = 'script',
                id = type + '_js_api',
                js, fjs = d.getElementsByTagName( s )[0];

            if ( d.getElementById(id) ) {
                return;
            }
            js = d.createElement( s );
            js.type = 'text/javascript';
            js.src = path;
            fjs.parentNode.insertBefore( js, fjs );
        },

        /**
         * Handlebars Template
         * @param {String}    key       folderName.fileName
         * @param {Object}    datas     template datas
         * @returns {String}    html
         */
        template: function ( key, datas ) {
            if( key.charAt(0) === '<' ){
                return Handlebars.compile( key )( datas );
            } else {
                var keys = key.split( '.' ),
                mehtod = hmcHanblebars;

                _.each( keys, function ( id ) {
                    mehtod = mehtod[id];
                });

                return mehtod( datas );
            }
        },

        /**
         * 순환참조 되지 않도록 Object, Array Extend (Object안에 Function은 처리하지 못한다.)
         * @param {Object | Array}      model
         * @param {Object | Array}      obj
         * @return  {Object | Array}
         */
        extend: function ( model, obj ) {
            var modelObj = JSON.parse( JSON.stringify(model) );
            return _.extend( modelObj, obj );
        },

        /**
         * Cookie 설정
         * @param {String}    key
         * @param {*}         value
         * @param {Number}    expireMinutes     만료시간 설정, 30초 입력시 0.5, 값을 넣지 않으면 Session Cookie가 된다.
         * @param {String}    path
         * @param {String}    domain
         * @param {Boolean}   secure            SSL을 이용하여 서버에 쿠키를 전송
         */
        setCookie: function ( key, value, expireMinutes, path, domain, secure ) {
            key = 'hmc_' + key;
            $B.utils.cookie( key, value, expireMinutes, path, domain, secure );
        },

        getCookie: function ( key ) {
            return $B.utils.cookie( 'hmc_' + key );
        },

        /**
         * LocalStrorage 설정
         * @param {String}    key
         * @param {*}         value
         * @param {Number}    expireMinutes     만료시간 설정, 30초 입력시 0.5, 설정하지 않으면 계속 유지된다.
         */
        setLocalStrorage: function ( key, value, expireMinutes ) {
            var json = false;

            if ( expireMinutes ) {
                var today = new Date();
                today.setSeconds( today.getSeconds() + (expireMinutes * 60) );
                expireMinutes = today.getTime();
            }

            if ( typeof value === 'object' ) {
                value = JSON.stringify( value );
                json = true;
            }

            localStorage.setItem( 'hmc_' + key, JSON.stringify({
                expires: expireMinutes || -1,
                origin: value,
                json: json
            }));
        },

        /**
         * LocalStrorage 반환, expireMinutes를 설정 했을시 해당 시간을 넘어가면 값을 삭제하고 undefined 반환.
         * @param {String}    key
         * @return  {*}
         */
        getLocalStrorage: function ( key ) {
            var value = localStorage.getItem( 'hmc_' + key ),
                now = new Date().getTime();

            if ( value ) {
                value = JSON.parse( value );

                if ( value.expires === -1 || value.expires >= now ) {
                    if ( value.json ) {
                        value = JSON.parse( value.origin );
                    } else {
                        value = value.origin;
                    }
                } else {
                    this.clearLocalStrorage( key );
                    value = undefined;
                }
            } else {
                value = undefined;
            }

            return value;
        },

        /**
         * 설정한 key와 일치하는 LocalStorage Item 삭제
         * @param	{String}	key
         */
        clearLocalStrorage: function ( key ) {
            localStorage.removeItem( 'hmc_' + key );
        },

        /**
         * 옵션을 입력하여 MODEL_FILE_NAME_RULE 에 맞는 이미지 파일명 구하기
         * @param {Object}  option
         *      {String}  type          ex)360vr
         *      {String}  model
         *      {String}  trim
         *      {String}  color
         *      {String}  wheel
         *      {String}  index         1~999, #을 입력하면 ### 처럼 처리된다.
         *      {String}  extension     default:jpg
         * @param {String}  rule        rule을 입력하지 않으면 기본 MODEL_FILE_NAME_RULE 이 적용된다.
         * @return  {String}
         */
        getImgFileName: function ( option, rule ) {
            var result = '',
                _rule = rule || hmc.MODEL_FILE_NAME_RULE;

            if ( _.isObject(option) ) {
                result = _rule.replace( /([-.])\{([a-zA-Z0-9\-\.\,\s]+)\}/g, function ( str, dot, key ) {
                    var value = ( /^index/.test(key) )? option.index : option[key];

                    if ( value ) {
                        if ( /^index/.test(key) ) {
                            value = key.replace( /[index\,\s]+[\s]*([0-9])/, function ( str, cipher ) {
                                var cipStr = '0';
                                if ( value === '#' ) {
                                    cipStr = '#';
                                    value = '';
                                }
                                return $B.string.format( value, cipher, cipStr );
                            });
                        }

                        value = dot + value;
                    } else {
                        if ( key === 'extension' ) {
                            value = dot + 'jpg';
                        } else {
                            value = '';
                        }
                    }

                    return value;
                });
            }

            return result;
        },

        /**
         * 이미지명이 포함된 이미지 경로를 파싱
         * @param {String}    path      이미지명이 포함된 전체경로
         * @return  {Object}    path, fileName, extension
         */
        parseImgPath: function ( path ) {
            var result = {};
            if ( typeof path === 'string' ) {
                path.replace(/([^\.]+)\/([^\.\/]+)\.(jpg|jpeg|png|gif)$/i, function ( str, path, fileName, extension ) {
                    result = {
                        path: path,
                        fileName: fileName,
                        extension: extension
                    }
                });
            }
            return result;
        },

        /**
         * 임시 form을 생성해 데이터 전송
         * @param	{String}	action
         * @param	{Object}	data
         * @param	{String}	method
         */
        submit: function ( action, data, method ) {
            var $form = $( '<form></form>' ).attr( { action:action, method:method||'GET'});
            var inputs = '';

            _.each( data, function( value, name ){
                inputs += '<input type="hidden" name="'+name+'" value="'+value+'">';
            });

            $form.html( inputs );
            $form.appendTo( document.body ).submit().remove();
        },

        /**
         * SEND SNS
         * @param	{String} sns
         */
        sendSns: function( selectedJsonData, sns ) {
            //make short
            this.makeShortUrl( this.sendToSns, selectedJsonData, sns  );
      /*
            this is comment var fullUrl = location.href;
            var shortUrl = fullUrl + '?selectedJsonData=' + selectedJsonData;
            this.sendToSns( shortUrl, sns );
            */
        },

        sendToSns: function( shortUrl, sns ) {
            //addThis 라이브러리 사용
            var o;
            var href = shortUrl;
            var _url = encodeURIComponent(href);
            var _txt = '제목을 입력해주세요';
            var _br= encodeURIComponent('\r\n');

            switch(sns)
            {
                case 'naverblog':
                    o = {
                        method:'popup',
                        url:'http://share.naver.com/web/shareView.nhn?url=' + _url + '&title=' + _txt
                    };
                    break;
                case 'linkedin':
                    o = {
                        method:'popup',
                        url:'https://www.linkedin.com/cws/share?url=' + _url
                    };
                    break;
                case 'google+':
                    o = {
                        method:'popup',
                        url:'http://plus.google.com/share?url=' + _url
                    };
                    break;
                case 'facebook':
                 //this is comment var params = 'u='+encodeURIComponent(location.href+'?imgname='+_image+'&msg='+_summary+'&t='+_title+"&passerby=1");
                    o = {
                        method:'popup',
                        url:'http://www.facebook.com/sharer/sharer.php?u=' + _url
                    };
                    break;

                case 'twitter':
                    o = {
                        method:'popup',
                        url:'http://twitter.com/intent/tweet?text=' + _txt + '&url=' + _url
                    };
                    break;

                case 'me2day':
                    o = {
                        method:'popup',
                        url:'http://me2day.net/posts/new?new_post[body]=' + _txt + _br + _url + '&new_post[tags]=epiloum'
                    };
                    break;

                case 'kakaotalk':
                    o = {
                        method:'web2app',
                        param:'sendurl?msg=' + _txt + '&url=' + _url + '&type=link&apiver=2.0.1&appver=2.0&appid=dev.epiloum.net&appname=' + encodeURIComponent('Epiloum 개발노트'),
                        a_store:'itms-apps://itunes.apple.com/app/id362057947?mt=8',
                        g_store:'market://details?id=com.kakao.talk',
                        a_proto:'kakaolink://',
                        g_proto:'scheme=kakaolink;package=com.kakao.talk'
                    };
                    break;

                case 'kakaostory':

                    o = {
                        method:'popup',
                        url:'https://story.kakao.com/share?url=' + _url
                    };
                     /*
                     this is comment o = {
                     method:'popup',
                     param:'posting?post=' + _txt + _br + _url + '&apiver=1.0&appver=2.0&appid=dev.epiloum.net&appname=' + encodeURIComponent('Epiloum 개발노트'),
                     a_store:'itms-apps://itunes.apple.com/app/id486244601?mt=8',
                     g_store:'market://details?id=com.kakao.story',
                     a_proto:'storylink://',
                     g_proto:'scheme=kakaolink;package=com.kakao.story'
                     };
                     */
                    break;

                case 'band':
                    o = {
                        method:'web2app',
                        param:'create/post?text=' + _txt + _br + _url,
                        a_store:'itms-apps://itunes.apple.com/app/id542613198?mt=8',
                        g_store:'market://details?id=com.nhn.android.band',
                        a_proto:'bandapp://',
                        g_proto:'scheme=bandapp;package=com.nhn.android.band'
                    };
                    break;

                default:
                    return false;
            }

            switch(o.method)
            {
                case 'popup':
                    var left = 10;
                    var top = 10;
                    window.open(o.url, '', 'width=470,height=400,top=' + left + ',left=' + top);
                    break;

                case 'web2app':
                    if(navigator.userAgent.match(/android/i))
                    {
                        // Android
                        setTimeout(function(){ location.href = 'intent://' + o.param + '#Intent;' + o.g_proto + ';end'}, 100);
                    }
                    else if(navigator.userAgent.match(/(iphone)|(ipod)|(ipad)/i))
                    {
                        // Apple
                        setTimeout(function(){ location.href = o.a_store; }, 200);
                        setTimeout(function(){ location.href = o.a_proto + o.param }, 100);
                    }
                    break;
                default :

                	break;
            }
        },

        makeShortUrl: function( callback, selectedJsonData, sns ) {
            var fullUrl = location.href + '?selectedJsonData=' + selectedJsonData,
                longUrlText = $("<div/>").html(fullUrl).text();
            var request = gapi.client.urlshortener.url.insert({
                'resource' : {
                    'longUrl' : longUrlText
                }
            });
            request.execute(function(response) {
                if (response.id != null) {
                    var shortUrl = response.id;
                    callback( shortUrl, sns );
                }
            });
        },

        getPostCode: function ( position ){
        },

        getCurrentPostCode: function (){
        },

        getVehicleName: function ( name ) {
            name = name.toLowerCase();

            if ( name === 'soul-ev' ) {
                name = "soul ev";
            }
            if ( name === 'new-ceed' ) {
                name = "new cee'd";
            }
            if ( name === 'new-ceed-gt' ) {
                name = "new cee'd gt";
            }
            if ( name === 'new-pro-ceed' ) {
                name = "new pro_cee'd";
            }
            if ( name === 'new-pro-ceed-gt' ) {
                name = "new pro_cee'd gt";
            }
            if ( name === 'new-ceed-sportswagon' ) {
                name = "new cee'd sportswagon";
            }


            if ( name === 'all-new-sportage' ) {
                name = 'all-new sportage';
            }
            if ( name === 'all-new-optima' ) {
                name = 'all-new optima';
            }
            if ( name === 'all-new-niro' ) {
                name = 'all-new niro';
            }
            if ( name === 'all-new-sorento' ) {
                name = 'sorento';
            }


            if ( name === "cee'd" ) {
                name = "new cee'd";
            }
            if ( name === "cee'd gt" ) {
                name = "new cee'd gt";
            }
            if ( name === "cee'd sportswagon" ) {
                name = "new cee'd sportswagon";
            }
            if ( name === "pro cee'd" ) {
                name = "new pro_cee'd";
            }
            if ( name === "pro cee'd gt" ) {
                name = "new pro_cee'd gt";
            }
            return name;
        },

        getVehicleType: function ( name, category ) {
            var type;
            if ( name === 'picanto' || name === 'rio' || name === 'soul' || name === 'soul ev' || name === 'venga' ) {
                type = 'compact';
            } else if ( name === "new cee'd gt" || name === "new cee'd" || name === "new cee'd sportswagon" || name === "new pro_cee'd" || name === "new pro_cee'd gt" || name === "all-new optima" || name === "all-new niro" ) {
                type = 'mid-size';
            } else if ( name === 'carens' ) {
                type = 'mpv';
            } else if ( name === 'all-new sportage' || name === 'all-new-sportage' || name === 'all-new sorento' || name === 'sorento') {
                type = 'suv/4x4';
            } else {
                type = category;
            }

            return type;
        }
    };


    hmc.common = hmc.common || Common;
})( jQuery, ixBand, hmc );

/**
 * Video 관리 (youtube, flowplayer??)
 */
;(function ( $, hmc ) {
    var VideoAPI = (function () {
        var API = {
            _randomId: 0,

            getRandomId: function () {
                return 'hmc_video_' + this._randomId++;
            },

            apis: {
                youtube: {
                    path: 'https://www.youtube.com/iframe_api',
                    play: 'playVideo',
                    stop: 'stopVideo'
                }/*,
                flowplayer: {
                    path: '//releases.flowplayer.org/6.0.5/flowplayer.min.js',
                    play: 'play',
                    stop: 'stop'
                }*/
            }
        };

        return API;
    })();


    /**
     * @param   {Object}    options
     *      {String}    type    Video Type (youtube, flowplayer)
     * @constructor
     */
    var Video = hmc.Class.extend({
        _isPlay: false,

        initialize: function ( options ) {
            if ( options.vendor ) {
                if ( this['_' + options.vendor] ) {
                    this._vendor = options.vendor;
                    this['_' + options.vendor]( options );
                }
            }
        },

        /** =============== Public Methods =============== */

        play: function () {
            if ( this._video ) {
                var method = VideoAPI.apis[this._vendor].play;
                if ( this._video[method] ) {
                    this._video[method]();
                    this._isPlay = true;
                }
            }
        },

        stop: function () {
            if ( this._video ) {
                var method = VideoAPI.apis[this._vendor].stop;
                if ( this._video[method] ) {
                    this._video[method]();
                    this._isPlay = false;
                }
            }
        },

        update: function () {
            //this._$videoEl.ixRatioSize({
            //    ratio: '720 405'
            //});
        },

        remove: function () {
            if ( this._$videoEl ) {
                this._$videoEl.siblings( '.hmc_video_touch_area' ).off( 'click' );
                //IE8 잔상문제 때문에 추가
                this._$videoEl.attr( 'src', '' );
            }

            this._video = null;
        },

        /** =============== Private Methods =============== */

        _youtube: function ( options ) {
            if ( !window.YT ) return;

            this._video = new YT.Player( this._getVideoId(options.path) );
            this._$videoEl = $( '#' + options.randomId );
            this._$videoEl.siblings( '.hmc_video_touch_area' ).on( 'click', _.bind(function () {
                if ( this._isPlay ) {
                    this.stop();
                } else {
                    this.play();
                }
            }, this));
        },

        _getVideoId: function ( path ) {
            var videoId = '';

            if ( typeof path === 'string' ) {
                if ( /^https:\/\//i.test(path) ) {
                    videoId = path.match( /\/([a-z0-9_]+)$/i );
                    videoId = ( videoId && videoId.length > 1 )? videoId[1] : '';
                } else if ( /^[a-z0-9]+$/i.test(path) ) {
                    videoId = path;
                }
            }

            return videoId;
        }

        /*
        _flowplayer: function ( options ) {
         if ( !window.flowplayer ) return;

            this._$videoEl = $( '#' + options.randomId );

            this._video = flowplayer( this._$videoEl.get(0), {
                clip: {
                    sources: [
                        { type: 'video/webm',
                            src: options.path + '.webm' },
                        { type: "video/mp4",
                            src:  options.path + '.mp4' }
                    ]
                }
            });
        }
        */
    });

    Video.getRandomId = function () {
        return VideoAPI.getRandomId();
    };


    hmc.Video = hmc.Video || Video;
})( jQuery, hmc );

/**
 * Modal 관리
 */
;(function ( $, hmc, common ) {
    /**
     * Base Modal
     * @constructor
     */
    var ModalManager = hmc.Class.extend({

        initialize: function ( contents, optionsParam ) {
            var options = ( $B.object.is(optionsParam) )? optionsParam : {};

            //options.transparent = ( typeof options.transparent === 'boolean' )? options.transparent : ( modal.isOpen()? true : false )
            options.popupSize = options.popupSize || '';

            if ( options.isScroll !== false ) options.isScroll = true;
            if ( options.top ) options.isAfterShow = false;

            this._options = options;
            this._deferred = new $.Deferred();
            this._isMiddlePosition = options.isMiddlePosition;
            this._$win = $( window );
            this._$doc = $( document );
            this._$activeElement = options.returnFocusTarget || $( document.activeElement );
            this._resizeInterval = undefined;

            this._drawModal( contents, options );
            if( options.isLightBox ){
                this.setOption();
            }

            if( !options.isScroll ){
                hmgt.common.preventScroll( true );
            }

            if( options.preventBodyScroll ){
		        document.body.classList.add('noscroll');
		     }
        },

        /** =============== Public Methods =============== */

        getPromise: function () {
            return this._deferred.promise();
        },

        setOption: function () {
            this._setPosition( this._options.top );
            this._addEvents( this._options );
            if ( !this._options.isAfterShow ) {
                this._$iconClose.focus();
                this._$win.scrollTop( this._scrollTop );
            }

            if( this._options.imgLoadComplete ){
                this._options.imgLoadComplete( 'onCompleted' );
                this._onImgLoad( '.hmc_common_modal_container .hmgt_wrap img', this._resizeHandler );
            }

            if( this._options.onClose ){
                this._onCloseDeffered = new $.Deferred();
                this._onCloseDeffered.done(_.bind(function( data ){
                    this._options.onClose( data );
                }, this));
            }

            return this;
        },

        /** =============== Private Methods =============== */

        _drawModal: function ( contents, options ) {
            var isJqueryObject = ( typeof contents !== 'string' && typeof contents.get === 'function' ),
                html = common.template( 'handlbars.modal', _.extend({
                    contents: ( isJqueryObject )? '' : contents
                }, options));

            this._$modal = $( html );
            this._$dim = this._$modal.find( '.hmc_common_dim' );
            this._$pop = this._$modal.find( '.hmc_modal_window' );

            if ( isJqueryObject ) {
                this._$pop.find( '> .hmgt_wrap' ).append( contents );
            }

            if ( options.isAfterShow ) {
                this._$modal.css( 'visibility', 'hidden' );
            }

            this._$iconClose = this._$modal.find( 'a.close' );
            this._$btnConfirm = this._$modal.find( '.hmgt_confirm_btn' );
            this._$btnCancel = this._$modal.find( '.hmgt_cancel_btn' );


            $( 'body' ).append( this._$modal );
            tapIndexFnc.Init( this._$modal );
            //Picturefill a responsive image polyfill
            picturefill();
        },

        _onImgLoad : function( selector, callback ){
            var _self = this;
            $(selector).on('load', function(){
                callback.call(_self);
            });
        },

        _addEvents: function ( options ) {
            this._$iconClose.add( this._$btnCancel ).on( 'click', _.bind(function (e) {
                e.preventDefault();
                this._remove();
                this._deferred.reject();

                if( !options.isScroll ){
                    hmgt.common.preventScroll( false );
                }
            }, this));

            this._$btnConfirm.on( 'click', _.bind(function (e) {
                e.preventDefault();
                this._remove();
                this._deferred.resolve();

                if( this._onCloseDeffered ){
                    this._onCloseDeffered.resolve('onClosed');
                }

                if( !options.isScroll ){
                    hmgt.common.preventScroll( false );
                }
            }, this));

				//this is comment if ( !options.transparent ) {
                this._$dim.on( 'click', _.bind(function () {
                    this._$iconClose.trigger( 'click' );
                }, this));
 				//}
            if ( options.isAfterShow ) {
                this._$modal.on( 'afterShow', _.bind(function () {
                    this._setPosition( options.top );
                    this._$modal.css( 'visibility', 'visible' );
                    this._$iconClose.focus();
                    this._$win.scrollTop( this._scrollTop );
                }, this));
            }

            this._$modal.on( 'resetPosition', _.bind(function () {
                this._setPosition( options.top, true );
            }, this));

            this._onResize = _.bind(this._resizeHandler, this);
            this._$win.on( 'resize', this._onResize );
        },

        _resizeHandler: function () {
            /*
            아이폰 사파리에서 가로/세로모드 전환시 리사이즈 이벤트가 여러번 발생 됨.
            약간의 시간차를 두어 최종 렌더링 된 정보로 위치를 보정 함.
            */
            if( this._resizeInterval !== undefined ){
                clearTimeout( this._resizeInterval );
                this._resizeInterval = undefined;
            }
            var self = this;
            this._resizeInterval = setTimeout( function(){
                self._setPosition( self._options.top, true );
            }, 50 );

        },

        _setPosition: function ( top, isRePosition ) {
            this._scrollTop = this._$win.scrollTop();

            if ( this._isMiddlePosition ) {
                var winHeight = this._$win.height(),
                    position = this._$pop.css( 'position' ),
                    posY = 0;

                if ( position === 'fixed' ) {
                    posY = ( winHeight * 0.5 ) - ( this._$pop.outerHeight() * 0.5 );
                    if ( posY < 0 ) posY = 0;
                } else {
                    posY = ( winHeight * 0.5 ) - ( this._$pop.outerHeight() * 0.5 ) + this._scrollTop;
                    if ( posY < this._scrollTop ) posY = this._scrollTop;
                }

                if ( isRePosition ) {
                    if ( this._$pop.length ) {
                        $B( this._$pop ).transition( 'top:' + posY + 'px', 'top 0.4s ease' );
                    	//this is comment $B( this._$pop ).css( 'top:' + posY + 'px' );

                    }
                } else {
                    if ( this._$pop.length ) $B( this._$pop ).transition( 'none' );
                    this._$pop.css( 'top', posY + 'px' );
                }

            } else if ( top ) {
                this._$pop.css( 'top', top );
            }
        },

        _remove: function () {
            this._$iconClose.off( 'click' );
            this._$btnCancel.off( 'click' );
            this._$btnConfirm.off( 'click' );
            this._$dim.off( 'click' );
            this._$win.off( 'resize', this._onResize );
            this._$modal.off().remove();
             document.body.classList.remove('noscroll');
            //focus 이동
            this._$activeElement.focus();
        }
    });

    var modal = {
        /**
         * Modal 창 띄우기
         * @param {String, jQueryObject}    contents          text, html, jQueryObject
         * @param {Object}    options
         *      {String}    title
         *      {Boolean}   transparent         배경 투명 처리 설정
         *      {String}    popupSize           "S", "M", "L" (default:M)
         *      {Boolean}   isMiddlePosition     top 포지션을 화면의 중앙으로 설정할때
         *      {String}    top                 top 포지션 설정 (단위 포함), ex) 200px
         *      {Boolean}   isContentMargin     content영역의 margin을 넣을지 여부
         *      {Boolean}   isMobileWidthFull   Mobile사이즈에서 windth값을 full로 채워야 할때
         *      {Boolean}   isAfterShow         modal.afterShow() 를 실행시키기 전에는 보여지지 않는다.
         *      {Boolean}   isTopBar            상단 bar 표출 여부
         *      {jQueryObject}  returnFocusTarget   창이 닫힐때 focus를 보낼 대상
         * @returns {Promise}
         */
        open: function ( contents, options ) {
            return new ModalManager( contents, options ).setOption().getPromise();
        },

        /**
         * 열려있는 모달창 닫기
         * @param {jQueryObject}    $el   Target modal container, 설정하지 않으면 모든 모달을 닫는다.
         */
        close: function ( $el ) {
            if ( $el ) {
                $el.find( 'a.close' ).trigger( 'click' );
            } else {
                $( '.hmc_common_modal_container a.close' ).trigger( 'click' );
            }
        },


        /**
         * Video Modal Popup
         * @param   {Object}
         * @returns {Promise}
         */
        video: function ( options ) {
            var defaults = {
                video_url: '',
                video_title: '',
                video_description: '',
                video_subtitle_description: '',
                video_size: 'M'
            };

            var optionData = _.extend({}, defaults, options);
            var contents = common.template( 'handlbars.video-popup', optionData);

            this.open( contents, {
                isMiddlePosition: true,
                popupSize: 'M',
                title: 'video'
            });

            //DOM 생성 완료 후 실행
            $('a.btn_text').on('click', function(){
                var _self = $(this);
                _self.toggleClass('on');
                _self.next('div.description_box').toggleClass('show');
               // _self.prev('p.txt_type').toggle();

            });

        },

        /**
         * alert 띄우기
         * @param   {String}    msg
         * @param   {Object}    options
         *      {jQueryObject}  returnFocusTarget   창이 닫힐때 focus를 보낼 대상
         * @returns {Promise}
         */
        alert: function ( msg, options) {
            var defaults = {
                contents: msg,
                textAlign: 'center',//없으면 left 정렬
                btnConfirm: true,
                confirmLabel: 'Continue'
            };
            var optionData = _.extend({}, defaults, options);

            var contents = common.template( 'handlbars.alert', optionData);

            return this.open( contents, {
                isMiddlePosition: true,
                popupSize: optionData.popupSize || '',
                title: optionData.popupTitle || '&nbsp;',
                isScroll: false,
                onClose : optionData.onClose || ''
            });
        },

        /**
         * Modal이 열려있는지 여부 반환
         * @returns {Boolean}
         */
        isOpen: function () {
            return $( '.hmc_common_modal_container' ).length > 0;
        },

        /**
         * 열려있는 Modal의 top 재설정
         * @param {jQueryObject}    $el   Target modal container, 설정하지 않으면 모든 모달의 position 조절.
         */
        resetPosition: function ( $el ) {
            if ( this.isOpen() ) {
                if ( $el ) {
                    $el.triggerHandler( 'resetPosition' );
                } else {
                    $( '.hmc_common_modal_container' ).triggerHandler( 'resetPosition' );
                }
            }
        },

        /**
         * isAfterShow 옵션이 설정되었을때 show시켜주기
         * @param {jQueryObject}    $el   Target modal container, 설정하지 않으면 모든 모달 show.
         */
        afterShow: function ( $el ) {
            if ( this.isOpen() ) {
                if ( $el ) {
                    $el.triggerHandler( 'afterShow' );
                } else {
                    $( '.hmc_common_modal_container' ).triggerHandler( 'afterShow' );
                }
            }
        }
    };

    modal.ModalManager = ModalManager;
    hmc.modal = hmc.modal || modal;
})( jQuery, hmc, hmc.common );

/**
 * LightBox
 * ModalManager를 상속
 */
;(function ( $, hmc, modal, common ) {
    var lightBox = {
        /**
         * LightBox 띄우기
         * @param {Object}    data
         * @returns {Promise}
         */
        open: function ( data ) {
            return new LightBox( data || {} ).getPromise();
        }
    };

    /**
     * @constructor
     */
    var LightBox = modal.ModalManager.extend({

        initialize: function ( data ) {
            //Random ID 생성
            _.each( data.items, _.bind(function ( item ) {
                if ( item.type === 'video' ) {
                    item.randomId = hmc.Video.getRandomId();
                }
            }, this));

            this._sendAnalystic( data );

            var options = {
                    title: data.title,
                    popupSize: 'L',
                    isMiddlePosition: true,
                    isAfterShow: true,//angular에서는 isMiddlePosition가 true일 때 자동 생성 됨
                    isLightBox: true,
                    imgLoadComplete: _.bind( this._imgLoadComplete, this )
                    //isContentMargin: false
                },
                contents = common.template( 'handlbars.light-box', data );

            //ModalManager.initialize apply
            this.superMethod( contents, options);

            this._$slide = this._$modal.find( '.hmc_lb_slide .slide' );
            this._setVideo( data.items );

            if ( data.items.length ) {
                this._$slide.ixSlideMax({
                    defaultIndex: data.defaultIndex
                });

                this._response = _.bind( this._responseHandler, this );
                hmc.responsive.addListener( 'response-width', this._response );
            }

            //Image Toggle Event
            var _$imageToggleButton = $('.pop_con.image').find('.tab_link');
            if(_$imageToggleButton){
                _$imageToggleButton.on('click', function(e){
                    e.preventDefault();
                    var _this = $(this),
                        _index = _this.index();
                    _this.parent().find('.tab_link').removeClass('tt1_on');
                    _this.addClass('tt1_on');

                    var $imgs = _this.closest('li.ix-list-item').find('.hmc_lightbox_image');
                    $imgs.hide();
                    $imgs.eq(_index).show();
                });
                //select selected image
                _.each( data.items, _.bind(function ( item ) {
                    if ( item.isOpenBtn !== undefined) {
                        _$imageToggleButton.eq(item.isOpenBtn).trigger('click');
                    }
                }, this));
                //this is  comment var btn_index = data.items[data.defaultIndex].isOpenBtn;

            }

            //Video Subtitle Event
            var _$videoBtn = $('.pop_con.video').find('.btn_text');
            if(_$videoBtn){
                _$videoBtn.on('click', function(e){
                    e.preventDefault();
                    var _this = $(this);
                    _this.toggleClass('on');
                    _this.siblings('.description_box').toggle();
                    _this.siblings('.txt_type').toggle();
                });
            }

            //Next Prev Event
            var _$arrowBtn = $('.hmc_lb_slide').find('.slide_direction a');
            if(_$arrowBtn){
                _$arrowBtn.on('click', function(e) {
                    //analystic
                    var type = data.items[data.defaultIndex].type;
                    //get car code
                    var locationArr = location.href.split('/');
                    var carCode = locationArr[locationArr.length - 1].replace( '.html', '' ).replace( '#', '' );

                    if( type === 'video' ){
                        hmc.analytics.internalLink( 'conversion|new cars|' + carCode + '|video view' );
                    } else {
                        hmc.analytics.internalLink( 'conversion|new cars|' + carCode + '|photo view' );
                    }
                });
            }
        },

        _imgLoadComplete: function () {
            setTimeout(function(){
                hmc.modal.afterShow($(".hmc_common_modal_container"));
            }, 0);
        },

        _sendAnalystic: function ( data ) {
            //analystic
            var type = data.items[data.defaultIndex].type;
            //get car code
            var locationArr = location.href.split('/');
            var carCode = locationArr[locationArr.length - 1].replace( '.html', '' );

            if( type === 'video' ){
                hmc.analytics.internalLink( 'conversion|new cars|' + carCode + '|video view' );
            } else {
                hmc.analytics.internalLink( 'conversion|new cars|' + carCode + '|photo view' );
            }
        },

        /** =============== Private Methods =============== */
        /**
         * @override
         */
        _remove: function () {
            this._stopVideo();
            this._$slide.ixSlideMax( 'clear' );
            this._$slide.off( 'ixSlideMax:slideStart' );
            hmc.responsive.removeListener( 'response-width', this._response );
            this._removeVideo();

            //overload
            modal.ModalManager.prototype._remove.apply( this );
        },

        _setVideo: function ( items ) {
            this._videos = [];

            _.each( items, _.bind(function ( item ) {
                if ( item.type === 'video' ) {
                    this._videos.push( new hmc.Video(item) );
                }
            }, this));

            this._$slide.on( 'ixSlideMax:init', _.bind(function () {
                this._$slide.find( '.ix-thumb' ).each( function ( index ) {
                    $( this ).find( 'a' ).text( index + 1 );

                });
            }, this));

            this._$slide.on( 'ixSlideMax:slideStart', _.bind(function () {
                this._stopVideo();
            }, this));
        },

        _stopVideo: function () {
            _.each( this._videos, function ( video ) {
                video.stop();
            });
        },

        _updateVideoSize: function () {
            _.each( this._videos, function ( video ) {
                video.update();
            });
        },

        _removeVideo: function () {
            _.each( this._videos, function ( video ) {
                video.remove();
            });
        },

        _responseHandler: function () {
            var currentIdx = this._$slide.ixSlideMax( 'getCurrentIndex' );
            this._$slide.ixSlideMax( 'clear' ).ixSlideMax({
                defaultIndex: currentIdx
            });

            this._updateVideoSize();
        }

    });


    hmc.lightBox = lightBox;
})( jQuery, hmc, hmc.modal, hmc.common );

/**
 * 공통 UI Components - Paging
 */
;(function ( $, _, hmc ) {

    var defaultViewListItemNum = 10;
    var defaultViewPageItemNum = 4;

    var Paging = hmc.Class.extend({

        /**
         * 초기화 함수
         * @param {number} viewListItemNum  한 페이지에 노출될 리스트 아이템 개수
         * @param {number} viewPageItemNum  페이지 아이템 노출 개수 << < 1, 2, 3,... > >>
         */
        initialize: function ( viewListItemNum, viewPageItemNum ) {
            this.viewListItemNum = viewListItemNum || defaultViewListItemNum;
            this.viewPageItemNum = viewPageItemNum || defaultViewPageItemNum;
            this.currentPageData = null;
            this.currentPageGroupData = null;
        },


        /** =============== Public Methods =============== */
        /**
         * 데이터 적용
         * 데이터를 기반으로 페이지 정보 설정
         * @param {array} data 리스트 데이터
         */
        //데이터를 넘기지 않고 total 개수만 넘기는 방법도 개발 중..
        setData: function ( data ) {
            if( data instanceof  Array ){
                this.data = data;
                this.dataNum = data.length;
            }else{
                this.dataNum = data;
            }
            this.totalPageNum = _getTotalPage( this.dataNum, this.viewListItemNum );
            this.totalPageGroupNum = _getTotalPageGroup( this.totalPageNum, this.viewPageItemNum );
            this.pageGroups = _getPageGroups( this.totalPageNum, this.totalPageGroupNum, this.viewPageItemNum );

            if( data instanceof  Array ){
                this.pages = _getPages( data, this.totalPageNum, this.viewListItemNum );
            }

            this.setPage( 0 );
        },

        /**
         * 페이지 설정
         * 입력된 페이지로 데이터 갱신
         * 주의 zero base
         * @param {number} index
         */
        setPage: function ( index ) {
            this.currentPageIndex = index;
            this.currentPageGroupIndex = Math.floor( index/this.viewPageItemNum );
            this.currentPageGroupData = this.pageGroups[ this.currentPageGroupIndex ];
            if( this.data ){ this.currentPageData = this.pages[ this.currentPageIndex ]; }

            this.dispatch( Paging.CHANGE, {
                pageData: this.currentPageData,
                pageGroupData: this.currentPageGroupData,
                currentPageIndex: this.currentPageIndex,
                currentPageGroupIndex: this.currentPageGroupIndex
            } );
        },

        /**
         * 다음 페이지
         */
        next: function () {
            if( this.currentPageIndex + 1 < this.totalPageNum ){
                this.setPage( this.currentPageIndex + 1 );
            }
        },

        /**
         * 이전 페이지
         */
        prev: function () {
            if( this.currentPageIndex - 1 >= 0 ){
                this.setPage( this.currentPageIndex - 1 );
            }
        },

        /**
         * 첫 페이지
         */
        first: function () {
            this.setPage( 0 );
        },

        /**
         * 마지막 페이지
         */
        last: function () {
            this.setPage( this.totalPageNum-1 );
        }
    });

    Paging.CHANGE = 'paging:page-change';

    /** =============== Private Methods =============== */

    function _getTotalPage ( length, viewListItemNum ) {
        return Math.ceil( length/viewListItemNum );
    }

    function _getTotalPageGroup ( length, viewListItemNum ) {
        return Math.ceil( length/viewListItemNum );
    }

    function _getPages ( data, totalPageNum, viewListItemNum ) {
        var arr = [];
        arr.length = parseInt( totalPageNum );

        var pages = _.map( arr, _.bind( function ( pageItem, index ) {
            pageItem = [];
            for( var i=0, count = viewListItemNum ; i<count ; i+=1 ){
                var itemIndex = viewListItemNum * index + i;
                var itemData = data[ itemIndex ];
                if( itemData ){ pageItem.push( itemData ); }
            }
            return pageItem;
        }, this ) );

        return pages;
    }

    function _getPageGroups ( totalPage, totalPageGroupNum, viewPageItemNum ) {
        var arr = [];
        arr.length = parseInt( totalPageGroupNum );

        var pageGroups = _.map( arr, _.bind( function ( pageGroup, index ) {
            pageGroup = [];
            for( var i=0, count=viewPageItemNum ; i<count ; i+=1 ){
                var pageIndex = viewPageItemNum * index + i;
                if( pageIndex < totalPage ){pageGroup.push( pageIndex  );}
            }
            return pageGroup;
        }, this ) );

        return pageGroups
    }

    hmc.common = hmc.common || {};
    hmc.common.Paging = hmc.common.Paging || Paging;
}( jQuery, _, hmc ));


;(function($, hmgt) {

    var Common = {
        /**
         * IE version check
         * @param
         * @return boolean
         */
        msieversion: function () {
            var ua = window.navigator.userAgent;
            var msie = ua.indexOf("MSIE ");

            if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)){
                return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)));
            }
            return false;
        },

        addReevooHanlder: function ( handler ) {
            if( window.afterReevooMarkLoaded ){
                window.afterReevooMarkLoaded.push( handler );
            }else{
                window.afterReevooMarkLoaded = [ handler ];
            }
        },

        preventScroll: function ( isScroll ) {
            if( isScroll ){
                $(document).on('scroll touchmove mousewheel', function(e) {
                   e.preventDefault();
                   e.stopPropagation();
                   return false;
                });
            } else {
                $(document).off('scroll touchmove mousewheel');
            }
        },

        financeCalculate: function () {
            window.open("http://Hmcfinancecalculator.co.gt/", "_blank", "scrollbars=yes,toolbar=yes,resizable=yes,width=450,height=600,left=0,top=0");
        },

        getToken: function () {
            hmgt.common.loadingBar( true );

            var deferred = $.Deferred();

            hmgt.ServiceApi.getToken().done(function (data) {
                hmgt.common.loadingBar( false );

                if( data.message === 'success' ){
                    hmgt.ServiceApi.token = data.data.token;
                    deferred.resolve('success');
                } else {
                    deferred.resolve('error getToken not success');
                }
            }).fail(function () {
                hmgt.common.loadingBar( false );
                deferred.resolve('error getToken');
            });

            return deferred.promise();
        }
    };

    /**
     $('.col4').tabButton({
            'button':'li', //(클릭 tag가 li일 경우, 옵션값 불필요)
            'contents':'.modelcontent', //(content에 공통으로 들어있는 class)
            'hightlight':'tab_on' //Hightlight를 위한 class
        });
    */
    $.fn.tabButton = function ( options ) {
        var buttonTag = ( options.button )? options.button : 'li',
            $buttonGroup = this.find('>' + buttonTag),
            $contentGroup = $( options.contents ),
            hightlight = ( options.hightlight )? options.hightlight : 'tab_on',
            eventTrigger = ( options.eventTrigger )? options.eventTrigger : 'document';

        $buttonGroup.each(function () {
            $(this).on('click', function(e){
                e.preventDefault();
                e.stopPropagation();
                //TAB button toggle
                $buttonGroup.removeClass(hightlight);
                $(this).addClass(hightlight);

                //Contents toggle
                $contentGroup.hide();
                var index = $(this).index();
                $contentGroup.eq(index).show();
                //tab text
                var data = $(this).find('a').text();
                //event trigger
                $('.' + eventTrigger).trigger('click:versions_tab', data);
            });
        });
    };

    /**
     $('.tableWrap').arcodian({
        'click_tag': 'div.tableTit',//arcodian 전체를 감싸고 있는 wrapper tag
        'on': 'w_up'//click 했을 때, toggle되는 class
    });
     */
    $.fn.arcodian = function ( options ) {
        var $buttons = $(this).find(options.click_tag);
        $.each($buttons, function(index, button){
            $(button).on("click", function(){
                $(this).toggleClass('w_up');
                $(this).next().toggle();
            });
        });
    };

    $.fn.serializeObject = function() {
        var o = {};
        var a = $(this).serializeArray();

        $.each(a, function() {
            if (o[this.name]) {
                if (!o[this.name].push) {
                    o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
            } else {
                o[this.name] = this.value || '';
            }
        });
        return o;
    };

    hmgt.common = hmgt.common || Common;
})($, hmgt);

/**
 *
 * accessibility - aria
 *
 */

/**
 * Analytics 데이타 변환 관련
 */
;(function ( $, hmc ) {

    var DEFAULT_DATA = '';


    var Converter = {
        _converters: {},

        /**
         * analytics에서 허용하는 데이타 타입인지 체크
         * @param {*}    value
         */
        _isValue: function ( value ) {
            if ( (value || value === 0) && (typeof value === 'string' || typeof value === 'number') ) {
                return true;
            } else {
                return false;
            }
        },

        _default: function ( value ) {
            if ( this._isValue(value) ) {
                return value
            } else {
                return DEFAULT_DATA;
            }
        },

        /** =============== Public Methods =============== */

        /**
         * 데이타 컨버터 등록
         * @param {String}    name      DTM 변수명
         * @param {Function}  callback  데이타 변환시 실행시킬 함수
         */
        add: function ( name, callback ) {
            this._converters[name] = callback;
        },

        /**
         * DTM 변수명으로 등록된 컨버터로 변수 변환
         * @param   {String}    name    DTM 변수명
         * @param   {String}    value
         * @returns {*}
         */
        convert: function ( name, value ) {
            var converter = this._converters[name];
            return converter ? converter( value ) : this._default( value );
        },

        toUpperCase: function ( value ) {
            if ( typeof value === 'string' ) {
                return value.toUpperCase();
            } else {
                return DEFAULT_DATA;
            }
        },

        toLowerCase: function ( value ) {
            if ( typeof value === 'string' ) {
                return value.toLowerCase();
            } else {
                return DEFAULT_DATA;
            }
        }
    };



    /** ==================== ==================== ==================== */
    /** ====================    Converter 등록     ==================== */
    /** ==================== ==================== ==================== */

    //
    Converter.add( 'test', function (  ) {
        var result = DEFAULT_DATA;


        return result;
    });


    hmc.analytics = hmc.analytics || {};
    hmc.analytics.converter = Converter;

})( jQuery, hmc );

/**
 * Analytics
 */
;(function ( $, hmc, converter ) {
    if ( typeof window.dtmDataLayer !== 'object' ) {
        window.dtmDataLayer = {};
    }

    //DTM Value Group
    var _dataLayer = window.dtmDataLayer,
        _satellite = window._satellite || { track: function() {} };


    var Analytics = {
        //value를 통계데이타에서 원하는 형식으로 변환
        _convert: function ( key, value ) {
            return converter.convert( key, value );
        },

        /** =============== Public Methods =============== */

        /**
         * 각 변수에 데이타 등록
         * @param   {Object}    values
         * @returns {Analytics}
         */
        prop: function ( values ) {
            if ( typeof values === 'object' ) {
                for ( var key in values ) {
                    _dataLayer[key] = this._convert( key, values[key] );
                }
            }

            return this;
        },

        internalLink: function ( values ) {
            _dataLayer.internal_link = values;
            this.track('internal_link');
        },

        externalLink: function ( values ) {
            _dataLayer.external_link = values;
            this.track('external_link');
        },

        scrolledSection: function ( values ) {
            _dataLayer.scrolled_section = values;
            this.track('scrolled_section');
        },

        //DTM에 데이타 보내기
        track: function ( name ) {
            if ( typeof name === 'string' ) {
                _satellite.track( name );
            }

            return this;
        }
    };


    hmc.analytics = Analytics;

})( jQuery, hmc, hmc.analytics.converter );

this["hmcHanblebars"] = this["hmcHanblebars"] || {};
this["hmcHanblebars"]["handlbars"] = this["hmcHanblebars"]["handlbars"] || {};

/**
 * Responsive Size JS (IE9~)
 * Events Type
 *      resize-width, response-width: call one in your area
 *      resize-height, response-height: call one in your area
 *      Event Properties
 *          responsiveType: (S, M, L)
 */
;(function ( $, $B, hmc ) {
    /**
     * @constructor
     */
	 
    var Responsive = hmc.Class.extend({
        WIDTHS: [0, 768, 1024],
        HEIGHTS: [0, 768, 1024],//
        TYPES: ['S', 'M', 'L'],

        initialize: function () {
            //IE9~
            if ( $B.ua.WINDOWS_PHONE || !$B.ua.DOC_MODE_IE9_LT ) {
                this._addEvents();
            }
        },

        /** =============== Private Methods =============== */

        _addEvents: function () {
            var currentWidthType = this.getResponsiveWidthType(),
                currentHeightType = this.getResponsiveHeightType();

            //width
            $( window ).on( 'resize', _.bind(function () {
                var rType = this.getResponsiveWidthType(),
                    datas = {responsiveType: rType};

                if ( rType !== currentWidthType ) {
                
                //this is comment this.dispatch( 'response5-width', datas );
                
                    //S, M, L
                    if ( rType.length === 1 ) {
                        this.dispatch( 'response-width', datas );
                    }
                }

                this.dispatch( 'resize-width', datas );
                currentWidthType = rType;
            }, this));

            //height
            $( window ).on( 'resize', _.bind(function () {
                var rType = this.getResponsiveHeightType(),
                    datas = {responsiveType: rType};

                if ( rType !== currentHeightType ) {
                    this.dispatch( 'response-height', datas );
                }

                this.dispatch( 'resize-height', datas );
                currentHeightType = rType;
            }, this));
        },

        _getSizeType: function ( models, size ) {
            var result = '';

            _.some( models, _.bind(function ( currentSize, idx ) {
                var nextIdx = idx + 1,
                    nextSize = models[nextIdx] || 100000;

                if ( currentSize <= size && nextSize > size ) {
                    result = this.TYPES[idx];
                    return true;
                } else {
                    return false;
                }
            }, this));

            return result;
        },

        /** =============== Public Methods =============== */

        getResponsiveWidthType: function () {
            if ( $B.ua.WINDOWS_PHONE || !$B.ua.DOC_MODE_IE9_LT ) {
                return this._getSizeType( this.WIDTHS, window.innerWidth );
            } else {
                return this.TYPES[this.TYPES.length - 1];
            }
        },

        getResponsiveHeightType: function () {
            if ( $B.ua.WINDOWS_PHONE || !$B.ua.DOC_MODE_IE9_LT ) {
                return this._getSizeType( this.HEIGHTS, window.innerHeight );
            } else {
                return this.TYPES[this.TYPES.length - 1];
            }
        }
    });


    hmc.responsive = new Responsive();
})( jQuery, ixBand, hmc );
$(document).ready(function () {
	
	$('#submitButton76').click(function () {
	$('form input').each(function () {
		if (this.id == "textBox name") {
			var nameText=  $(this).val();
        var consecutiveSpace = /\s\s/;
		 //var format = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
		 var format = /^[A-Za-z0-9 ]+$/;
					if(consecutiveSpace.test(nameText) || isUpperCase(nameText) || !format.test(nameText)){
						$(this).focus();
                        $( ".namemsg" ).removeClass( "d-none" );
                        $(this).on('input', function () {
                            if($(this).val().length > 0) {
                                $( ".namemsg" ).addClass( "d-none" );
                            }
                        });
                        return false;
						
					}
					
				}
                if (this.id == "textBox email") {
                    var email = $(this).val();
                    var emailRe = /^(?!.*?[._]{2,})[a-zA-Z0-9_.]+\@(?!.*?[._]{2,})(([a-zA-Z0-9-])+\.)+([a-zA-Z]{2,6})+$/;
					var startWithSpclChar= /^[a-zA-Z0-9](.*[a-zA-Z0-9])?$/;
                    if (!emailRe.test(email) || !startWithSpclChar.test(email) || startMoreThanFourZero(email)) {
                        $(this).focus();
                        $(".emailmsg").removeClass( "d-none" );
                        $(this).on('input', function () {
                            if(email.length > 0) {
                                $(".emailmsg").addClass( "d-none" );
                            }

                        });
                        return false;
                    }
                }
	})
		
	});
	
	
})

    function validateGlobalEmail(idVal){
      var emailText = $("#" + idVal).val();
      var startWithSpclChar= /^[a-zA-Z0-9](.*[a-zA-Z0-9])?$/;
        if(!startWithSpclChar.test(emailText) || startMoreThanFourZero(emailText)){
            return true;

        }
        else{
        return false;
        }
    };
    function validateGlobalName(idVal){
    var nameText=  $("#" + idVal).val();
        var consecutiveSpace = /\s\s/;
		 //var format = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
		 var format = /^[A-Za-z0-9 ]+$/;
        if (consecutiveSpace.test(nameText) || isUpperCase(nameText) || !format.test(nameText)){
            return true;
        }
        else{
           return false;
        }
    };
    function isUpperCase(str) {
    return str === str.toUpperCase();
           };

    function startMoreThanFourZero(val){
		var res = val.substring(0, 5);
		if(/^0*$/.test(res)){
			return true;
		}else{
			return false;
		}
	};

/*! tooltipster v4.2.6 */!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){function b(a){this.$container,this.constraints=null,this.__$tooltip,this.__init(a)}function c(b,c){var d=!0;return a.each(b,function(a,e){return void 0===c[a]||b[a]!==c[a]?(d=!1,!1):void 0}),d}function d(b){var c=b.attr("id"),d=c?h.window.document.getElementById(c):null;return d?d===b[0]:a.contains(h.window.document.body,b[0])}function e(){if(!g)return!1;var a=g.document.body||g.document.documentElement,b=a.style,c="transition",d=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;c=c.charAt(0).toUpperCase()+c.substr(1);for(var e=0;e<d.length;e++)if("string"==typeof b[d[e]+c])return!0;return!1}var f={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},g="undefined"!=typeof window?window:null,h={hasTouchCapability:!(!g||!("ontouchstart"in g||g.DocumentTouch&&g.document instanceof g.DocumentTouch||g.navigator.maxTouchPoints)),hasTransitions:e(),IE:!1,semVer:"4.2.6",window:g},i=function(){this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__instancesLatestArr=[],this.__plugins={},this._env=h};i.prototype={__bridge:function(b,c,d){if(!c[d]){var e=function(){};e.prototype=b;var g=new e;g.__init&&g.__init(c),a.each(b,function(a,b){0!=a.indexOf("__")&&(c[a]?f.debug&&console.log("The "+a+" method of the "+d+" plugin conflicts with another plugin or native methods"):(c[a]=function(){return g[a].apply(g,Array.prototype.slice.apply(arguments))},c[a].bridged=g))}),c[d]=g}return this},__setWindow:function(a){return h.window=a,this},_getRuler:function(a){return new b(a)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(b){var c=this;if("string"==typeof b){var d=b,e=null;return d.indexOf(".")>0?e=c.__plugins[d]:a.each(c.__plugins,function(a,b){return b.name.substring(b.name.length-d.length-1)=="."+d?(e=b,!1):void 0}),e}if(b.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return c.__plugins[b.name]=b,b.core&&c.__bridge(b.core,c,b.name),this},_trigger:function(){var a=Array.prototype.slice.apply(arguments);return"string"==typeof a[0]&&(a[0]={type:a[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,a),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,a),this},instances:function(b){var c=[],d=b||".tooltipstered";return a(d).each(function(){var b=a(this),d=b.data("tooltipster-ns");d&&a.each(d,function(a,d){c.push(b.data(d))})}),c},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){var c=b?b+" ":"";return a(c+".tooltipstered").toArray()},setDefaults:function(b){return a.extend(f,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.tooltipster=new i,a.Tooltipster=function(b,c){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(b,c)},a.Tooltipster.prototype={__init:function(b,c){var d=this;if(d._$origin=a(b),d.__options=a.extend(!0,{},f,c),d.__optionsFormat(),!h.IE||h.IE>=d.__options.IEmin){var e=null;if(void 0===d._$origin.data("tooltipster-initialTitle")&&(e=d._$origin.attr("title"),void 0===e&&(e=null),d._$origin.data("tooltipster-initialTitle",e)),null!==d.__options.content)d.__contentSet(d.__options.content);else{var g,i=d._$origin.attr("data-tooltip-content");i&&(g=a(i)),g&&g[0]?d.__contentSet(g.first()):d.__contentSet(e)}d._$origin.removeAttr("title").addClass("tooltipstered"),d.__prepareOrigin(),d.__prepareGC(),a.each(d.__options.plugins,function(a,b){d._plug(b)}),h.hasTouchCapability&&a(h.window.document.body).on("touchmove."+d.__namespace+"-triggerOpen",function(a){d._touchRecordEvent(a)}),d._on("created",function(){d.__prepareTooltip()})._on("repositioned",function(a){d.__lastPosition=a.position})}else d.__options.disabled=!0},__contentInsert:function(){var a=this,b=a._$tooltip.find(".tooltipster-content"),c=a.__Content,d=function(a){c=a};return a._trigger({type:"format",content:a.__Content,format:d}),a.__options.functionFormat&&(c=a.__options.functionFormat.call(a,a,{origin:a._$origin[0]},a.__Content)),"string"!=typeof c||a.__options.contentAsHTML?b.empty().append(c):b.text(c),a},__contentSet:function(b){return b instanceof a&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var b=this,c=b._$origin,d=b._$origin.is("area");if(d){var e=b._$origin.parent().attr("name");c=a('img[usemap="#'+e+'"]')}var f=c[0].getBoundingClientRect(),g=a(h.window.document),i=a(h.window),j=c,k={available:{document:null,window:null},document:{size:{height:g.height(),width:g.width()}},window:{scroll:{left:h.window.scrollX||h.window.document.documentElement.scrollLeft,top:h.window.scrollY||h.window.document.documentElement.scrollTop},size:{height:i.height(),width:i.width()}},origin:{fixedLineage:!1,offset:{},size:{height:f.bottom-f.top,width:f.right-f.left},usemapImage:d?c[0]:null,windowOffset:{bottom:f.bottom,left:f.left,right:f.right,top:f.top}}};if(d){var l=b._$origin.attr("shape"),m=b._$origin.attr("coords");if(m&&(m=m.split(","),a.map(m,function(a,b){m[b]=parseInt(a)})),"default"!=l)switch(l){case"circle":var n=m[0],o=m[1],p=m[2],q=o-p,r=n-p;k.origin.size.height=2*p,k.origin.size.width=k.origin.size.height,k.origin.windowOffset.left+=r,k.origin.windowOffset.top+=q;break;case"rect":var s=m[0],t=m[1],u=m[2],v=m[3];k.origin.size.height=v-t,k.origin.size.width=u-s,k.origin.windowOffset.left+=s,k.origin.windowOffset.top+=t;break;case"poly":for(var w=0,x=0,y=0,z=0,A="even",B=0;B<m.length;B++){var C=m[B];"even"==A?(C>y&&(y=C,0===B&&(w=y)),w>C&&(w=C),A="odd"):(C>z&&(z=C,1==B&&(x=z)),x>C&&(x=C),A="even")}k.origin.size.height=z-x,k.origin.size.width=y-w,k.origin.windowOffset.left+=w,k.origin.windowOffset.top+=x}}var D=function(a){k.origin.size.height=a.height,k.origin.windowOffset.left=a.left,k.origin.windowOffset.top=a.top,k.origin.size.width=a.width};for(b._trigger({type:"geometry",edit:D,geometry:{height:k.origin.size.height,left:k.origin.windowOffset.left,top:k.origin.windowOffset.top,width:k.origin.size.width}}),k.origin.windowOffset.right=k.origin.windowOffset.left+k.origin.size.width,k.origin.windowOffset.bottom=k.origin.windowOffset.top+k.origin.size.height,k.origin.offset.left=k.origin.windowOffset.left+k.window.scroll.left,k.origin.offset.top=k.origin.windowOffset.top+k.window.scroll.top,k.origin.offset.bottom=k.origin.offset.top+k.origin.size.height,k.origin.offset.right=k.origin.offset.left+k.origin.size.width,k.available.document={bottom:{height:k.document.size.height-k.origin.offset.bottom,width:k.document.size.width},left:{height:k.document.size.height,width:k.origin.offset.left},right:{height:k.document.size.height,width:k.document.size.width-k.origin.offset.right},top:{height:k.origin.offset.top,width:k.document.size.width}},k.available.window={bottom:{height:Math.max(k.window.size.height-Math.max(k.origin.windowOffset.bottom,0),0),width:k.window.size.width},left:{height:k.window.size.height,width:Math.max(k.origin.windowOffset.left,0)},right:{height:k.window.size.height,width:Math.max(k.window.size.width-Math.max(k.origin.windowOffset.right,0),0)},top:{height:Math.max(k.origin.windowOffset.top,0),width:k.window.size.width}};"html"!=j[0].tagName.toLowerCase();){if("fixed"==j.css("position")){k.origin.fixedLineage=!0;break}j=j.parent()}return k},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=a(h.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=a(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var c=(new Date).getTime();b.__touchEvents=a.grep(b.__touchEvents,function(a,b){return c-a.time>6e4}),d(b._$origin)||b.close(function(){b.destroy()})},2e4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var a=this;if(a._$origin.off("."+a.__namespace+"-triggerOpen"),h.hasTouchCapability&&a._$origin.on("touchstart."+a.__namespace+"-triggerOpen touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen",function(b){a._touchRecordEvent(b)}),a.__options.triggerOpen.click||a.__options.triggerOpen.tap&&h.hasTouchCapability){var b="";a.__options.triggerOpen.click&&(b+="click."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.tap&&h.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&a._open(b)})}if(a.__options.triggerOpen.mouseenter||a.__options.triggerOpen.touchstart&&h.hasTouchCapability){var b="";a.__options.triggerOpen.mouseenter&&(b+="mouseenter."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.touchstart&&h.hasTouchCapability&&(b+="touchstart."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){!a._touchIsTouchEvent(b)&&a._touchIsEmulatedEvent(b)||(a.__pointerIsOverOrigin=!0,a._openShortly(b))})}if(a.__options.triggerClose.mouseleave||a.__options.triggerClose.touchleave&&h.hasTouchCapability){var b="";a.__options.triggerClose.mouseleave&&(b+="mouseleave."+a.__namespace+"-triggerOpen "),a.__options.triggerClose.touchleave&&h.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&(a.__pointerIsOverOrigin=!1)})}return a},__prepareTooltip:function(){var b=this,c=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":c,zIndex:b.__options.zIndex}),a.each(b.__previousThemes,function(a,c){b._$tooltip.removeClass(c)}),a.each(b.__options.theme,function(a,c){b._$tooltip.addClass(c)}),b.__previousThemes=a.merge([],b.__options.theme),b},__scrollHandler:function(b){var c=this;if(c.__options.triggerClose.scroll)c._close(b);else if(d(c._$origin)&&d(c._$tooltip)){var e=null;if(b.target===h.window.document)c.__Geometry.origin.fixedLineage||c.__options.repositionOnScroll&&c.reposition(b);else{e=c.__geometry();var f=!1;if("fixed"!=c._$origin.css("position")&&c.__$originParents.each(function(b,c){var d=a(c),g=d.css("overflow-x"),h=d.css("overflow-y");if("visible"!=g||"visible"!=h){var i=c.getBoundingClientRect();if("visible"!=g&&(e.origin.windowOffset.left<i.left||e.origin.windowOffset.right>i.right))return f=!0,!1;if("visible"!=h&&(e.origin.windowOffset.top<i.top||e.origin.windowOffset.bottom>i.bottom))return f=!0,!1}return"fixed"==d.css("position")?!1:void 0}),f)c._$tooltip.css("visibility","hidden");else if(c._$tooltip.css("visibility","visible"),c.__options.repositionOnScroll)c.reposition(b);else{var g=e.origin.offset.left-c.__Geometry.origin.offset.left,i=e.origin.offset.top-c.__Geometry.origin.offset.top;c._$tooltip.css({left:c.__lastPosition.coord.left+g,top:c.__lastPosition.coord.top+i})}}c._trigger({type:"scroll",event:b,geo:e})}return c},__stateSet:function(a){return this.__state=a,this._trigger({type:"state",state:a}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,a.each(this.__timeouts.close,function(a,b){clearTimeout(b)}),this.__timeouts.close=[],this},__trackerStart:function(){var a=this,b=a._$tooltip.find(".tooltipster-content");return a.__options.trackTooltip&&(a.__contentBcr=b[0].getBoundingClientRect()),a.__tracker=setInterval(function(){if(d(a._$origin)&&d(a._$tooltip)){if(a.__options.trackOrigin){var e=a.__geometry(),f=!1;c(e.origin.size,a.__Geometry.origin.size)&&(a.__Geometry.origin.fixedLineage?c(e.origin.windowOffset,a.__Geometry.origin.windowOffset)&&(f=!0):c(e.origin.offset,a.__Geometry.origin.offset)&&(f=!0)),f||(a.__options.triggerClose.mouseleave?a._close():a.reposition())}if(a.__options.trackTooltip){var g=b[0].getBoundingClientRect();g.height===a.__contentBcr.height&&g.width===a.__contentBcr.width||(a.reposition(),a.__contentBcr=g)}}else a._close()},a.__options.trackerInterval),a},_close:function(b,c,d){var e=this,f=!0;if(e._trigger({type:"close",event:b,stop:function(){f=!1}}),f||d){c&&e.__callbacks.close.push(c),e.__callbacks.open=[],e.__timeoutsClear();var g=function(){a.each(e.__callbacks.close,function(a,c){c.call(e,e,{event:b,origin:e._$origin[0]})}),e.__callbacks.close=[]};if("closed"!=e.__state){var i=!0,j=new Date,k=j.getTime(),l=k+e.__options.animationDuration[1];if("disappearing"==e.__state&&l>e.__closingTime&&e.__options.animationDuration[1]>0&&(i=!1),i){e.__closingTime=l,"disappearing"!=e.__state&&e.__stateSet("disappearing");var m=function(){clearInterval(e.__tracker),e._trigger({type:"closing",event:b}),e._$tooltip.off("."+e.__namespace+"-triggerClose").removeClass("tooltipster-dying"),a(h.window).off("."+e.__namespace+"-triggerClose"),e.__$originParents.each(function(b,c){a(c).off("scroll."+e.__namespace+"-triggerClose")}),e.__$originParents=null,a(h.window.document.body).off("."+e.__namespace+"-triggerClose"),e._$origin.off("."+e.__namespace+"-triggerClose"),e._off("dismissable"),e.__stateSet("closed"),e._trigger({type:"after",event:b}),e.__options.functionAfter&&e.__options.functionAfter.call(e,e,{event:b,origin:e._$origin[0]}),g()};h.hasTransitions?(e._$tooltip.css({"-moz-animation-duration":e.__options.animationDuration[1]+"ms","-ms-animation-duration":e.__options.animationDuration[1]+"ms","-o-animation-duration":e.__options.animationDuration[1]+"ms","-webkit-animation-duration":e.__options.animationDuration[1]+"ms","animation-duration":e.__options.animationDuration[1]+"ms","transition-duration":e.__options.animationDuration[1]+"ms"}),e._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),e.__options.animationDuration[1]>0&&e._$tooltip.delay(e.__options.animationDuration[1]),e._$tooltip.queue(m)):e._$tooltip.stop().fadeOut(e.__options.animationDuration[1],m)}}else g()}return e},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,c){var e=this;if(!e.__destroying&&d(e._$origin)&&e.__enabled){var f=!0;if("closed"==e.__state&&(e._trigger({type:"before",event:b,stop:function(){f=!1}}),f&&e.__options.functionBefore&&(f=e.__options.functionBefore.call(e,e,{event:b,origin:e._$origin[0]}))),f!==!1&&null!==e.__Content){c&&e.__callbacks.open.push(c),e.__callbacks.close=[],e.__timeoutsClear();var g,i=function(){"stable"!=e.__state&&e.__stateSet("stable"),a.each(e.__callbacks.open,function(a,b){b.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}),e.__callbacks.open=[]};if("closed"!==e.__state)g=0,"disappearing"===e.__state?(e.__stateSet("appearing"),h.hasTransitions?(e._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i)):e._$tooltip.stop().fadeIn(i)):"stable"==e.__state&&i();else{if(e.__stateSet("appearing"),g=e.__options.animationDuration[0],e.__contentInsert(),e.reposition(b,!0),h.hasTransitions?(e._$tooltip.addClass("tooltipster-"+e.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":e.__options.animationDuration[0]+"ms","-ms-animation-duration":e.__options.animationDuration[0]+"ms","-o-animation-duration":e.__options.animationDuration[0]+"ms","-webkit-animation-duration":e.__options.animationDuration[0]+"ms","animation-duration":e.__options.animationDuration[0]+"ms","transition-duration":e.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=e.__state&&(e._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i))},0)):e._$tooltip.css("display","none").fadeIn(e.__options.animationDuration[0],i),e.__trackerStart(),a(h.window).on("resize."+e.__namespace+"-triggerClose",function(b){var c=a(document.activeElement);(c.is("input")||c.is("textarea"))&&a.contains(e._$tooltip[0],c[0])||e.reposition(b)}).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)}),e.__$originParents=e._$origin.parents(),e.__$originParents.each(function(b,c){a(c).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)})}),e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&h.hasTouchCapability){e._on("dismissable",function(a){a.dismissable?a.delay?(m=setTimeout(function(){e._close(a.event)},a.delay),e.__timeouts.close.push(m)):e._close(a):clearTimeout(m)});var j=e._$origin,k="",l="",m=null;e.__options.interactive&&(j=j.add(e._$tooltip)),e.__options.triggerClose.mouseleave&&(k+="mouseenter."+e.__namespace+"-triggerClose ",l+="mouseleave."+e.__namespace+"-triggerClose "),e.__options.triggerClose.touchleave&&h.hasTouchCapability&&(k+="touchstart."+e.__namespace+"-triggerClose",l+="touchend."+e.__namespace+"-triggerClose touchcancel."+e.__namespace+"-triggerClose"),j.on(l,function(a){if(e._touchIsTouchEvent(a)||!e._touchIsEmulatedEvent(a)){var b="mouseleave"==a.type?e.__options.delay:e.__options.delayTouch;e._trigger({delay:b[1],dismissable:!0,event:a,type:"dismissable"})}}).on(k,function(a){!e._touchIsTouchEvent(a)&&e._touchIsEmulatedEvent(a)||e._trigger({dismissable:!1,event:a,type:"dismissable"})})}e.__options.triggerClose.originClick&&e._$origin.on("click."+e.__namespace+"-triggerClose",function(a){e._touchIsTouchEvent(a)||e._touchIsEmulatedEvent(a)||e._close(a)}),(e.__options.triggerClose.click||e.__options.triggerClose.tap&&h.hasTouchCapability)&&setTimeout(function(){if("closed"!=e.__state){var b="",c=a(h.window.document.body);e.__options.triggerClose.click&&(b+="click."+e.__namespace+"-triggerClose "),e.__options.triggerClose.tap&&h.hasTouchCapability&&(b+="touchend."+e.__namespace+"-triggerClose"),c.on(b,function(b){e._touchIsMeaningfulEvent(b)&&(e._touchRecordEvent(b),e.__options.interactive&&a.contains(e._$tooltip[0],b.target)||e._close(b))}),e.__options.triggerClose.tap&&h.hasTouchCapability&&c.on("touchstart."+e.__namespace+"-triggerClose",function(a){e._touchRecordEvent(a)})}},0),e._trigger("ready"),e.__options.functionReady&&e.__options.functionReady.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}if(e.__options.timer>0){var m=setTimeout(function(){e._close()},e.__options.timer+g);e.__timeouts.close.push(m)}}}return e},_openShortly:function(a){var b=this,c=!0;if("stable"!=b.__state&&"appearing"!=b.__state&&!b.__timeouts.open&&(b._trigger({type:"start",event:a,stop:function(){c=!1}}),c)){var d=0==a.type.indexOf("touch")?b.__options.delayTouch:b.__options.delay;d[0]?b.__timeouts.open=setTimeout(function(){b.__timeouts.open=null,b.__pointerIsOverOrigin&&b._touchIsMeaningfulEvent(a)?(b._trigger("startend"),b._open(a)):b._trigger("startcancel")},d[0]):(b._trigger("startend"),b._open(a))}return b},_optionsExtract:function(b,c){var d=this,e=a.extend(!0,{},c),f=d.__options[b];return f||(f={},a.each(c,function(a,b){var c=d.__options[a];void 0!==c&&(f[a]=c)})),a.each(e,function(b,c){void 0!==f[b]&&("object"!=typeof c||c instanceof Array||null==c||"object"!=typeof f[b]||f[b]instanceof Array||null==f[b]?e[b]=f[b]:a.extend(e[b],f[b]))}),e},_plug:function(b){var c=a.tooltipster._plugin(b);if(!c)throw new Error('The "'+b+'" plugin is not defined');return c.instance&&a.tooltipster.__bridge(c.instance,this,c.name),this},_touchIsEmulatedEvent:function(a){for(var b=!1,c=(new Date).getTime(),d=this.__touchEvents.length-1;d>=0;d--){var e=this.__touchEvents[d];if(!(c-e.time<500))break;e.target===a.target&&(b=!0)}return b},_touchIsMeaningfulEvent:function(a){return this._touchIsTouchEvent(a)&&!this._touchSwiped(a.target)||!this._touchIsTouchEvent(a)&&!this._touchIsEmulatedEvent(a)},_touchIsTouchEvent:function(a){return 0==a.type.indexOf("touch")},_touchRecordEvent:function(a){return this._touchIsTouchEvent(a)&&(a.time=(new Date).getTime(),this.__touchEvents.push(a)),this},_touchSwiped:function(a){for(var b=!1,c=this.__touchEvents.length-1;c>=0;c--){var d=this.__touchEvents[c];if("touchmove"==d.type){b=!0;break}if("touchstart"==d.type&&a===d.target)break}return b},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),a.tooltipster._trigger.apply(a.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var c=this;if(c[b]){var d=a.tooltipster._plugin(b);d.instance&&a.each(d.instance,function(a,d){c[a]&&c[a].bridged===c[b]&&delete c[a]}),c[b].__destroy&&c[b].__destroy(),delete c[b]}return c},close:function(a){return this.__destroyed?this.__destroyError():this._close(null,a),this},content:function(a){var b=this;if(void 0===a)return b.__Content;if(b.__destroyed)b.__destroyError();else if(b.__contentSet(a),null!==b.__Content){if("closed"!==b.__state&&(b.__contentInsert(),b.reposition(),b.__options.updateAnimation))if(h.hasTransitions){var c=b.__options.updateAnimation;b._$tooltip.addClass("tooltipster-update-"+c),setTimeout(function(){"closed"!=b.__state&&b._$tooltip.removeClass("tooltipster-update-"+c)},1e3)}else b._$tooltip.fadeTo(200,.5,function(){"closed"!=b.__state&&b._$tooltip.fadeTo(200,1)})}else b._close();return b},destroy:function(){var b=this;if(b.__destroyed)b.__destroyError();else{"closed"!=b.__state?b.option("animationDuration",0)._close(null,null,!0):b.__timeoutsClear(),b._trigger("destroy"),b.__destroyed=!0,b._$origin.removeData(b.__namespace).off("."+b.__namespace+"-triggerOpen"),a(h.window.document.body).off("."+b.__namespace+"-triggerOpen");var c=b._$origin.data("tooltipster-ns");if(c)if(1===c.length){var d=null;"previous"==b.__options.restoration?d=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(d="string"==typeof b.__Content?b.__Content:a("<div></div>").append(b.__Content).html()),d&&b._$origin.attr("title",d),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else c=a.grep(c,function(a,c){return a!==b.__namespace}),b._$origin.data("tooltipster-ns",c);b._trigger("destroyed"),b._off(),b.off(),b.__Content=null,b.__$emitterPrivate=null,b.__$emitterPublic=null,b.__options.parent=null,b._$origin=null,b._$tooltip=null,a.tooltipster.__instancesLatestArr=a.grep(a.tooltipster.__instancesLatestArr,function(a,c){return b!==a}),clearInterval(b.__garbageCollector)}return b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(a){return this.close(a)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(a){return this.__destroyed?this.__destroyError():this._open(null,a),this},option:function(b,c){return void 0===c?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=c,this.__optionsFormat(),a.inArray(b,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(a,b){var c=this;return c.__destroyed?c.__destroyError():"closed"!=c.__state&&d(c._$origin)&&(b||d(c._$tooltip))&&(b||c._$tooltip.detach(),c.__Geometry=c.__geometry(),c._trigger({type:"reposition",event:a,helper:{geo:c.__Geometry}})),c},show:function(a){return this.open(a)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments),c="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof b[0]){var d="#*$~&";return this.each(function(){var e=a(this).data("tooltipster-ns"),f=e?a(this).data(e[0]):null;if(!f)throw new Error("You called Tooltipster's \""+b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw new Error('Unknown method "'+b[0]+'"');this.length>1&&"content"==b[0]&&(b[1]instanceof a||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log(c);var g=f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(d=g,!1):void 0}),"#*$~&"!==d?d:this}a.tooltipster.__instancesLatestArr=[];var e=b[0]&&void 0!==b[0].multiple,g=e&&b[0].multiple||!e&&f.multiple,h=b[0]&&void 0!==b[0].content,i=h&&b[0].content||!h&&f.content,j=b[0]&&void 0!==b[0].contentCloning,k=j&&b[0].contentCloning||!j&&f.contentCloning,l=b[0]&&void 0!==b[0].debug,m=l&&b[0].debug||!l&&f.debug;return this.length>1&&(i instanceof a||"object"==typeof i&&null!=i&&i.tagName)&&!k&&m&&console.log(c),this.each(function(){var c=!1,d=a(this),e=d.data("tooltipster-ns"),f=null;e?g?c=!0:m&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):c=!0,c&&(f=new a.Tooltipster(this,b[0]),e||(e=[]),e.push(f.__namespace),d.data("tooltipster-ns",e),d.data(f.__namespace,f),f.__options.functionInit&&f.__options.functionInit.call(f,f,{origin:this}),f._trigger("init")),a.tooltipster.__instancesLatestArr.push(f)}),this},b.prototype={__init:function(b){this.__$tooltip=b,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=a('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(h.window.document.body)},__forceRedraw:function(){var a=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(a)},constrain:function(a,b){return this.constraints={width:a,height:b},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:a}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var a=this.__$tooltip[0].getBoundingClientRect(),b={size:{height:a.height||a.bottom-a.top,width:a.width||a.right-a.left}};if(this.constraints){var c=this.__$tooltip.find(".tooltipster-content"),d=this.__$tooltip.outerHeight(),e=c[0].getBoundingClientRect(),f={height:d<=this.constraints.height,width:a.width<=this.constraints.width&&e.width>=c[0].scrollWidth-1};b.fits=f.height&&f.width}return h.IE&&h.IE<=11&&b.size.width!==h.window.document.documentElement.clientWidth&&(b.size.width=Math.ceil(b.size.width)+1),b}};var j=navigator.userAgent.toLowerCase();-1!=j.indexOf("msie")?h.IE=parseInt(j.split("msie")[1]):-1!==j.toLowerCase().indexOf("trident")&&-1!==j.indexOf(" rv:11")?h.IE=11:-1!=j.toLowerCase().indexOf("edge/")&&(h.IE=parseInt(j.toLowerCase().split("edge/")[1]));var k="tooltipster.sideTip";return a.tooltipster._plugin({name:k,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(a){var b=this;b.__instance=a,b.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),b.__previousState="closed",b.__options,b.__optionsFormat(),b.__instance._on("state."+b.__namespace,function(a){"closed"==a.state?b.__close():"appearing"==a.state&&"closed"==b.__previousState&&b.__create(),b.__previousState=a.state}),b.__instance._on("options."+b.__namespace,function(){b.__optionsFormat()}),b.__instance._on("reposition."+b.__namespace,function(a){b.__reposition(a.event,a.helper)})},__close:function(){this.__instance.content()instanceof a&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var b=a('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px"),
this.__instance._$tooltip=b,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var b=this;if(b.__options=b.__instance._optionsExtract(k,b.__defaults()),b.__options.position&&(b.__options.side=b.__options.position),"object"!=typeof b.__options.distance&&(b.__options.distance=[b.__options.distance]),b.__options.distance.length<4&&(void 0===b.__options.distance[1]&&(b.__options.distance[1]=b.__options.distance[0]),void 0===b.__options.distance[2]&&(b.__options.distance[2]=b.__options.distance[0]),void 0===b.__options.distance[3]&&(b.__options.distance[3]=b.__options.distance[1]),b.__options.distance={top:b.__options.distance[0],right:b.__options.distance[1],bottom:b.__options.distance[2],left:b.__options.distance[3]}),"string"==typeof b.__options.side){var c={top:"bottom",right:"left",bottom:"top",left:"right"};b.__options.side=[b.__options.side,c[b.__options.side]],"left"==b.__options.side[0]||"right"==b.__options.side[0]?b.__options.side.push("top","bottom"):b.__options.side.push("right","left")}6===a.tooltipster._env.IE&&b.__options.arrow!==!0&&(b.__options.arrow=!1)},__reposition:function(b,c){var d,e=this,f=e.__targetFind(c),g=[];e.__instance._$tooltip.detach();var h=e.__instance._$tooltip.clone(),i=a.tooltipster._getRuler(h),j=!1,k=e.__instance.option("animation");switch(k&&h.removeClass("tooltipster-"+k),a.each(["window","document"],function(d,k){var l=null;if(e.__instance._trigger({container:k,helper:c,satisfied:j,takeTest:function(a){l=a},results:g,type:"positionTest"}),1==l||0!=l&&0==j&&("window"!=k||e.__options.viewportAware))for(var d=0;d<e.__options.side.length;d++){var m={horizontal:0,vertical:0},n=e.__options.side[d];"top"==n||"bottom"==n?m.vertical=e.__options.distance[n]:m.horizontal=e.__options.distance[n],e.__sideChange(h,n),a.each(["natural","constrained"],function(a,d){if(l=null,e.__instance._trigger({container:k,event:b,helper:c,mode:d,results:g,satisfied:j,side:n,takeTest:function(a){l=a},type:"positionTest"}),1==l||0!=l&&0==j){var h={container:k,distance:m,fits:null,mode:d,outerSize:null,side:n,size:null,target:f[n],whole:null},o="natural"==d?i.free():i.constrain(c.geo.available[k][n].width-m.horizontal,c.geo.available[k][n].height-m.vertical),p=o.measure();if(h.size=p.size,h.outerSize={height:p.size.height+m.vertical,width:p.size.width+m.horizontal},"natural"==d?c.geo.available[k][n].width>=h.outerSize.width&&c.geo.available[k][n].height>=h.outerSize.height?h.fits=!0:h.fits=!1:h.fits=p.fits,"window"==k&&(h.fits?"top"==n||"bottom"==n?h.whole=c.geo.origin.windowOffset.right>=e.__options.minIntersection&&c.geo.window.size.width-c.geo.origin.windowOffset.left>=e.__options.minIntersection:h.whole=c.geo.origin.windowOffset.bottom>=e.__options.minIntersection&&c.geo.window.size.height-c.geo.origin.windowOffset.top>=e.__options.minIntersection:h.whole=!1),g.push(h),h.whole)j=!0;else if("natural"==h.mode&&(h.fits||h.size.width<=c.geo.available[k][n].width))return!1}})}}),e.__instance._trigger({edit:function(a){g=a},event:b,helper:c,results:g,type:"positionTested"}),g.sort(function(a,b){if(a.whole&&!b.whole)return-1;if(!a.whole&&b.whole)return 1;if(a.whole&&b.whole){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return d>c?-1:c>d?1:"natural"==a.mode?-1:1}if(a.fits&&!b.fits)return-1;if(!a.fits&&b.fits)return 1;if(a.fits&&b.fits){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return d>c?-1:c>d?1:"natural"==a.mode?-1:1}return"document"==a.container&&"bottom"==a.side&&"natural"==a.mode?-1:1}),d=g[0],d.coord={},d.side){case"left":case"right":d.coord.top=Math.floor(d.target-d.size.height/2);break;case"bottom":case"top":d.coord.left=Math.floor(d.target-d.size.width/2)}switch(d.side){case"left":d.coord.left=c.geo.origin.windowOffset.left-d.outerSize.width;break;case"right":d.coord.left=c.geo.origin.windowOffset.right+d.distance.horizontal;break;case"top":d.coord.top=c.geo.origin.windowOffset.top-d.outerSize.height;break;case"bottom":d.coord.top=c.geo.origin.windowOffset.bottom+d.distance.vertical}"window"==d.container?"top"==d.side||"bottom"==d.side?d.coord.left<0?c.geo.origin.windowOffset.right-this.__options.minIntersection>=0?d.coord.left=0:d.coord.left=c.geo.origin.windowOffset.right-this.__options.minIntersection-1:d.coord.left>c.geo.window.size.width-d.size.width&&(c.geo.origin.windowOffset.left+this.__options.minIntersection<=c.geo.window.size.width?d.coord.left=c.geo.window.size.width-d.size.width:d.coord.left=c.geo.origin.windowOffset.left+this.__options.minIntersection+1-d.size.width):d.coord.top<0?c.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?d.coord.top=0:d.coord.top=c.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:d.coord.top>c.geo.window.size.height-d.size.height&&(c.geo.origin.windowOffset.top+this.__options.minIntersection<=c.geo.window.size.height?d.coord.top=c.geo.window.size.height-d.size.height:d.coord.top=c.geo.origin.windowOffset.top+this.__options.minIntersection+1-d.size.height):(d.coord.left>c.geo.window.size.width-d.size.width&&(d.coord.left=c.geo.window.size.width-d.size.width),d.coord.left<0&&(d.coord.left=0)),e.__sideChange(h,d.side),c.tooltipClone=h[0],c.tooltipParent=e.__instance.option("parent").parent[0],c.mode=d.mode,c.whole=d.whole,c.origin=e.__instance._$origin[0],c.tooltip=e.__instance._$tooltip[0],delete d.container,delete d.fits,delete d.mode,delete d.outerSize,delete d.whole,d.distance=d.distance.horizontal||d.distance.vertical;var l=a.extend(!0,{},d);if(e.__instance._trigger({edit:function(a){d=a},event:b,helper:c,position:l,type:"position"}),e.__options.functionPosition){var m=e.__options.functionPosition.call(e,e.__instance,c,l);m&&(d=m)}i.destroy();var n,o;"top"==d.side||"bottom"==d.side?(n={prop:"left",val:d.target-d.coord.left},o=d.size.width-this.__options.minIntersection):(n={prop:"top",val:d.target-d.coord.top},o=d.size.height-this.__options.minIntersection),n.val<this.__options.minIntersection?n.val=this.__options.minIntersection:n.val>o&&(n.val=o);var p;p=c.geo.origin.fixedLineage?c.geo.origin.windowOffset:{left:c.geo.origin.windowOffset.left+c.geo.window.scroll.left,top:c.geo.origin.windowOffset.top+c.geo.window.scroll.top},d.coord={left:p.left+(d.coord.left-c.geo.origin.windowOffset.left),top:p.top+(d.coord.top-c.geo.origin.windowOffset.top)},e.__sideChange(e.__instance._$tooltip,d.side),c.geo.origin.fixedLineage?e.__instance._$tooltip.css("position","fixed"):e.__instance._$tooltip.css("position",""),e.__instance._$tooltip.css({left:d.coord.left,top:d.coord.top,height:d.size.height,width:d.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(n.prop,n.val),e.__instance._$tooltip.appendTo(e.__instance.option("parent")),e.__instance._trigger({type:"repositioned",event:b,position:d})},__sideChange:function(a,b){a.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+b)},__targetFind:function(a){var b={},c=this.__instance._$origin[0].getClientRects();if(c.length>1){var d=this.__instance._$origin.css("opacity");1==d&&(this.__instance._$origin.css("opacity",.99),c=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(c.length<2)b.top=Math.floor(a.geo.origin.windowOffset.left+a.geo.origin.size.width/2),b.bottom=b.top,b.left=Math.floor(a.geo.origin.windowOffset.top+a.geo.origin.size.height/2),b.right=b.left;else{var e=c[0];b.top=Math.floor(e.left+(e.right-e.left)/2),e=c.length>2?c[Math.ceil(c.length/2)-1]:c[0],b.right=Math.floor(e.top+(e.bottom-e.top)/2),e=c[c.length-1],b.bottom=Math.floor(e.left+(e.right-e.left)/2),e=c.length>2?c[Math.ceil((c.length+1)/2)-1]:c[c.length-1],b.left=Math.floor(e.top+(e.bottom-e.top)/2)}return b}}}),a});
var SEARCH_AUTO_COMPLETE_MIN_COUNT = 3;
var search_keyword = "";
var search_draw_target = "";
var search_category = "ALL";
var pageNum = 0;
var viewCnt = 5; 
var totalViewCnt = 5;
var breakAllIndex = 0; //all category data를 5개씩 가져오기위한 변수
var search_result_track_name = "search-result";

(function ($) {
  $(document).ready(function () {
      $(document).on("click", '.searchResultWrap .searchWordlist .link', function (e) {
          Header.recentSearch.setCookie($.trim($(this).text()));
          Header.search.moveSearchResult($.trim($(this).val()));
        });
        $(document).on("click", ".loadmore.searchEngine .colWd .txt_white", function () {
          breakAllIndex += viewCnt;
          fn_search_draw_list('more');
        });
    //검색input필드 키보드이벤트
    $(document).on("keyup", '.searchArea input.inputSearch', function (e) {
      var linkLen = $(this).closest(".inputWrap.search").find(".recentSearch li").length;
      if ($(this).val()) {
        var word = chkword($(this).val(), 50);
        if (word != "") {
          $(this).val(word);
        }
        $(".searchArea .btnReset").show();
      } else {
        $(".searchArea .btnReset").hide();
      }
      if (e.keyCode == 13 || e.which == 13) {
        $(this).closest(".inputWrap.search").find(".autoSearchList").hide();
        Header.recentSearch.setCookie($.trim($(this).val()));
        fn_all_tab_reset();
        Header.search.moveSearchResult($.trim($(this).val()));
      } else if (e.keyCode == 40 && linkLen > 1) {
        e.preventDefault();
        $(this).closest(".searchArea").find(".autoSearchList.recentSearch").show();
        $(this).closest(".searchArea").find(".autoSearchList .link").eq(0).focus();
      } else if (e.keyCode != 38 && $(this).val().length >= SEARCH_AUTO_COMPLETE_MIN_COUNT) {
        $(".autoSearchList.auto").show();
        fn_search_auto_complete($(this).val(), ".autoSearchList.auto .autoSearch");
        $(".searchArea .autoSearchList.auto").show();
      } else {
        $(".searchArea .autoSearchList").hide();
      }
    });
    // 검색 결과 없음 팝업 / 검색결과
    $(".searchArea .btnSearch").on("click", function () {
      var $target = $(this).closest(".searchArea");
      var txtGnbSearchKey = $.trim($target.find(".inputSearch").val());
      if (!txtGnbSearchKey) {
        $(".layerPop.alert").css("display", "block");
        $(".layerPop .dim").css("display", "block");
      } else {
        Header.recentSearch.setCookie($.trim($(".searchArea .inputSearch").val()));
        fn_all_tab_reset();
        Header.search.moveSearchResult($.trim($(".searchArea .inputSearch").val()));
      }
    });
    // search Input 클릭 시, 최근 검색어
    $(".searchArea .search .inputBox .inputSearch").on("click", function () {
      if ($(this).val().length < SEARCH_AUTO_COMPLETE_MIN_COUNT) {
        if ($(".autoSearchList.recentSearch").css("display") == "block") {
          $(".autoSearchList.recentSearch").css("display", "none");
        } else {
          $(".autoSearchList.recentSearch").css("display", "block");
          Header.recentSearch.getCookie($('.autoSearchList.recentSearch .autoSearch'));
        }
      }
      // search Input 외 클릭 시 최근 검색어 닫기 (추가 190411)
      $('html').click(function (e) {
        if (!$(e.target).hasClass("searchActive")) {
          $(".autoSearchList.recentSearch").hide()
        }
      });
    });
    // search Input Button reset 클릭 시, 리셋
    $(".searchArea .btnReset").on("click", function (e) {
      e.preventDefault();
      $(".searchArea .autoSearchList.auto").hide();
/*      $(".searchArea .autoSearchList.recentSearch").css("display", "block");
      Header.recentSearch.getCookie($('.autoSearchList.recentSearch .autoSearch'));*/
      $(".searchArea .inputSearch").val("").focus();
    })
    $(".gridbox.search.searchEngine li").show(); //전체 list 보여주기 190402
    // tab 클릭시 해당 list만 보여주기 190402
    $("#searchTabWrap .tab").on("click", function () {
      if ($.trim($(".searchArea .inputSearch").val()) == "") {
        $(".layerPop.alert").css("display", "block");
        $(".layerPop .dim").css("display", "block");
        return false;
      }
      var tabList = $(this).attr("name")
      var listNameClass = "." + tabList
      $("#searchTabWrap .tab").attr("aria-selected", "false");
      $(this).attr("aria-selected", "true");
      $(".searchEngineAll").hide()
      $(listNameClass).show()
      pageNum = 0;
      breakAllIndex = 0;
      $("#searchReTab .tabArea a").attr("data-index", 0);
      search_category = $(this).attr("data-item");
      fn_search_execute($(".searchArea .inputSearch").val());
    })
    //최근검색어 누르면 이동
    $(document).on("click", ".autoSearchList .historyLi a", function () {
      Header.search.moveSearchResult($(this).text());
    });
  });
})(jQuery);
function fn_all_tab_reset() {
  search_category = "ALL";
  $("#searchTabWrap .tab").attr("aria-selected", "false");
  $('[name="searchEngineAll"]').attr("aria-selected", "true");
  $(".searchEngineAll").hide()
  $('.searchEngineAll').show()
  $("#searchReTab .tabArea a").attr("data-index", 0);
}
function capitalizeFirstLetter(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}
function fn_search_execute(queryText) {
  if ($.trim(queryText) == "") {
    $(".layerPop.alert").css("display", "block");
    $(".layerPop .dim").css("display", "block");
    return false;
  }
    var regexSearch = /["（""）""【""【""】""】""「""〔""〕""」""⑺""⑼""ⓟ""˚""✐""✎""☴""☲""�""♥"]/;
    var forbiddenMatch;
    forbiddenMatch = $.trim(queryText).match(regexSearch);
    if(forbiddenMatch){
    	//gfnAlert('type4', Granite.I18n.get("Search Message") , Granite.I18n.get("Keyword text contains invalid characters or symbols."));
    	//console.log(forbiddenMatch[0])    	
    	return false;
    }

  $("#keyword").val(queryText);
  fn_search_draw_list();
}
function fn_search_popular_keyword() {
  var search_popular_list_count = 5;
  $.ajax({
    type: "POST",
    url: "/wsvc/in/search2.popular.html",
    data: {
      "range": "W"
    },
    dataType: 'json',
    success: function (resData) {
      if (resData.Data) {
        var popular = resData.Data.Query;
        var html = "";
        if (popular.content) { //just one(no array)
          html += '<button class="link" value="' + popular.content + '" onclick="_satellite.trackEvent(\'' + search_result_track_name + '\', \'popular ' + popular.content.replace(/\n/g, " ").replace(/\'/g, "").replace(/\"/g, "") + '\')">' + popular.content + '</button>';
        } else { //multiple(array)
          for (var i = 0; i < popular.length; i++) {
            if (i >= search_popular_list_count) {
              break;
            }
            html += '<button class="link" value="' + popular[i].content + '" onclick="_satellite.trackEvent(\'' + search_result_track_name + '\', \'popular ' + popular[i].content.replace(/\n/g, " ").replace(/\'/g, "").replace(/\"/g, "") + '\')">' + popular[i].content + '</button>';
          }
        }
        $(".searchWord .searchWordlist").html(html);
        return true;
      }
    }
  });
}
function fn_search_default_tab() {
  $("#searchReTab .tabArea .tab").each(function () {
    var tabName = $(this).attr("data-text");
    $(this).find("a").text(tabName + " (0)");
  });
}
//s: 190812-v2 edit
function fn_search_draw_list(type) {
  pageNum = type != 'more' ? pageNum : ++pageNum;
  $('#result-not-found').hide();
  search_keyword = $(".searchArea #keyword").val();
  var searReVal = "";
  var search_keywordResult = search_keyword.split(' ');
  for (var i = 0; i < search_keywordResult.length;) {
    searReVal += '"' + search_keywordResult[i] + '"';
    if (++i < search_keywordResult.length) {
      searReVal += ', ';
    }
  }

/* 190816 add : 하위 elantra 텍스트 영역에 검색한 키워드 키값 삽입 필요. */
$("#tiResult").html(Granite.I18n.get("Search results for ") + searReVal);

  $.ajax({
    type: "POST",
    url: "/wsvc/in/search2.contents.html",
    data : {"query": encodeURIComponent(search_keyword),
        "collection": search_category,
        "startCount" : pageNum * viewCnt,
        "listCount":  viewCnt
    },
    dataType: 'json',
    async : false,
    beforeSend: function () {
      $('#result-roading').show();
      $('#result-not-found').hide();
    },
    complete: function () {
      $('#result-roading').hide();
    },
    success: function (resData) {
      if (resData) {
        $(".searchEngineWrap").show();
        var totalCount = resData.totalCount;
//        var categories = resData.categories;
        var categories = resData.tabCount;
        var categoriesLocal = resData.categoriesLocal;
        //tab
        if (type != 'more' && search_category == 'ALL') {
          for (var i = 0; i < categories.length; i++) {
//            var tabItem = categories[i];
            var tabItem = categories[i].collection;
//            var documentSetItem = resData.documentSet;
//            var documentSetItem = resData.documentSet;
//            var thisTotalCount = 0;
            var thisTotalCount = categories[i].count;
//            if (documentSetItem && documentSetItem.length > 0) {
//              thisTotalCount = documentSetItem[i].thisTotalCount;
//            }
//            var categoriesLocalVal = (categoriesLocal[i] == 'Etc') ? Granite.I18n.get("Etc") : categoriesLocal[i];
            var tabName = $("#searchReTab .tabArea").find("li[data-item=" + tabItem + "]").attr("data-text");
//            $("#searchReTab .tabArea").find('li[data-item="' + tabItem + '"] a').text(categoriesLocalVal + " (" + thisTotalCount + ")");
//            $("#searchReTab .tabArea").find('li[data-item="' + tabItem + '"] a').text(categoriesLocalVal + " (" + thisTotalCount + ")");
            $("#searchReTab .tabArea").find('li[data-item="' + tabItem + '"] a').attr("data-index", 0);
            $("#searchReTab .tabArea").find('li[data-item="' + tabItem + '"] a').attr("data-count", thisTotalCount);
            $("#searchReTab .tabArea").find('li[data-item="' + tabItem + '"] a').text(tabName + " (" + thisTotalCount + ")");
            $("#searchReTab .tabArea").find('li[data-item="' + tabItem + '"]').removeAttr("style");
//            $('.searchEngineWrap').find('[data-categories="' + tabItem + '"]').text(categoriesLocalVal);
          }
//          $("#searchReTab .tabArea").find('li[data-item="ALL"] a').attr("data-index", 0);
//          $("#searchReTab .tabArea").find('li[data-item="ALL"] a').attr("data-count", totalCount);
//          $("#searchReTab .tabArea").find('li[data-item="ALL"] a').text("ALL" + " (" + totalCount + ")");
//          $("#searchReTab .mobileOnly span").text("ALL" + " (" + totalCount + ")");
          for (var i = 1; i < 5; i++) {
            $("#searchTabWrap .tabArea").removeClass("colLg" + i);
          }
//          $("#searchTabWrap .tabArea").addClass("colLg" + (categories.length + 1));
        }
        //no data
        if (parseInt(totalCount) < 1) {
          $(".searchEngineWrap").hide();
          $('#list-more-layer').hide();
          $('#result-not-found span').text(searReVal);
          $('#result-not-found').show();
        } else {
          var documentSet = resData.data;
          var categories = resData.tabCount;
          
        //schema list
          if(resData.cardata != undefined && resData.cardata.length != 0 && type != 'more' && search_category == 'ALL'){
              var vehicleList = resData.cardata[0].RESULT;
              var schHtml = "";
              var title = "";
              for(var i=0; i<vehicleList.length; i++){
                  var item = vehicleList[i];
                  if(item.subdata.length != 0){
    //                  title = ComUtils.decodeXSSProtectedHTML(item.TITLE);                        
                  title = item.TITLE;                        
                  title = title.replace(/<strong>/ig,'');
                  title = title.replace(/<\/strong>/ig,'');
                  
                  schHtml +='    <div class="list">';
                  schHtml +='        <div class="img"><img src="'+item.THUMBNAIL+'" alt="'+title+'"></div>';
                  schHtml +='        <h3 class="subTit3">'+title+'</h3>';
                  schHtml +='        <div class="tags">';
                  
                      for(var j=0;j<item.subdata.length;j++){
                          var subItem = item.subdata[j];
                          try {
                              // subItem.SUBLINK = subItem.SUBLINK.replace('https://www.hyundai.com/', '/content/hyundai/'); // Old Code
                              // subItem.SUBLINK = subItem.SUBLINK.replace(/https:\/\/.*\.hyundai\.com\//, "/content/hyundai/"); // For loc 
                              subItem.SUBLINK = subItem.SUBLINK.replace(/https:\/\/.*\.hyundai\.com\//, "/"); // For prod 
                              subItem.SUBLINK = location.protocol + "//" + location.host + getServerURL(subItem.SUBLINK);
                          } catch (e) {}
                          
                          schHtml +='            <a href="'+subItem.SUBLINK+'" onClick="_satellite.trackEvent(\''+search_result_track_name+'\', \''+title+' '+subItem.SUBTITLE.replace(/\n/g, " ").replace(/\'/g, "").replace(/\"/g, "")+'\')">'+subItem.SUBTITLE+'</a>';    
                      }
                  schHtml +='        </div>';
                  schHtml +='    </div>';
                  }
              }
              
              if(schHtml != ""){
                  $(" .schImgList").html(schHtml);         
                  $(" .schImgList").show();
              }else{                    
                  $(" .schImgList").html("");
                  $(" .schImgList").hide();
              }
              
          }else if(resData.cardata.length == 0 && type != 'more'){
            $(search_draw_target + " .schImgList").html("");
            $(search_draw_target + " .schImgList").hide();
          }
          
          for (var i = 0; i < documentSet.length; i++) {
            var dataListItem = documentSet[i].RESULT;
            var categoryVal = documentSet[i].COLLNAME;
            if (search_category != 'ALL') {
              categoryVal = search_category;
            }
            var resultLayer = $('[data-collection="' + categoryVal + '"]');
            var index = 0;
            var resultLiHtml = "";
            
            if (dataListItem && dataListItem.length > 0) {
              var document = dataListItem;
              for (var j = 0; j < document.length; j++) {
                var title = document[j].TITLE;
                var description = document[j].CONTENTS;
                var country = document[j].COUNTRY;
                var language = document[j].LANGUAGE;
                // LINK data form : https://www.hyundai.com/in/en/find-a-car/kona-electric/highlights
                var loc = document[j].LINK ? document[j].LINK : '';
                // loc = loc.replace('https://www.hyundai.com/', '/content/hyundai/'); // Old Code
                // loc = loc.replace(/https:\/\/.*\.hyundai\.com\//, "/content/hyundai/"); //For dev
                loc = loc.replace(/https:\/\/.*\.hyundai\.com\//, "/"); // For prod
                loc = getServerURL(loc); 
                // loc data form : /content/hyundai/in/en/find-a-car/kona-electric/highlights.html
                var altText = title;
                title = title.replace(/<strong>/ig, '<span class="txt_sky">');
                title = title.replace(/<\/strong>/ig, '</span>');
                description = description.replace(/<strong>/ig, '<span class="txt_sky">');
                description = description.replace(/<\/strong>/ig, '</span>');
                altText = altText.replace(/<strong>/ig, '');
                altText = altText.replace(/<\/strong>/ig, '')
                if (document[j].ALIAS == 'vehicle') {
                  document[j].THUMBNAIL = document[j].THUMBNAIL ? document[j].THUMBNAIL : '/etc/designs/hyundai/template_en/en/images/search/no-image-original.png';
                }
                var imgAreaYN = document[j].THUMBNAIL ? '' : 'none';
                var imgYN = document[j].THUMBNAIL ? '' : 'onlytxt';
                
                // tab name : Find a Car etc.
                var tabName = $("#searchTabWrap .tabArea").find("[data-item="+document[j].ALIAS+"]").attr("data-text");
                
                // s: 리스트 html구조 ww와 같게 수정
                resultLiHtml += '         <li>\n';
                resultLiHtml += '             <a href="' + location.protocol + "//" + location.host + loc +'" onclick="_satellite.trackEvent(\'' + search_result_track_name + '\', \'' + altText.replace(/\n/g, " ").replace(/\'/g, "").replace(/\"/g, "") + '\')">\n';
                resultLiHtml += '                 <div class="imgArea '+ imgAreaYN +'">\n';//190816 edit
                resultLiHtml += '                     <picture>\n';
                resultLiHtml += '                         <source media="(min-width: 768px) and (max-width:1024px)" srcset="' + document[j].THUMBNAIL + '"  alt="" />\n';
                resultLiHtml += '                         <source media="(max-width: 767px)" srcset=" ' + document[j].THUMBNAIL + '"  alt="" />\n';
                resultLiHtml += '                         <img src="' + document[j].THUMBNAIL + '" alt="" />\n';
                resultLiHtml += '                     </picture> \n';
                resultLiHtml += '                 </div>\n';
                resultLiHtml += '                 <div class="txtArea ' + imgYN + '"> \n';
                resultLiHtml += '                     <a href="' + location.protocol + "//" + location.host + loc +'" onclick="_satellite.trackEvent(\'' + search_result_track_name + '\', \'' + altText.replace(/\n/g, " ").replace(/\'/g, "").replace(/\"/g, "") + '\')"> \n';
                resultLiHtml += '                         <h3 class="Tit"> \n';
                resultLiHtml += '                             ' + title + '\n';
                resultLiHtml += '                         </h3> \n';
                resultLiHtml += '                         <p class="Sub">' + description + '</p> \n';

                resultLiHtml += '                       <p class="Sub link">\n';
                resultLiHtml += '                           <span class="dir">'+ tabName +'</span>\n';
                resultLiHtml += '                           <span class="link">' + location.protocol + "//" + location.host + loc + '</span> \n';
                resultLiHtml += '                       </p>\n';
                resultLiHtml += '                   </a>\n';
                resultLiHtml += '              </div>\n';
                resultLiHtml += '          </a>\n';
                resultLiHtml += '      </li>\n';
                index++;
                // e: 리스트 html구조 ww와 같게 수정
              } //for
              //for viewed index
              if (type == 'more') {
                //var col = categories.length > 1 ? 'ALL' : categories[i];
                var col = search_category;
                var dataIndex = $("#searchReTab .tabArea").find("[data-item=" + col + "] a").attr("data-index");
                $("#searchReTab .tabArea").find("[data-item=" + col + "] a").attr("data-index", parseInt(dataIndex) + parseInt(index));
              }
              //data input
              if (type != 'more') {
                $(resultLayer).html(resultLiHtml);
              } else {
                $(resultLayer).append(resultLiHtml);
              }
            } //if
          } //for(var i=0; i<documentSet.length; i++)
          var categoryTotalCount = $("#searchReTab .tabArea").find("[data-item=" + search_category + "] a").attr("data-count");
          var categoryViewedIndex = $("#searchReTab .tabArea").find("[data-item=" + search_category + "] a").attr("data-index");
          var dataCount = parseInt(categoryViewedIndex) + parseInt(viewCnt); //data 개수
          if (search_category == 'ALL') {
            $(".searchEngineAll .subTitM").hide();
            for (var i = 0; i < breakAllIndex + totalViewCnt; i++) {
              $(".gridbox.search.searchEngine li").eq(i).show();
              $(".gridbox.search.searchEngine li").eq(i).parent().parent().parent().parent().find('.subTitM').show();
              if (parseInt(categoryTotalCount) > breakAllIndex + totalViewCnt) {
                $('#list-more-layer').show();
              } else {
                $('#list-more-layer').hide();
              }
            }
          } else {
            $(".searchEngineAll .subTitM").hide();
            $(".gridbox.search.searchEngine li").show();
            if (parseInt(categoryTotalCount) > dataCount) {
              $('#list-more-layer').show();
            } else {
              $('#list-more-layer').hide();
            }
          }
        } //yesdata
      } else { //error server
        $(".searchEngineWrap").hide();
        $('#list-more-layer').hide();
        $('#result-not-found span').text('"' + search_keyword + '"');
        $('#result-not-found').show();
      }
    }
  });
  /*var trackData = "{'searchTerm':'"+search_keyword.replace(/\n/g, " ").replace(/\'/g, "").replace(/\"/g, "")+"', 'searchResultCount':'"+searchCount+"', 'filter':{}}"; 
  _satellite.trackEvent(search_result_track_name, trackData);*/
}
//e: 190812-v2 edit
function brochureDown(carname, code) {
  //console.log("carname:"+carname+"/code:"+code);
  _trackEvent(
    $.extend(_dl, {
      brochure_vehicle_name: carname, // 차량명
      brochure_model_code: code, // 모델코드
      page_event: {
        brochure_download: true, // brochure download 시에
      }
    })
  );
}
function getServerURL(url) {
  var urlVal = url;
  if (location.port == '4502' || location.port == '4503') {
    urlVal = url + '.html';
  }
  if (location.port != '4502') {
    urlVal = urlVal.replace('/content/hyundai', '');
  }
  return urlVal;
}

//자동완성기능 - GT에 적용되어 있는 스크립트 영역 (참고용)
function fn_search_auto_complete(vKeyword, targetEL, listCnt){
  if(listCnt == undefined || !listCnt) listCnt = 5;  
  $.ajax({
      type: "POST",
      url: "/wsvc/in/search2.autocomplete.html",
      data : {"query" : vKeyword},
      dataType : 'json',
      success: function(resData) {
          var html = "";
          if(resData && resData.result[0] && resData.result[0].totalcount > 0){
             // resData=resData.replace(/[^\w\s]/gi, '');
              var recommend = resData.result[0].items;            
              for(var i=0; i<recommend.length; i++){
                  var recommendText = recommend[i].keyword;
                  recommendText = recommendText.replace(/\%20/ig, ' ');
				  recommendText = recommendText.replace(/[^\w\s]/gi, '');
                  if(i>=listCnt){
                      break;
                  }
                  var recommendTextCh = recommendText.replace(vKeyword,'<mark class="keyword">'+vKeyword+'</mark>');
                  html += '<li class="list autoComp" key-item="'+recommendText+'"><button class="link">'+recommendTextCh+'</button></li>';
              }  
          }          
          $(targetEL).html(html); //없으면 기존 data 삭제
          if(html){
              $(targetEL).show();    
          }else{
              $(targetEL).hide();
          }
          return true;            
      }
  });
}

$(function(){
  $("#searchTabWrap .tabArea .tab a").on("click",function(){
    $("#searchTabWrap .tabArea").removeClass("open");

    //s: 190816 - show &show schema layer 
    if($(this).parent('li').attr('data-item') =='ALL' && $(search_draw_target + " .schImgList").html() != ""){  
      $(search_draw_target + " .schImgList").show();    
    }else{
      $(search_draw_target + " .schImgList").hide();
    }
    //e: show &show schema layer 

  });


  //search kv에 클래스명 추가 - 190816 add
  $(".contentWrap > .parbase.search-result").siblings(".parbase.key-visual").find(".sectionWrap").addClass("search");

});
(function ( $ ) {
  var totalRecord = 0;
  var tmpBlockSize = 5;
  var pageNum = 0;
  var limit = 10;
  var keyword = "";
  var initSearch = ".btnSearch";
  var pagingSearch = ".paging .number button";
  var first        = ".paging .btnPaging.btnFirst";
  var last         = ".paging .btnPaging.btnLast";
  var prev         = ".paging .btnPaging.btnPrev";
  var next         = ".paging .btnPaging.btnNext";
  var loadMore     = ".btnWrap .btnMoreWhite";
  var data  = [];
  // search icon click event
  $(document).on("click", initSearch, function(){
      doSearch();
  });
  $(document).on("click", '.searchArea .btnReset', function(e){
      e.preventDefault();
      $(".searchArea .btnReset").hide();
      $(".searchArea .inputSearch").val("").focus();
  });
  $(document).on("keyup", '.searchArea .inputSearch', function(e){
      var linkLen = $(this).closest(".searchArea").find(".autoSearch .link").length;
      //console.log("105 : e.keyCode=%s, .link length=%d", e.keyCode, linkLen);       
      if($(this).val()){
          $(".searchArea .btnReset").show();
      }else{
          $(".searchArea .btnReset").hide();
      }
      if(e.keyCode == 13 || e.which == 13){
          doSearch();
          $(this).blur();
      }else if(e.keyCode == 40 && linkLen > 0){
          e.preventDefault();
          $(this).closest(".searchArea").find(".autoSearchList").show();
          $(this).closest(".searchArea").find(".autoSearchList .link").eq(0).focus();
//        }else if(e.keyCode != 38 && $(this).val().length >= SEARCH_AUTO_COMPLETE_MIN_COUNT){
//            fn_search_auto_complete($(this).val(), ".searchArea .autoSearch");
//            $(".searchArea .autoSearchList").show();
      }else {
          $(".searchArea .autoSearchList").hide();
      }
  });
  //click popular search keywords   
  $(document).on("click", '.searchWordlist .link', function(e){        
      fn_search_execute($(this).text());
  });
  function fn_search_execute(queryText){
      if($.trim(queryText) == ""){
          gfnAlert('type4', Granite.I18n.get("Search Message") , Granite.I18n.get("Enter the search keywords"));
          return false;
      }        
      // 길이 30 이상 검색어 제한
      if($.trim(queryText).length>30){
          gfnAlert('type4', Granite.I18n.get("Search Message") , Granite.I18n.get("Search words with more than 30 characters are not allowed."));
          return false;
      }
      var regexSearch = /["（""）""【""【""】""】""「""〔""〕""」""⑺""⑼""ⓟ""˚""✐""✎""☴""☲""�""♥"]/;
      var forbiddenMatch;
      forbiddenMatch = $.trim(queryText).match(regexSearch);
      if(forbiddenMatch){
          gfnAlert('type4', Granite.I18n.get("Search Message") , Granite.I18n.get("Keyword text contains invalid characters or symbols."));
          return false;
      }
//        fn_search_change_seo_data(queryText);
      $("#keyword").val(queryText);
//        fn_search_draw_list();
  }
  // page number click event
  $(document).on("click", pagingSearch, function(){
      $(this).addClass("on");
      $(this).siblings().removeClass("on");
      var page = parseInt($(this).data("page"));
      showData(data, page);
      if(page != 1) {
          $(first).show();
          $(prev).show();
      } else {
          $(first).hide();
          $(prev).hide();
      }
      if(page == pageNum) {
          $(last).hide();
          $(next).hide();
      } else {
          $(last).show();
          $(next).show();
      }
  });
  $(document).on("click", first, function() {
      $(pagingSearch).siblings().removeClass("on");
      $(pagingSearch + "#" + 1).addClass("on");
      showData(data, 1);
      showPageBtn(1);
  });
  $(document).on("click", last, function() {
      $(pagingSearch).siblings().removeClass("on");
      $(pagingSearch + "#" + pageNum).addClass("on");
      showData(data, pageNum);
      var pagesNum    = Math.floor(data.length/10) + ( data.length/10 > 0 ? 1:0);
      var lastBlock   = Math.floor(pagesNum/tmpBlockSize) + ( pagesNum/tmpBlockSize > 0 ? 1:0);
      showPageBtn(lastBlock);
  });
  $(document).on("click", prev, function() {
      var cur = $(pagingSearch).siblings(".on");
      var nowNum    = parseInt($(cur).data("page"));
      var nowBlock  = (Math.floor(nowNum/tmpBlockSize))+1;
      var prevBlock = nowBlock-1;
      var pr  = ((prevBlock-1)*tmpBlockSize) + 1;
      $(pagingSearch).siblings().removeClass("on");
      $(pagingSearch + "#" + pr).addClass("on");
      showData(data, pr);
      showPageBtn(prevBlock);
  });
  $(document).on("click", next, function() {
      var cur = $(pagingSearch).siblings(".on");
      var nowNum    = parseInt($(cur).data("page"));
      var nowBlock  = (Math.floor(nowNum/tmpBlockSize))+1;
      var nextBlock = nowBlock+1;
      var ne  = ((nextBlock-1)*tmpBlockSize) + 1;
      $(pagingSearch).siblings().removeClass("on");
      $(pagingSearch + "#" + ne).addClass("on");
      showData(data, ne);
      showPageBtn(nextBlock);
  });
  function showPageBtn(showBlockNum){
      $(".paging .number button").hide();
      var tmpStartNum = (showBlockNum-1)*tmpBlockSize+1;
      var tmpEndNum   = (showBlockNum)*tmpBlockSize+1;
      var pagesNum    = Math.floor(data.length/10) + ( data.length/10 > 0 ? 1:0);
      var lastBlock   = Math.floor(pagesNum/tmpBlockSize) + ( pagesNum/tmpBlockSize > 0 ? 1:0);
      $(".paging .number button").each(function(){
          var tmpPageNum = $(this).attr('data-page');
          if(tmpPageNum >= tmpStartNum && tmpPageNum < tmpEndNum){
              $(this).show();
          }
      });
      if(showBlockNum > 1){
          $(first).show();
          $(prev).show();
      }else{
          $(first).hide();
          $(prev).hide();
      }
      if(lastBlock == showBlockNum){
          $(last).hide();
          $(next).hide();
      } else {
          $(last).show();
          $(next).show()
      }
  }
  $(document).on("click",loadMore , function() {
      var tmpPageNum = parseInt( $(".sectionWrap .sectionInner .btnWrap .btnMoreWhite").attr('data-page') );
      var tmpNextPageNum = tmpPageNum + 1;
      var pagesNum    = Math.floor(data.length/10) + ( data.length/10 > 0 ? 1:0);
      showData(data, tmpNextPageNum);
      $(".sectionWrap .sectionInner .btnWrap .btnMoreWhite").attr('data-page',tmpNextPageNum);
      if( tmpNextPageNum == pagesNum ){
          $(".sectionWrap .sectionInner .btnWrap .btnMoreWhite").hide();
      }else{
          $(".sectionWrap .sectionInner .btnWrap .btnMoreWhite").show();
      }
  });
  // show data searched
  function showData(resData, page) {
      var htmlStr = "";
      if(page == 1 ) {
          for(var i = 1; i <= limit; i++) {
              if(data[i-1] != null) {
                  htmlStr += "<li>";
                  htmlStr += "<a href=\"" + data[i-1].path + "\">";
                  htmlStr += "<div class=\"txtArea\">";
                  htmlStr += "<h3 class=\"Tit\"><span class=\"txt_sky\">" + keyword + "&nbsp;&nbsp;</span>" + data[i-1].title + "</h3>";
                  htmlStr += "<p class=\"numTxt\">" + data[i-1].date + "</p>";
                  htmlStr += "<p class=\"Sub\">" + data[i-1].subTitle + "</p></div></a>";
                  htmlStr += "</li>";
              }
          }
      } else {
          var start = (page-1)*limit;
          var offsetLimit = start + limit - 1;
          for(var i = start; i < offsetLimit; i++) {
              if(data[i] != null) {
                  htmlStr += "<li>";
                  htmlStr += "<a href=\"" + data[i].path + "\">";
                  htmlStr += "<div class=\"txtArea\">";
                  htmlStr += "<h3 class=\"Tit\"><span class=\"txt_sky\">" + keyword + "&nbsp;&nbsp;</span>" + data[i].title + "</h3>";
                  htmlStr += "<p class=\"numTxt\">" + data[i].date + "</p>";
                  htmlStr += "<p class=\"Sub\">" + data[i].subTitle + "</p></div></a>";
                  htmlStr += "</li>";
              }
          }
      }
      //htmlStr += "</li>";
      $(".searchResult").find("dd").html("").append("\"" + keyword + "\"");
      if($(".sectionWrap .sectionInner .btnWrap").is(':hidden')){
          $(".searchList").find("ul").html("").append(htmlStr);
      }else{
          $(".searchList").find("ul").append(htmlStr);
      }  
  }
  // search content
  function doSearch(type) {
      $(".sectionInner .noTit").hide();
      $(".sectionInner .nosub").hide();
      $(".sectionWrap .sectionInner .btnWrap .btnMoreWhite").hide();
      keyword = $("#keyword").val();
      keyword = XSS_Check(keyword,0);
      keyword = keyword.replace(/[^\w\s]/gi, '');
      var dataUrl = "/wsvc/in/search?keyword=" + encodeURIComponent(keyword);
      $.ajax({
          type:"GET",
          url:dataUrl,
          dataType : 'json',
          async : false,
          success : function(resData) {
              data = resData.data;
              //page != 0 ? showData(resData,1) : showData(resData,0);
              totalRecord = data.length;
              if(totalRecord == 0 ){
                  $(".sectionInner .noTit .txt_sky").html('"'+ keyword + '"');
                  $(".sectionInner .noTit").show();
                  $(".sectionInner .nosub").show();
              }
                  pageNum = Math.ceil(totalRecord / limit);
                  $(".sectionWrap .sectionInner .btnWrap .btnMoreWhite").attr('data-page',1);
                  showData(data, 1);
                  var pagingHtml = "<button class=\"btnPaging btnFirst\" style=\"display:none;\">first</button>";
                  pagingHtml += "<button class=\"btnPaging btnPrev\" style=\"display:none;\">prev</button>"; 
                  pagingHtml += "<div class=\"number\">";
                  for(var i = 0; i < pageNum; i++) {
                      if(i == 0){
                          pagingHtml += "<button type=\"button\" id=\"" + (i+1) + "\"" + "data-page=\"" + (i + 1) + "\" class=\"on\">" + (i + 1) + "</button>";
                      } else {
                          var tempBtnStyle = '';
                          if(i > 4){
                              tempBtnStyle = 'display:none;';
                          }
                          pagingHtml += "<button type=\"button\" id=\"" + (i+1) + "\"" + "data-page=\"" + (i + 1) + "\"   style=\""+ tempBtnStyle +"\" >" + (i + 1) + "</button>";
                      }
                  }
                  pagingHtml += "</div>";
                  pagingHtml += "<button class=\"btnPaging btnNext\" type=\"button\">next</button>";
                  pagingHtml += "<button class=\"btnPaging btnLast\" type=\"button\">last</button>";
                  $(".paging").html(pagingHtml);
                  if(totalRecord > 10){
                      $(".sectionWrap .sectionInner .btnWrap .btnMoreWhite").show();
                  }
                  //[2019.01.23:전영우] GT : Start - Adobe Analytics 수정
                  if(totalRecord == 0 ){
                      $(".paging .btnNext").hide();
                      $(".paging .btnLast").hide();
                      _trackEvent(
                          $.extend(_dl,{
                              page_name : page, 
                              page_type : pageType,
                              page_template : pageTemplate,
                              page_url : pageUrl,
                              null_search_keyword : keyword, 
                              search_result_number : totalRecord,
                              search_type : "search",
                              page_event : {
                                  onsite_searches : true,
                              }   
                          })
                      );
                  }else{
                      _trackEvent(
                              $.extend(_dl,{
                                  page_name : page, 
                                  page_type : pageType,
                                  page_template : pageTemplate,
                                  page_url : pageUrl,
                                  search_keyword : keyword, 
                                  search_result_number : totalRecord,
                                  search_type : "search",
                                  page_event : {
                                      onsite_searches : true,
                                  }
                              })
                          );
                  }
                  //[2019.01.23:전영우] GT : End - Adobe Analytics 수정
                  $('.searchList > div > ul > li > a').click(function(){
                      _trackEvent(
                          $.extend(_dl,{ 
                              link_name : $(this).text().trim(),
                              page_event : {
                                  search_result_click : true,
                              }
                          })
                      );
                  });
          },
          error: function(request,status,error){
              console.log("search error!");
          }
      });
  }
  // search engine //* GT디자인가이드_20 190319 추가됨 // 190402 삭제
  $(document).ready(function(){
      // search Input 클릭 시, 최근 검색어
      $(".searchArea .search .inputBox .inputSearch").on("click", function(){
          if($(".autoSearchList.recentSearch").hasClass("on")){
              $(".autoSearchList.recentSearch").removeClass("on");
          } else{
              $(".autoSearchList.recentSearch").addClass("on");
          }
          // search Input 외 클릭 시 최근 검색어 닫기 (추가 190411)
          $('html').click(function(e) { 
              if(!$(e.target).hasClass("searchActive")) {
                  $(".autoSearchList.recentSearch").hide()
              }
          }); 
      })
      // search Input Button reset 클릭 시, 리셋
      $(".searchArea .btnReset").on("click",function(){
           $(".searchArea .autoSearchList").removeClass("on")
       })
      $(".gridbox.search.searchEngine li").show() //전체 list 보여주기 190402
      // tab 클릭시 해당 list만 보여주기 190402
      $("#searchTabWrap .tab").on("click",function(){
          var tabList = $(this).attr("name")
          var listNameClass="."+ tabList
          $("#searchTabWrap .tab").attr("aria-selected","false");
          $(this).attr("aria-selected","true");
          $(".searchEngineAll").hide()
          $(listNameClass).show()
      })
  }); 
})( jQuery );

